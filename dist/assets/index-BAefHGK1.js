function J_(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const o=Object.getOwnPropertyDescriptor(s,a);o&&Object.defineProperty(t,a,o.get?o:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function yy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function K_(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var y0={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function W_(){if(mv)return sh;mv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var g in a)g!=="key"&&(o[g]=a[g])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:o}}return sh.Fragment=e,sh.jsx=n,sh.jsxs=n,sh}var gv;function Q_(){return gv||(gv=1,y0.exports=W_()),y0.exports}var m=Q_(),v0={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function X_(){if(yv)return Lt;yv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.iterator;function F(ae){return ae===null||typeof ae!="object"?null:(ae=U&&ae[U]||ae["@@iterator"],typeof ae=="function"?ae:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,re={};function ce(ae,pe,ke){this.props=ae,this.context=pe,this.refs=re,this.updater=ke||L}ce.prototype.isReactComponent={},ce.prototype.setState=function(ae,pe){if(typeof ae!="object"&&typeof ae!="function"&&ae!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ae,pe,"setState")},ce.prototype.forceUpdate=function(ae){this.updater.enqueueForceUpdate(this,ae,"forceUpdate")};function ue(){}ue.prototype=ce.prototype;function te(ae,pe,ke){this.props=ae,this.context=pe,this.refs=re,this.updater=ke||L}var se=te.prototype=new ue;se.constructor=te,Q(se,ce.prototype),se.isPureReactComponent=!0;var le=Array.isArray;function me(){}var ve={H:null,A:null,T:null,S:null},Re=Object.prototype.hasOwnProperty;function Ne(ae,pe,ke){var Fe=ke.ref;return{$$typeof:t,type:ae,key:pe,ref:Fe!==void 0?Fe:null,props:ke}}function fe(ae,pe){return Ne(ae.type,pe,ae.props)}function Me(ae){return typeof ae=="object"&&ae!==null&&ae.$$typeof===t}function He(ae){var pe={"=":"=0",":":"=2"};return"$"+ae.replace(/[=:]/g,function(ke){return pe[ke]})}var pt=/\/+/g;function it(ae,pe){return typeof ae=="object"&&ae!==null&&ae.key!=null?He(""+ae.key):pe.toString(36)}function Rt(ae){switch(ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason;default:switch(typeof ae.status=="string"?ae.then(me,me):(ae.status="pending",ae.then(function(pe){ae.status==="pending"&&(ae.status="fulfilled",ae.value=pe)},function(pe){ae.status==="pending"&&(ae.status="rejected",ae.reason=pe)})),ae.status){case"fulfilled":return ae.value;case"rejected":throw ae.reason}}throw ae}function ie(ae,pe,ke,Fe,tt){var ct=typeof ae;(ct==="undefined"||ct==="boolean")&&(ae=null);var yt=!1;if(ae===null)yt=!0;else switch(ct){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(ae.$$typeof){case t:case e:yt=!0;break;case N:return yt=ae._init,ie(yt(ae._payload),pe,ke,Fe,tt)}}if(yt)return tt=tt(ae),yt=Fe===""?"."+it(ae,0):Fe,le(tt)?(ke="",yt!=null&&(ke=yt.replace(pt,"$&/")+"/"),ie(tt,pe,ke,"",function(mt){return mt})):tt!=null&&(Me(tt)&&(tt=fe(tt,ke+(tt.key==null||ae&&ae.key===tt.key?"":(""+tt.key).replace(pt,"$&/")+"/")+yt)),pe.push(tt)),1;yt=0;var qe=Fe===""?".":Fe+":";if(le(ae))for(var Pe=0;Pe<ae.length;Pe++)Fe=ae[Pe],ct=qe+it(Fe,Pe),yt+=ie(Fe,pe,ke,ct,tt);else if(Pe=F(ae),typeof Pe=="function")for(ae=Pe.call(ae),Pe=0;!(Fe=ae.next()).done;)Fe=Fe.value,ct=qe+it(Fe,Pe++),yt+=ie(Fe,pe,ke,ct,tt);else if(ct==="object"){if(typeof ae.then=="function")return ie(Rt(ae),pe,ke,Fe,tt);throw pe=String(ae),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(ae).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return yt}function ye(ae,pe,ke){if(ae==null)return ae;var Fe=[],tt=0;return ie(ae,Fe,"","",function(ct){return pe.call(ke,ct,tt++)}),Fe}function De(ae){if(ae._status===-1){var pe=ae._result;pe=pe(),pe.then(function(ke){(ae._status===0||ae._status===-1)&&(ae._status=1,ae._result=ke)},function(ke){(ae._status===0||ae._status===-1)&&(ae._status=2,ae._result=ke)}),ae._status===-1&&(ae._status=0,ae._result=pe)}if(ae._status===1)return ae._result.default;throw ae._result}var Ue=typeof reportError=="function"?reportError:function(ae){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ae=="object"&&ae!==null&&typeof ae.message=="string"?String(ae.message):String(ae),error:ae});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ae);return}console.error(ae)},je={map:ye,forEach:function(ae,pe,ke){ye(ae,function(){pe.apply(this,arguments)},ke)},count:function(ae){var pe=0;return ye(ae,function(){pe++}),pe},toArray:function(ae){return ye(ae,function(pe){return pe})||[]},only:function(ae){if(!Me(ae))throw Error("React.Children.only expected to receive a single React element child.");return ae}};return Lt.Activity=R,Lt.Children=je,Lt.Component=ce,Lt.Fragment=n,Lt.Profiler=a,Lt.PureComponent=te,Lt.StrictMode=s,Lt.Suspense=v,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(ae){return ve.H.useMemoCache(ae)}},Lt.cache=function(ae){return function(){return ae.apply(null,arguments)}},Lt.cacheSignal=function(){return null},Lt.cloneElement=function(ae,pe,ke){if(ae==null)throw Error("The argument must be a React element, but you passed "+ae+".");var Fe=Q({},ae.props),tt=ae.key;if(pe!=null)for(ct in pe.key!==void 0&&(tt=""+pe.key),pe)!Re.call(pe,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&pe.ref===void 0||(Fe[ct]=pe[ct]);var ct=arguments.length-2;if(ct===1)Fe.children=ke;else if(1<ct){for(var yt=Array(ct),qe=0;qe<ct;qe++)yt[qe]=arguments[qe+2];Fe.children=yt}return Ne(ae.type,tt,Fe)},Lt.createContext=function(ae){return ae={$$typeof:u,_currentValue:ae,_currentValue2:ae,_threadCount:0,Provider:null,Consumer:null},ae.Provider=ae,ae.Consumer={$$typeof:o,_context:ae},ae},Lt.createElement=function(ae,pe,ke){var Fe,tt={},ct=null;if(pe!=null)for(Fe in pe.key!==void 0&&(ct=""+pe.key),pe)Re.call(pe,Fe)&&Fe!=="key"&&Fe!=="__self"&&Fe!=="__source"&&(tt[Fe]=pe[Fe]);var yt=arguments.length-2;if(yt===1)tt.children=ke;else if(1<yt){for(var qe=Array(yt),Pe=0;Pe<yt;Pe++)qe[Pe]=arguments[Pe+2];tt.children=qe}if(ae&&ae.defaultProps)for(Fe in yt=ae.defaultProps,yt)tt[Fe]===void 0&&(tt[Fe]=yt[Fe]);return Ne(ae,ct,tt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(ae){return{$$typeof:g,render:ae}},Lt.isValidElement=Me,Lt.lazy=function(ae){return{$$typeof:N,_payload:{_status:-1,_result:ae},_init:De}},Lt.memo=function(ae,pe){return{$$typeof:p,type:ae,compare:pe===void 0?null:pe}},Lt.startTransition=function(ae){var pe=ve.T,ke={};ve.T=ke;try{var Fe=ae(),tt=ve.S;tt!==null&&tt(ke,Fe),typeof Fe=="object"&&Fe!==null&&typeof Fe.then=="function"&&Fe.then(me,Ue)}catch(ct){Ue(ct)}finally{pe!==null&&ke.types!==null&&(pe.types=ke.types),ve.T=pe}},Lt.unstable_useCacheRefresh=function(){return ve.H.useCacheRefresh()},Lt.use=function(ae){return ve.H.use(ae)},Lt.useActionState=function(ae,pe,ke){return ve.H.useActionState(ae,pe,ke)},Lt.useCallback=function(ae,pe){return ve.H.useCallback(ae,pe)},Lt.useContext=function(ae){return ve.H.useContext(ae)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(ae,pe){return ve.H.useDeferredValue(ae,pe)},Lt.useEffect=function(ae,pe){return ve.H.useEffect(ae,pe)},Lt.useEffectEvent=function(ae){return ve.H.useEffectEvent(ae)},Lt.useId=function(){return ve.H.useId()},Lt.useImperativeHandle=function(ae,pe,ke){return ve.H.useImperativeHandle(ae,pe,ke)},Lt.useInsertionEffect=function(ae,pe){return ve.H.useInsertionEffect(ae,pe)},Lt.useLayoutEffect=function(ae,pe){return ve.H.useLayoutEffect(ae,pe)},Lt.useMemo=function(ae,pe){return ve.H.useMemo(ae,pe)},Lt.useOptimistic=function(ae,pe){return ve.H.useOptimistic(ae,pe)},Lt.useReducer=function(ae,pe,ke){return ve.H.useReducer(ae,pe,ke)},Lt.useRef=function(ae){return ve.H.useRef(ae)},Lt.useState=function(ae){return ve.H.useState(ae)},Lt.useSyncExternalStore=function(ae,pe,ke){return ve.H.useSyncExternalStore(ae,pe,ke)},Lt.useTransition=function(){return ve.H.useTransition()},Lt.version="19.2.0",Lt}var vv;function vy(){return vv||(vv=1,v0.exports=X_()),v0.exports}var ee=vy();const $b=yy(ee);var x0={exports:{}},ih={},b0={exports:{}},w0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function Z_(){return xv||(xv=1,(function(t){function e(ie,ye){var De=ie.length;ie.push(ye);e:for(;0<De;){var Ue=De-1>>>1,je=ie[Ue];if(0<a(je,ye))ie[Ue]=ye,ie[De]=je,De=Ue;else break e}}function n(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var ye=ie[0],De=ie.pop();if(De!==ye){ie[0]=De;e:for(var Ue=0,je=ie.length,ae=je>>>1;Ue<ae;){var pe=2*(Ue+1)-1,ke=ie[pe],Fe=pe+1,tt=ie[Fe];if(0>a(ke,De))Fe<je&&0>a(tt,ke)?(ie[Ue]=tt,ie[Fe]=De,Ue=Fe):(ie[Ue]=ke,ie[pe]=De,Ue=pe);else if(Fe<je&&0>a(tt,De))ie[Ue]=tt,ie[Fe]=De,Ue=Fe;else break e}}return ye}function a(ie,ye){var De=ie.sortIndex-ye.sortIndex;return De!==0?De:ie.id-ye.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,g=u.now();t.unstable_now=function(){return u.now()-g}}var v=[],p=[],N=1,R=null,U=3,F=!1,L=!1,Q=!1,re=!1,ce=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function se(ie){for(var ye=n(p);ye!==null;){if(ye.callback===null)s(p);else if(ye.startTime<=ie)s(p),ye.sortIndex=ye.expirationTime,e(v,ye);else break;ye=n(p)}}function le(ie){if(Q=!1,se(ie),!L)if(n(v)!==null)L=!0,me||(me=!0,He());else{var ye=n(p);ye!==null&&Rt(le,ye.startTime-ie)}}var me=!1,ve=-1,Re=5,Ne=-1;function fe(){return re?!0:!(t.unstable_now()-Ne<Re)}function Me(){if(re=!1,me){var ie=t.unstable_now();Ne=ie;var ye=!0;try{e:{L=!1,Q&&(Q=!1,ue(ve),ve=-1),F=!0;var De=U;try{t:{for(se(ie),R=n(v);R!==null&&!(R.expirationTime>ie&&fe());){var Ue=R.callback;if(typeof Ue=="function"){R.callback=null,U=R.priorityLevel;var je=Ue(R.expirationTime<=ie);if(ie=t.unstable_now(),typeof je=="function"){R.callback=je,se(ie),ye=!0;break t}R===n(v)&&s(v),se(ie)}else s(v);R=n(v)}if(R!==null)ye=!0;else{var ae=n(p);ae!==null&&Rt(le,ae.startTime-ie),ye=!1}}break e}finally{R=null,U=De,F=!1}ye=void 0}}finally{ye?He():me=!1}}}var He;if(typeof te=="function")He=function(){te(Me)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,it=pt.port2;pt.port1.onmessage=Me,He=function(){it.postMessage(null)}}else He=function(){ce(Me,0)};function Rt(ie,ye){ve=ce(function(){ie(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return U},t.unstable_next=function(ie){switch(U){case 1:case 2:case 3:var ye=3;break;default:ye=U}var De=U;U=ye;try{return ie()}finally{U=De}},t.unstable_requestPaint=function(){re=!0},t.unstable_runWithPriority=function(ie,ye){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var De=U;U=ie;try{return ye()}finally{U=De}},t.unstable_scheduleCallback=function(ie,ye,De){var Ue=t.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?Ue+De:Ue):De=Ue,ie){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=De+je,ie={id:N++,callback:ye,priorityLevel:ie,startTime:De,expirationTime:je,sortIndex:-1},De>Ue?(ie.sortIndex=De,e(p,ie),n(v)===null&&ie===n(p)&&(Q?(ue(ve),ve=-1):Q=!0,Rt(le,De-Ue))):(ie.sortIndex=je,e(v,ie),L||F||(L=!0,me||(me=!0,He()))),ie},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(ie){var ye=U;return function(){var De=U;U=ye;try{return ie.apply(this,arguments)}finally{U=De}}}})(w0)),w0}var bv;function eS(){return bv||(bv=1,b0.exports=Z_()),b0.exports}var _0={exports:{}},Br={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function tS(){if(wv)return Br;wv=1;var t=vy();function e(v){var p="https://react.dev/errors/"+v;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)p+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+v+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(v,p,N){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:R==null?null:""+R,children:v,containerInfo:p,implementation:N}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,p){if(v==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Br.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Br.createPortal=function(v,p){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(v,p,null,N)},Br.flushSync=function(v){var p=u.T,N=s.p;try{if(u.T=null,s.p=2,v)return v()}finally{u.T=p,s.p=N,s.d.f()}},Br.preconnect=function(v,p){typeof v=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(v,p))},Br.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Br.preinit=function(v,p){if(typeof v=="string"&&p&&typeof p.as=="string"){var N=p.as,R=g(N,p.crossOrigin),U=typeof p.integrity=="string"?p.integrity:void 0,F=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;N==="style"?s.d.S(v,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:U,fetchPriority:F}):N==="script"&&s.d.X(v,{crossOrigin:R,integrity:U,fetchPriority:F,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Br.preinitModule=function(v,p){if(typeof v=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var N=g(p.as,p.crossOrigin);s.d.M(v,{crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(v)},Br.preload=function(v,p){if(typeof v=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var N=p.as,R=g(N,p.crossOrigin);s.d.L(v,N,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Br.preloadModule=function(v,p){if(typeof v=="string")if(p){var N=g(p.as,p.crossOrigin);s.d.m(v,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(v)},Br.requestFormReset=function(v){s.d.r(v)},Br.unstable_batchedUpdates=function(v,p){return v(p)},Br.useFormState=function(v,p,N){return u.H.useFormState(v,p,N)},Br.useFormStatus=function(){return u.H.useHostTransitionStatus()},Br.version="19.2.0",Br}var _v;function nS(){if(_v)return _0.exports;_v=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_0.exports=tS(),_0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function rS(){if(Sv)return ih;Sv=1;var t=eS(),e=vy(),n=nS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,l=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(l=i.return),r=i.return;while(r)}return i.tag===3?l:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function g(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function v(r){if(o(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var l=r,f=i;;){var A=l.return;if(A===null)break;var D=A.alternate;if(D===null){if(f=A.return,f!==null){l=f;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===l)return v(A),r;if(D===f)return v(A),i;D=D.sibling}throw Error(s(188))}if(l.return!==f.return)l=A,f=D;else{for(var H=!1,K=A.child;K;){if(K===l){H=!0,l=A,f=D;break}if(K===f){H=!0,f=A,l=D;break}K=K.sibling}if(!H){for(K=D.child;K;){if(K===l){H=!0,l=D,f=A;break}if(K===f){H=!0,f=D,l=A;break}K=K.sibling}if(!H)throw Error(s(189))}}if(l.alternate!==f)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?r:i}function N(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=N(r),i!==null)return i;r=r.sibling}return null}var R=Object.assign,U=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),te=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),Ne=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function He(r){return r===null||typeof r!="object"?null:(r=Me&&r[Me]||r["@@iterator"],typeof r=="function"?r:null)}var pt=Symbol.for("react.client.reference");function it(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===pt?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Q:return"Fragment";case ce:return"Profiler";case re:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case Ne:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case L:return"Portal";case te:return r.displayName||"Context";case ue:return(r._context.displayName||"Context")+".Consumer";case se:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ve:return i=r.displayName||null,i!==null?i:it(r.type)||"Memo";case Re:i=r._payload,r=r._init;try{return it(r(i))}catch{}}return null}var Rt=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ue=[],je=-1;function ae(r){return{current:r}}function pe(r){0>je||(r.current=Ue[je],Ue[je]=null,je--)}function ke(r,i){je++,Ue[je]=r.current,r.current=i}var Fe=ae(null),tt=ae(null),ct=ae(null),yt=ae(null);function qe(r,i){switch(ke(ct,i),ke(tt,r),ke(Fe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?E(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=E(i),r=_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Fe),ke(Fe,r)}function Pe(){pe(Fe),pe(tt),pe(ct)}function mt(r){r.memoizedState!==null&&ke(yt,r);var i=Fe.current,l=_(i,r.type);i!==l&&(ke(tt,r),ke(Fe,l))}function at(r){tt.current===r&&(pe(Fe),pe(tt)),yt.current===r&&(pe(yt),zt._currentValue=De)}var vt,Yt;function Vt(r){if(vt===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);vt=i&&i[1]||"",Yt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vt+r+Yt}var _n=!1;function Ft(r,i){if(!r||_n)return"";_n=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Ie){var Ce=Ie}Reflect.construct(r,[],ze)}else{try{ze.call()}catch(Ie){Ce=Ie}r.call(ze.prototype)}}else{try{throw Error()}catch(Ie){Ce=Ie}(ze=r())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Ie){if(Ie&&Ce&&typeof Ie.stack=="string")return[Ie.stack,Ce.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=f.DetermineComponentFrameRoot(),H=D[0],K=D[1];if(H&&K){var de=H.split(`
`),Se=K.split(`
`);for(A=f=0;f<de.length&&!de[f].includes("DetermineComponentFrameRoot");)f++;for(;A<Se.length&&!Se[A].includes("DetermineComponentFrameRoot");)A++;if(f===de.length||A===Se.length)for(f=de.length-1,A=Se.length-1;1<=f&&0<=A&&de[f]!==Se[A];)A--;for(;1<=f&&0<=A;f--,A--)if(de[f]!==Se[A]){if(f!==1||A!==1)do if(f--,A--,0>A||de[f]!==Se[A]){var Oe=`
`+de[f].replace(" at new "," at ");return r.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",r.displayName)),Oe}while(1<=f&&0<=A);break}}}finally{_n=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Vt(l):""}function Zt(r,i){switch(r.tag){case 26:case 27:case 5:return Vt(r.type);case 16:return Vt("Lazy");case 13:return r.child!==i&&i!==null?Vt("Suspense Fallback"):Vt("Suspense");case 19:return Vt("SuspenseList");case 0:case 15:return Ft(r.type,!1);case 11:return Ft(r.type.render,!1);case 1:return Ft(r.type,!0);case 31:return Vt("Activity");default:return""}}function jn(r){try{var i="",l=null;do i+=Zt(r,l),l=r,r=r.return;while(r);return i}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var qn=Object.prototype.hasOwnProperty,ts=t.unstable_scheduleCallback,ns=t.unstable_cancelCallback,mr=t.unstable_shouldYield,Ge=t.unstable_requestPaint,Ye=t.unstable_now,At=t.unstable_getCurrentPriorityLevel,en=t.unstable_ImmediatePriority,Ns=t.unstable_UserBlockingPriority,It=t.unstable_NormalPriority,Sn=t.unstable_LowPriority,Sr=t.unstable_IdlePriority,Bo=t.log,cs=t.unstable_setDisableYieldValue,Ua=null,Er=null;function ei(r){if(typeof Bo=="function"&&cs(r),Er&&typeof Er.setStrictMode=="function")try{Er.setStrictMode(Ua,r)}catch{}}var nr=Math.clz32?Math.clz32:rs,Cr=Math.log,Zl=Math.LN2;function rs(r){return r>>>=0,r===0?32:31-(Cr(r)/Zl|0)|0}var ti=256,qo=262144,ec=4194304;function Ti(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $o(r,i,l){var f=r.pendingLanes;if(f===0)return 0;var A=0,D=r.suspendedLanes,H=r.pingedLanes;r=r.warmLanes;var K=f&134217727;return K!==0?(f=K&~D,f!==0?A=Ti(f):(H&=K,H!==0?A=Ti(H):l||(l=K&~r,l!==0&&(A=Ti(l))))):(K=f&~D,K!==0?A=Ti(K):H!==0?A=Ti(H):l||(l=f&~r,l!==0&&(A=Ti(l)))),A===0?0:i!==0&&i!==A&&(i&D)===0&&(D=A&-A,l=i&-i,D>=l||D===32&&(l&4194048)!==0)?i:A}function Wi(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Eh(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tc(){var r=ec;return ec<<=1,(ec&62914560)===0&&(ec=4194304),r}function cn(r){for(var i=[],l=0;31>l;l++)i.push(r);return i}function Tr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Dg(r,i,l,f,A,D){var H=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var K=r.entanglements,de=r.expirationTimes,Se=r.hiddenUpdates;for(l=H&~l;0<l;){var Oe=31-nr(l),ze=1<<Oe;K[Oe]=0,de[Oe]=-1;var Ce=Se[Oe];if(Ce!==null)for(Se[Oe]=null,Oe=0;Oe<Ce.length;Oe++){var Ie=Ce[Oe];Ie!==null&&(Ie.lane&=-536870913)}l&=~ze}f!==0&&Wu(r,f,0),D!==0&&A===0&&r.tag!==0&&(r.suspendedLanes|=D&~(H&~i))}function Wu(r,i,l){r.pendingLanes|=i,r.suspendedLanes&=~i;var f=31-nr(i);r.entangledLanes|=i,r.entanglements[f]=r.entanglements[f]|1073741824|l&261930}function Qu(r,i){var l=r.entangledLanes|=i;for(r=r.entanglements;l;){var f=31-nr(l),A=1<<f;A&i|r[f]&i&&(r[f]|=i),l&=~A}}function nc(r,i){var l=i&-i;return l=(l&42)!==0?1:zo(l),(l&(r.suspendedLanes|i))!==0?0:l}function zo(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Xu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ch(){var r=ye.p;return r!==0?r:(r=window.event,r===void 0?32:lv(r.type))}function Th(r,i){var l=ye.p;try{return ye.p=r,i()}finally{ye.p=l}}var Ai=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ai,Ar="__reactProps$"+Ai,ja="__reactContainer$"+Ai,Zu="__reactEvents$"+Ai,Pg="__reactListeners$"+Ai,Mg="__reactHandles$"+Ai,ed="__reactResources$"+Ai,La="__reactMarker$"+Ai;function rc(r){delete r[lr],delete r[Ar],delete r[Zu],delete r[Pg],delete r[Mg]}function Qi(r){var i=r[lr];if(i)return i;for(var l=r.parentNode;l;){if(i=l[ja]||l[lr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(r=Le(r);r!==null;){if(l=r[lr])return l;r=Le(r)}return i}r=l,l=r.parentNode}return null}function Xi(r){if(r=r[lr]||r[ja]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Ba(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Zi(r){var i=r[ed];return i||(i=r[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Wn(r){r[La]=!0}var td=new Set,nd={};function ks(r,i){qa(r,i),qa(r+"Capture",i)}function qa(r,i){for(nd[r]=i,r=0;r<i.length;r++)td.add(i[r])}var Og=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ah={},rd={};function Ug(r){return qn.call(rd,r)?!0:qn.call(Ah,r)?!1:Og.test(r)?rd[r]=!0:(Ah[r]=!0,!1)}function ea(r,i,l){if(Ug(i))if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+l)}}function us(r,i,l){if(l===null)r.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+l)}}function Is(r,i,l,f){if(f===null)r.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(i,l,""+f)}}function gr(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function sd(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jg(r,i,l){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var A=f.get,D=f.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return A.call(this)},set:function(H){l=""+H,D.call(this,H)}}),Object.defineProperty(r,i,{enumerable:f.enumerable}),{getValue:function(){return l},setValue:function(H){l=""+H},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function id(r){if(!r._valueTracker){var i=sd(r)?"checked":"value";r._valueTracker=jg(r,i,""+r[i])}}function Nr(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var l=i.getValue(),f="";return r&&(f=sd(r)?r.checked?"true":"false":r.value),r=f,r!==l?(i.setValue(r),!0):!1}function sc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Nh=/[\n"\\]/g;function zr(r){return r.replace(Nh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $a(r,i,l,f,A,D,H,K){r.name="",H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?r.type=H:r.removeAttribute("type"),i!=null?H==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+gr(i)):r.value!==""+gr(i)&&(r.value=""+gr(i)):H!=="submit"&&H!=="reset"||r.removeAttribute("value"),i!=null?za(r,H,gr(i)):l!=null?za(r,H,gr(l)):f!=null&&r.removeAttribute("value"),A==null&&D!=null&&(r.defaultChecked=!!D),A!=null&&(r.checked=A&&typeof A!="function"&&typeof A!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?r.name=""+gr(K):r.removeAttribute("name")}function ic(r,i,l,f,A,D,H,K){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.type=D),i!=null||l!=null){if(!(D!=="submit"&&D!=="reset"||i!=null)){id(r);return}l=l!=null?""+gr(l):"",i=i!=null?""+gr(i):l,K||i===r.value||(r.value=i),r.defaultValue=i}f=f??A,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=K?r.checked:!!f,r.defaultChecked=!!f,H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(r.name=H),id(r)}function za(r,i,l){i==="number"&&sc(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function an(r,i,l,f){if(r=r.options,i){i={};for(var A=0;A<l.length;A++)i["$"+l[A]]=!0;for(l=0;l<r.length;l++)A=i.hasOwnProperty("$"+r[l].value),r[l].selected!==A&&(r[l].selected=A),A&&f&&(r[l].defaultSelected=!0)}else{for(l=""+gr(l),i=null,A=0;A<r.length;A++){if(r[A].value===l){r[A].selected=!0,f&&(r[A].defaultSelected=!0);return}i!==null||r[A].disabled||(i=r[A])}i!==null&&(i.selected=!0)}}function ad(r,i,l){if(i!=null&&(i=""+gr(i),i!==r.value&&(r.value=i),l==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=l!=null?""+gr(l):""}function ta(r,i,l,f){if(i==null){if(f!=null){if(l!=null)throw Error(s(92));if(Rt(f)){if(1<f.length)throw Error(s(93));f=f[0]}l=f}l==null&&(l=""),i=l}l=gr(i),r.defaultValue=l,f=r.textContent,f===l&&f!==""&&f!==null&&(r.value=f),id(r)}function Rs(r,i){if(i){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=i;return}}r.textContent=i}var Lg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kh(r,i,l){var f=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":f?r.setProperty(i,l):typeof l!="number"||l===0||Lg.has(i)?i==="float"?r.cssFloat=l:r[i]=(""+l).trim():r[i]=l+"px"}function Ih(r,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var A in i)f=i[A],i.hasOwnProperty(A)&&l[A]!==f&&kh(r,A,f)}else for(var D in i)i.hasOwnProperty(D)&&kh(r,D,i[D])}function ac(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oc(r){return qg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ds(){}var od=null;function ld(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Va=null,ni=null;function Rh(r){var i=Xi(r);if(i&&(r=i.stateNode)){var l=r[Ar]||null;e:switch(r=i.stateNode,i.type){case"input":if($a(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zr(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var f=l[i];if(f!==r&&f.form===r.form){var A=f[Ar]||null;if(!A)throw Error(s(90));$a(f,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(i=0;i<l.length;i++)f=l[i],f.form===r.form&&Nr(f)}break e;case"textarea":ad(r,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&an(r,!!l.multiple,i,!1)}}}var Vo=!1;function cd(r,i,l){if(Vo)return r(i,l);Vo=!0;try{var f=r(i);return f}finally{if(Vo=!1,(Va!==null||ni!==null)&&(pu(),Va&&(i=Va,r=ni,ni=Va=null,Rh(i),r)))for(i=0;i<r.length;i++)Rh(r[i])}}function Fa(r,i){var l=r.stateNode;if(l===null)return null;var f=l[Ar]||null;if(f===null)return null;l=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(ri)try{var na={};Object.defineProperty(na,"passive",{get:function(){lc=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{lc=!1}var si=null,ra=null,Hn=null;function Ps(){if(Hn)return Hn;var r,i=ra,l=i.length,f,A="value"in si?si.value:si.textContent,D=A.length;for(r=0;r<l&&i[r]===A[r];r++);var H=l-r;for(f=1;f<=H&&i[l-f]===A[D-f];f++);return Hn=A.slice(r,1<f?1-f:void 0)}function sa(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function cc(){return!0}function ud(){return!1}function kr(r){function i(l,f,A,D,H){this._reactName=l,this._targetInst=A,this.type=f,this.nativeEvent=D,this.target=H,this.currentTarget=null;for(var K in r)r.hasOwnProperty(K)&&(l=r[K],this[K]=l?l(D):D[K]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?cc:ud,this.isPropagationStopped=ud,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),i}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=kr(ia),Ho=R({},ia,{view:0,detail:0}),Dh=kr(Ho),Go,uc,Ha,Ga=R({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ha&&(Ha&&r.type==="mousemove"?(Go=r.screenX-Ha.screenX,uc=r.screenY-Ha.screenY):uc=Go=0,Ha=r),Go)},movementY:function(r){return"movementY"in r?r.movementY:uc}}),dd=kr(Ga),dc=R({},Ga,{dataTransfer:0}),fd=kr(dc),fc=R({},Ho,{relatedTarget:0}),Ya=kr(fc),hc=R({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),aa=kr(hc),hd=R({},ia,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),pd=kr(hd),$g=R({},ia,{data:0}),Ph=kr($g),Mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oh(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Yo[r])?!!i[r]:!1}function Jo(){return Oh}var zg=R({},Ho,{key:function(r){if(r.key){var i=Mh[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?md[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(r){return r.type==="keypress"?sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Uh=kr(zg),Vg=R({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jh=kr(Vg),gd=R({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Lh=kr(gd),yd=R({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bh=kr(yd),qh=R({},Ga,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=kr(qh),Hg=R({},ia,{newState:0,oldState:0}),ss=kr(Hg),En=[9,13,27,32],Rn=ri&&"CompositionEvent"in window,ds=null;ri&&"documentMode"in document&&(ds=document.documentMode);var $h=ri&&"TextEvent"in window&&!ds,pc=ri&&(!Rn||ds&&8<ds&&11>=ds),zh=" ",Vh=!1;function Fh(r,i){switch(r){case"keyup":return En.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ko(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Vr=!1;function dr(r,i){switch(r){case"compositionend":return Ko(i);case"keypress":return i.which!==32?null:(Vh=!0,zh);case"textInput":return r=i.data,r===zh&&Vh?null:r;default:return null}}function vd(r,i){if(Vr)return r==="compositionend"||!Rn&&Fh(r,i)?(r=Ps(),Hn=ra=si=null,Vr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pc&&i.locale!=="ko"?null:i.data;default:return null}}var Hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Hh[r.type]:i==="textarea"}function mc(r,i,l,f){Va?ni?ni.push(f):ni=[f]:Va=f,i=Ys(i,"onChange"),0<i.length&&(l=new Fo("onChange","change",null,l,f),r.push({event:l,listeners:i}))}var Ja=null,Ka=null;function Gh(r){Pm(r,0)}function Wa(r){var i=Ba(r);if(Nr(i))return r}function bd(r,i){if(r==="change")return i}var wd=!1;if(ri){var gc;if(ri){var Qa="oninput"in document;if(!Qa){var Yh=document.createElement("div");Yh.setAttribute("oninput","return;"),Qa=typeof Yh.oninput=="function"}gc=Qa}else gc=!1;wd=gc&&(!document.documentMode||9<document.documentMode)}function yc(){Ja&&(Ja.detachEvent("onpropertychange",Jh),Ka=Ja=null)}function Jh(r){if(r.propertyName==="value"&&Wa(Ka)){var i=[];mc(i,Ka,r,ld(r)),cd(Gh,i)}}function Kh(r,i,l){r==="focusin"?(yc(),Ja=i,Ka=l,Ja.attachEvent("onpropertychange",Jh)):r==="focusout"&&yc()}function Wh(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wa(Ka)}function Qh(r,i){if(r==="click")return Wa(i)}function Xh(r,i){if(r==="input"||r==="change")return Wa(i)}function Gg(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Ir=typeof Object.is=="function"?Object.is:Gg;function Wo(r,i){if(Ir(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var l=Object.keys(r),f=Object.keys(i);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var A=l[f];if(!qn.call(i,A)||!Ir(r[A],i[A]))return!1}return!0}function Zh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ep(r,i){var l=Zh(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=i&&f>=i)return{node:l,offset:i-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Zh(l)}}function tp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?tp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function np(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=sc(r.document);i instanceof r.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)r=i.contentWindow;else break;i=sc(r.document)}return i}function _d(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var ii=ri&&"documentMode"in document&&11>=document.documentMode,ai=null,Xa=null,Qo=null,Sd=!1;function Ed(r,i,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sd||ai==null||ai!==sc(f)||(f=ai,"selectionStart"in f&&_d(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Qo&&Wo(Qo,f)||(Qo=f,f=Ys(Xa,"onSelect"),0<f.length&&(i=new Fo("onSelect","select",null,i,l),r.push({event:i,listeners:f}),i.target=ai)))}function oi(r,i){var l={};return l[r.toLowerCase()]=i.toLowerCase(),l["Webkit"+r]="webkit"+i,l["Moz"+r]="moz"+i,l}var oa={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Cd={},rp={};ri&&(rp=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function la(r){if(Cd[r])return Cd[r];if(!oa[r])return r;var i=oa[r],l;for(l in i)if(i.hasOwnProperty(l)&&l in rp)return Cd[r]=i[l];return r}var ca=la("animationend"),Td=la("animationiteration"),sp=la("animationstart"),Ad=la("transitionrun"),ip=la("transitionstart"),ap=la("transitioncancel"),vc=la("transitionend"),Nd=new Map,Xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xo.push("scrollEnd");function rr(r,i){Nd.set(r,i),ks(i,[r])}var Zo=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},fr=[],ua=0,xc=0;function da(){for(var r=ua,i=xc=ua=0;i<r;){var l=fr[i];fr[i++]=null;var f=fr[i];fr[i++]=null;var A=fr[i];fr[i++]=null;var D=fr[i];if(fr[i++]=null,f!==null&&A!==null){var H=f.pending;H===null?A.next=A:(A.next=H.next,H.next=A),f.pending=A}D!==0&&tl(l,A,D)}}function el(r,i,l,f){fr[ua++]=r,fr[ua++]=i,fr[ua++]=l,fr[ua++]=f,xc|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function ut(r,i,l,f){return el(r,i,l,f),Za(r)}function fa(r,i){return el(r,null,null,i),Za(r)}function tl(r,i,l){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l);for(var A=!1,D=r.return;D!==null;)D.childLanes|=l,f=D.alternate,f!==null&&(f.childLanes|=l),D.tag===22&&(r=D.stateNode,r===null||r._visibility&1||(A=!0)),r=D,D=D.return;return r.tag===3?(D=r.stateNode,A&&i!==null&&(A=31-nr(l),r=D.hiddenUpdates,f=r[A],f===null?r[A]=[i]:f.push(i),i.lane=l|536870912),D):null}function Za(r){if(50<Pl)throw Pl=0,Pf=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var eo={};function op(r,i,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(r,i,l,f){return new op(r,i,l,f)}function bc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ms(r,i){var l=r.alternate;return l===null?(l=Rr(r.tag,i,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=i,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,i=r.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function kd(r,i){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,i=l.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function nl(r,i,l,f,A,D){var H=0;if(f=r,typeof r=="function")bc(r)&&(H=1);else if(typeof r=="string")H=er(r,l,Fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case Ne:return r=Rr(31,l,i,A),r.elementType=Ne,r.lanes=D,r;case Q:return Ni(l.children,A,D,i);case re:H=8,A|=24;break;case ce:return r=Rr(12,l,i,A|2),r.elementType=ce,r.lanes=D,r;case le:return r=Rr(13,l,i,A),r.elementType=le,r.lanes=D,r;case me:return r=Rr(19,l,i,A),r.elementType=me,r.lanes=D,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case te:H=10;break e;case ue:H=9;break e;case se:H=11;break e;case ve:H=14;break e;case Re:H=16,f=null;break e}H=29,l=Error(s(130,r===null?"null":typeof r,"")),f=null}return i=Rr(H,l,i,A),i.elementType=r,i.type=f,i.lanes=D,i}function Ni(r,i,l,f){return r=Rr(7,r,f,i),r.lanes=l,r}function wc(r,i,l){return r=Rr(6,r,null,i),r.lanes=l,r}function _c(r){var i=Rr(18,null,null,0);return i.stateNode=r,i}function Sc(r,i,l){return i=Rr(4,r.children!==null?r.children:[],r.key,i),i.lanes=l,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var lp=new WeakMap;function Dr(r,i){if(typeof r=="object"&&r!==null){var l=lp.get(r);return l!==void 0?l:(i={value:r,source:i,stack:jn(i)},lp.set(r,i),i)}return{value:r,source:i,stack:jn(i)}}var Ln=[],to=0,rl=null,sl=0,hr=[],Pr=0,ki=null,is=1,fs="";function hs(r,i){Ln[to++]=sl,Ln[to++]=rl,rl=r,sl=i}function Ec(r,i,l){hr[Pr++]=is,hr[Pr++]=fs,hr[Pr++]=ki,ki=r;var f=is;r=fs;var A=32-nr(f)-1;f&=~(1<<A),l+=1;var D=32-nr(i)+A;if(30<D){var H=A-A%5;D=(f&(1<<H)-1).toString(32),f>>=H,A-=H,is=1<<32-nr(i)+A|l<<A|f,fs=D+r}else is=1<<D|l<<A|f,fs=r}function Id(r){r.return!==null&&(hs(r,1),Ec(r,1,0))}function vn(r){for(;r===rl;)rl=Ln[--to],Ln[to]=null,sl=Ln[--to],Ln[to]=null;for(;r===ki;)ki=hr[--Pr],hr[Pr]=null,fs=hr[--Pr],hr[Pr]=null,is=hr[--Pr],hr[Pr]=null}function Fr(r,i){hr[Pr++]=is,hr[Pr++]=fs,hr[Pr++]=ki,is=i.id,fs=i.overflow,ki=r}var bn=null,Mt=null,Jt=!1,Ii=null,as=!1,Os=Error(s(519));function li(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ps(Dr(i,r)),Os}function Rd(r){var i=r.stateNode,l=r.type,f=r.memoizedProps;switch(i[lr]=r,i[Ar]=f,l){case"dialog":Gt("cancel",i),Gt("close",i);break;case"iframe":case"object":case"embed":Gt("load",i);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Gt(Ol[l],i);break;case"source":Gt("error",i);break;case"img":case"image":case"link":Gt("error",i),Gt("load",i);break;case"details":Gt("toggle",i);break;case"input":Gt("invalid",i),ic(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Gt("invalid",i);break;case"textarea":Gt("invalid",i),ta(i,f.value,f.defaultValue,f.children)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||f.suppressHydrationWarning===!0||Xf(i.textContent,l)?(f.popover!=null&&(Gt("beforetoggle",i),Gt("toggle",i)),f.onScroll!=null&&Gt("scroll",i),f.onScrollEnd!=null&&Gt("scrollend",i),f.onClick!=null&&(i.onclick=Ds),i=!0):i=!1,i||li(r,!0)}function Cc(r){for(bn=r.return;bn;)switch(bn.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:bn=bn.return}}function Ri(r){if(r!==bn)return!1;if(!Jt)return Cc(r),Jt=!0,!1;var i=r.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||T(r.type,r.memoizedProps)),l=!l),l&&Mt&&li(r),Cc(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Mt=Be(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Mt=Be(r)}else i===27?(i=Mt,V(r.type)?(r=Ve,Ve=null,Mt=r):Mt=i):Mt=bn?ne(r.stateNode.nextSibling):null;return!0}function Hr(){Mt=bn=null,Jt=!1}function no(){var r=Ii;return r!==null&&(jr===null?jr=r:jr.push.apply(jr,r),Ii=null),r}function ps(r){Ii===null?Ii=[r]:Ii.push(r)}var il=ae(null),ci=null,ms=null;function ui(r,i,l){ke(il,i._currentValue),i._currentValue=l}function Us(r){r._currentValue=il.current,pe(il)}function al(r,i,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===l)break;r=r.return}}function Tc(r,i,l,f){var A=r.child;for(A!==null&&(A.return=r);A!==null;){var D=A.dependencies;if(D!==null){var H=A.child;D=D.firstContext;e:for(;D!==null;){var K=D;D=A;for(var de=0;de<i.length;de++)if(K.context===i[de]){D.lanes|=l,K=D.alternate,K!==null&&(K.lanes|=l),al(D.return,l,r),f||(H=null);break e}D=K.next}}else if(A.tag===18){if(H=A.return,H===null)throw Error(s(341));H.lanes|=l,D=H.alternate,D!==null&&(D.lanes|=l),al(H,l,r),H=null}else H=A.child;if(H!==null)H.return=A;else for(H=A;H!==null;){if(H===r){H=null;break}if(A=H.sibling,A!==null){A.return=H.return,H=A;break}H=H.return}A=H}}function ha(r,i,l,f){r=null;for(var A=i,D=!1;A!==null;){if(!D){if((A.flags&524288)!==0)D=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var H=A.alternate;if(H===null)throw Error(s(387));if(H=H.memoizedProps,H!==null){var K=A.type;Ir(A.pendingProps.value,H.value)||(r!==null?r.push(K):r=[K])}}else if(A===yt.current){if(H=A.alternate,H===null)throw Error(s(387));H.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(r!==null?r.push(zt):r=[zt])}A=A.return}r!==null&&Tc(i,r,l,f),i.flags|=262144}function Ac(r){for(r=r.firstContext;r!==null;){if(!Ir(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function pa(r){ci=r,ms=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Qn(r){return Nc(ci,r)}function ma(r,i){return ci===null&&pa(r),Nc(r,i)}function Nc(r,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ms===null){if(r===null)throw Error(s(308));ms=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else ms=ms.next=i;return l}var kc=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(l,f){r.push(f)}};this.abort=function(){i.aborted=!0,r.forEach(function(l){return l()})}},cp=t.unstable_scheduleCallback,Yg=t.unstable_NormalPriority,$n={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ic(){return{controller:new kc,data:new Map,refCount:0}}function ol(r){r.refCount--,r.refCount===0&&cp(Yg,function(){r.controller.abort()})}var Mr=null,Rc=0,di=0,ga=null;function up(r,i){if(Mr===null){var l=Mr=[];Rc=0,di=zf(),ga={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Rc++,i.then(Dc,Dc),i}function Dc(){if(--Rc===0&&Mr!==null){ga!==null&&(ga.status="fulfilled");var r=Mr;Mr=null,di=0,ga=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function dp(r,i){var l=[],f={status:"pending",value:null,reason:null,then:function(A){l.push(A)}};return r.then(function(){f.status="fulfilled",f.value=i;for(var A=0;A<l.length;A++)(0,l[A])(i)},function(A){for(f.status="rejected",f.reason=A,A=0;A<l.length;A++)(0,l[A])(void 0)}),f}var Dd=ie.S;ie.S=function(r,i){cm=Ye(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&up(r,i),Dd!==null&&Dd(r,i)};var ya=ae(null);function Pd(){var r=ya.current;return r!==null?r:wn.pooledCache}function Pc(r,i){i===null?ke(ya,ya.current):ke(ya,i.pool)}function fp(){var r=Pd();return r===null?null:{parent:$n._currentValue,pool:r}}var Di=Error(s(460)),Md=Error(s(474)),Mc=Error(s(542)),ll={then:function(){}};function Od(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hp(r,i,l){switch(l=r[l],l===void 0?r.push(i):l!==i&&(i.then(Ds,Ds),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ud(r),r;default:if(typeof i.status=="string")i.then(Ds,Ds);else{if(r=wn,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(f){if(i.status==="pending"){var A=i;A.status="fulfilled",A.value=f}},function(f){if(i.status==="pending"){var A=i;A.status="rejected",A.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ud(r),r}throw xa=i,Di}}function va(r){try{var i=r._init;return i(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xa=l,Di):l}}var xa=null;function pp(){if(xa===null)throw Error(s(459));var r=xa;return xa=null,r}function Ud(r){if(r===Di||r===Mc)throw Error(s(483))}var ro=null,Pi=0;function Oc(r){var i=Pi;return Pi+=1,ro===null&&(ro=[]),hp(ro,r,i)}function so(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function io(r,i){throw i.$$typeof===U?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function cl(r){function i(ge,he){if(r){var we=ge.deletions;we===null?(ge.deletions=[he],ge.flags|=16):we.push(he)}}function l(ge,he){if(!r)return null;for(;he!==null;)i(ge,he),he=he.sibling;return null}function f(ge){for(var he=new Map;ge!==null;)ge.key!==null?he.set(ge.key,ge):he.set(ge.index,ge),ge=ge.sibling;return he}function A(ge,he){return ge=Ms(ge,he),ge.index=0,ge.sibling=null,ge}function D(ge,he,we){return ge.index=we,r?(we=ge.alternate,we!==null?(we=we.index,we<he?(ge.flags|=67108866,he):we):(ge.flags|=67108866,he)):(ge.flags|=1048576,he)}function H(ge){return r&&ge.alternate===null&&(ge.flags|=67108866),ge}function K(ge,he,we,$e){return he===null||he.tag!==6?(he=wc(we,ge.mode,$e),he.return=ge,he):(he=A(he,we),he.return=ge,he)}function de(ge,he,we,$e){var Tt=we.type;return Tt===Q?Oe(ge,he,we.props.children,$e,we.key):he!==null&&(he.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===Re&&va(Tt)===he.type)?(he=A(he,we.props),so(he,we),he.return=ge,he):(he=nl(we.type,we.key,we.props,null,ge.mode,$e),so(he,we),he.return=ge,he)}function Se(ge,he,we,$e){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=Sc(we,ge.mode,$e),he.return=ge,he):(he=A(he,we.children||[]),he.return=ge,he)}function Oe(ge,he,we,$e,Tt){return he===null||he.tag!==7?(he=Ni(we,ge.mode,$e,Tt),he.return=ge,he):(he=A(he,we),he.return=ge,he)}function ze(ge,he,we){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=wc(""+he,ge.mode,we),he.return=ge,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case F:return we=nl(he.type,he.key,he.props,null,ge.mode,we),so(we,he),we.return=ge,we;case L:return he=Sc(he,ge.mode,we),he.return=ge,he;case Re:return he=va(he),ze(ge,he,we)}if(Rt(he)||He(he))return he=Ni(he,ge.mode,we,null),he.return=ge,he;if(typeof he.then=="function")return ze(ge,Oc(he),we);if(he.$$typeof===te)return ze(ge,ma(ge,he),we);io(ge,he)}return null}function Ce(ge,he,we,$e){var Tt=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Tt!==null?null:K(ge,he,""+we,$e);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case F:return we.key===Tt?de(ge,he,we,$e):null;case L:return we.key===Tt?Se(ge,he,we,$e):null;case Re:return we=va(we),Ce(ge,he,we,$e)}if(Rt(we)||He(we))return Tt!==null?null:Oe(ge,he,we,$e,null);if(typeof we.then=="function")return Ce(ge,he,Oc(we),$e);if(we.$$typeof===te)return Ce(ge,he,ma(ge,we),$e);io(ge,we)}return null}function Ie(ge,he,we,$e,Tt){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return ge=ge.get(we)||null,K(he,ge,""+$e,Tt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case F:return ge=ge.get($e.key===null?we:$e.key)||null,de(he,ge,$e,Tt);case L:return ge=ge.get($e.key===null?we:$e.key)||null,Se(he,ge,$e,Tt);case Re:return $e=va($e),Ie(ge,he,we,$e,Tt)}if(Rt($e)||He($e))return ge=ge.get(we)||null,Oe(he,ge,$e,Tt,null);if(typeof $e.then=="function")return Ie(ge,he,we,Oc($e),Tt);if($e.$$typeof===te)return Ie(ge,he,we,ma(he,$e),Tt);io(he,$e)}return null}function ht(ge,he,we,$e){for(var Tt=null,un=null,xt=he,Bt=he=0,rn=null;xt!==null&&Bt<we.length;Bt++){xt.index>Bt?(rn=xt,xt=null):rn=xt.sibling;var dn=Ce(ge,xt,we[Bt],$e);if(dn===null){xt===null&&(xt=rn);break}r&&xt&&dn.alternate===null&&i(ge,xt),he=D(dn,he,Bt),un===null?Tt=dn:un.sibling=dn,un=dn,xt=rn}if(Bt===we.length)return l(ge,xt),Jt&&hs(ge,Bt),Tt;if(xt===null){for(;Bt<we.length;Bt++)xt=ze(ge,we[Bt],$e),xt!==null&&(he=D(xt,he,Bt),un===null?Tt=xt:un.sibling=xt,un=xt);return Jt&&hs(ge,Bt),Tt}for(xt=f(xt);Bt<we.length;Bt++)rn=Ie(xt,ge,Bt,we[Bt],$e),rn!==null&&(r&&rn.alternate!==null&&xt.delete(rn.key===null?Bt:rn.key),he=D(rn,he,Bt),un===null?Tt=rn:un.sibling=rn,un=rn);return r&&xt.forEach(function(Io){return i(ge,Io)}),Jt&&hs(ge,Bt),Tt}function kt(ge,he,we,$e){if(we==null)throw Error(s(151));for(var Tt=null,un=null,xt=he,Bt=he=0,rn=null,dn=we.next();xt!==null&&!dn.done;Bt++,dn=we.next()){xt.index>Bt?(rn=xt,xt=null):rn=xt.sibling;var Io=Ce(ge,xt,dn.value,$e);if(Io===null){xt===null&&(xt=rn);break}r&&xt&&Io.alternate===null&&i(ge,xt),he=D(Io,he,Bt),un===null?Tt=Io:un.sibling=Io,un=Io,xt=rn}if(dn.done)return l(ge,xt),Jt&&hs(ge,Bt),Tt;if(xt===null){for(;!dn.done;Bt++,dn=we.next())dn=ze(ge,dn.value,$e),dn!==null&&(he=D(dn,he,Bt),un===null?Tt=dn:un.sibling=dn,un=dn);return Jt&&hs(ge,Bt),Tt}for(xt=f(xt);!dn.done;Bt++,dn=we.next())dn=Ie(xt,ge,Bt,dn.value,$e),dn!==null&&(r&&dn.alternate!==null&&xt.delete(dn.key===null?Bt:dn.key),he=D(dn,he,Bt),un===null?Tt=dn:un.sibling=dn,un=dn);return r&&xt.forEach(function(Y_){return i(ge,Y_)}),Jt&&hs(ge,Bt),Tt}function An(ge,he,we,$e){if(typeof we=="object"&&we!==null&&we.type===Q&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case F:e:{for(var Tt=we.key;he!==null;){if(he.key===Tt){if(Tt=we.type,Tt===Q){if(he.tag===7){l(ge,he.sibling),$e=A(he,we.props.children),$e.return=ge,ge=$e;break e}}else if(he.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===Re&&va(Tt)===he.type){l(ge,he.sibling),$e=A(he,we.props),so($e,we),$e.return=ge,ge=$e;break e}l(ge,he);break}else i(ge,he);he=he.sibling}we.type===Q?($e=Ni(we.props.children,ge.mode,$e,we.key),$e.return=ge,ge=$e):($e=nl(we.type,we.key,we.props,null,ge.mode,$e),so($e,we),$e.return=ge,ge=$e)}return H(ge);case L:e:{for(Tt=we.key;he!==null;){if(he.key===Tt)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){l(ge,he.sibling),$e=A(he,we.children||[]),$e.return=ge,ge=$e;break e}else{l(ge,he);break}else i(ge,he);he=he.sibling}$e=Sc(we,ge.mode,$e),$e.return=ge,ge=$e}return H(ge);case Re:return we=va(we),An(ge,he,we,$e)}if(Rt(we))return ht(ge,he,we,$e);if(He(we)){if(Tt=He(we),typeof Tt!="function")throw Error(s(150));return we=Tt.call(we),kt(ge,he,we,$e)}if(typeof we.then=="function")return An(ge,he,Oc(we),$e);if(we.$$typeof===te)return An(ge,he,ma(ge,we),$e);io(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,he!==null&&he.tag===6?(l(ge,he.sibling),$e=A(he,we),$e.return=ge,ge=$e):(l(ge,he),$e=wc(we,ge.mode,$e),$e.return=ge,ge=$e),H(ge)):l(ge,he)}return function(ge,he,we,$e){try{Pi=0;var Tt=An(ge,he,we,$e);return ro=null,Tt}catch(xt){if(xt===Di||xt===Mc)throw xt;var un=Rr(29,xt,null,ge.mode);return un.lanes=$e,un.return=ge,un}finally{}}}var Mi=cl(!0),jd=cl(!1),js=!1;function Uc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ui(r,i,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ln&2)!==0){var A=f.pending;return A===null?i.next=i:(i.next=A.next,A.next=i),f.pending=i,i=Za(r),tl(r,null,l),i}return el(r,f,i,l),Za(r)}function ul(r,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Qu(r,l)}}function jc(r,i){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var A=null,D=null;if(l=l.firstBaseUpdate,l!==null){do{var H={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};D===null?A=D=H:D=D.next=H,l=l.next}while(l!==null);D===null?A=D=i:D=D.next=i}else A=D=i;l={baseState:f.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:f.shared,callbacks:f.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=i:r.next=i,l.lastBaseUpdate=i}var Bd=!1;function dl(){if(Bd){var r=ga;if(r!==null)throw r}}function fl(r,i,l,f){Bd=!1;var A=r.updateQueue;js=!1;var D=A.firstBaseUpdate,H=A.lastBaseUpdate,K=A.shared.pending;if(K!==null){A.shared.pending=null;var de=K,Se=de.next;de.next=null,H===null?D=Se:H.next=Se,H=de;var Oe=r.alternate;Oe!==null&&(Oe=Oe.updateQueue,K=Oe.lastBaseUpdate,K!==H&&(K===null?Oe.firstBaseUpdate=Se:K.next=Se,Oe.lastBaseUpdate=de))}if(D!==null){var ze=A.baseState;H=0,Oe=Se=de=null,K=D;do{var Ce=K.lane&-536870913,Ie=Ce!==K.lane;if(Ie?(Kt&Ce)===Ce:(f&Ce)===Ce){Ce!==0&&Ce===di&&(Bd=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var ht=r,kt=K;Ce=i;var An=l;switch(kt.tag){case 1:if(ht=kt.payload,typeof ht=="function"){ze=ht.call(An,ze,Ce);break e}ze=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=kt.payload,Ce=typeof ht=="function"?ht.call(An,ze,Ce):ht,Ce==null)break e;ze=R({},ze,Ce);break e;case 2:js=!0}}Ce=K.callback,Ce!==null&&(r.flags|=64,Ie&&(r.flags|=8192),Ie=A.callbacks,Ie===null?A.callbacks=[Ce]:Ie.push(Ce))}else Ie={lane:Ce,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Oe===null?(Se=Oe=Ie,de=ze):Oe=Oe.next=Ie,H|=Ce;if(K=K.next,K===null){if(K=A.shared.pending,K===null)break;Ie=K,K=Ie.next,Ie.next=null,A.lastBaseUpdate=Ie,A.shared.pending=null}}while(!0);Oe===null&&(de=ze),A.baseState=de,A.firstBaseUpdate=Se,A.lastBaseUpdate=Oe,D===null&&(A.shared.lanes=0),gi|=H,r.lanes=H,r.memoizedState=ze}}function qd(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function mp(r,i){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)qd(l[r],i)}var ba=ae(null),Lc=ae(0);function Bc(r,i){r=Xn,ke(Lc,r),ke(ba,i),Xn=r|i.baseLanes}function qc(){ke(Lc,Xn),ke(ba,ba.current)}function $d(){Xn=Lc.current,pe(ba),pe(Lc)}var Gr=ae(null),Yr=null;function ji(r){var i=r.alternate;ke(Dn,Dn.current&1),ke(Gr,r),Yr===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(Yr=r)}function zd(r){ke(Dn,Dn.current),ke(Gr,r),Yr===null&&(Yr=r)}function gp(r){r.tag===22?(ke(Dn,Dn.current),ke(Gr,r),Yr===null&&(Yr=r)):gs()}function gs(){ke(Dn,Dn.current),ke(Gr,Gr.current)}function yr(r){pe(Gr),Yr===r&&(Yr=null),pe(Dn)}var Dn=ae(0);function $c(r){for(var i=r;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||W(l)||Z(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ys=0,jt=null,hn=null,Gn=null,zc=!1,ao=!1,Li=!1,Vc=0,oo=0,lo=null,yp=0;function Pn(){throw Error(s(321))}function fi(r,i){if(i===null)return!1;for(var l=0;l<i.length&&l<r.length;l++)if(!Ir(r[l],i[l]))return!1;return!0}function co(r,i,l,f,A,D){return ys=D,jt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ie.H=r===null||r.memoizedState===null?_l:of,Li=!1,D=l(f,A),Li=!1,ao&&(D=pl(i,l,f,A)),hl(r),D}function hl(r){ie.H=Sa;var i=hn!==null&&hn.next!==null;if(ys=0,Gn=hn=jt=null,zc=!1,oo=0,lo=null,i)throw Error(s(300));r===null||Vn||(r=r.dependencies,r!==null&&Ac(r)&&(Vn=!0))}function pl(r,i,l,f){jt=r;var A=0;do{if(ao&&(lo=null),oo=0,ao=!1,25<=A)throw Error(s(301));if(A+=1,Gn=hn=null,r.updateQueue!=null){var D=r.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}ie.H=qp,D=i(l,f)}while(ao);return D}function wa(){var r=ie.H,i=r.useState()[0];return i=typeof i.then=="function"?fo(i):i,r=r.useState()[0],(hn!==null?hn.memoizedState:null)!==r&&(jt.flags|=1024),i}function Bi(){var r=Vc!==0;return Vc=0,r}function vs(r,i,l){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~l}function uo(r){if(zc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zc=!1}ys=0,Gn=hn=jt=null,ao=!1,oo=Vc=0,lo=null}function vr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?jt.memoizedState=Gn=r:Gn=Gn.next=r,Gn}function zn(){if(hn===null){var r=jt.alternate;r=r!==null?r.memoizedState:null}else r=hn.next;var i=Gn===null?jt.memoizedState:Gn.next;if(i!==null)Gn=i,hn=r;else{if(r===null)throw jt.alternate===null?Error(s(467)):Error(s(310));hn=r,r={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},Gn===null?jt.memoizedState=Gn=r:Gn=Gn.next=r}return Gn}function ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(r){var i=oo;return oo+=1,lo===null&&(lo=[]),r=hp(lo,r,i),i=jt,(Gn===null?i.memoizedState:Gn.next)===null&&(i=i.alternate,ie.H=i===null||i.memoizedState===null?_l:of),r}function Fc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fo(r);if(r.$$typeof===te)return Qn(r)}throw Error(s(438,String(r)))}function gl(r){var i=null,l=jt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var f=jt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(A){return A.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ml(),jt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(r),f=0;f<r;f++)l[f]=fe;return i.index++,l}function Ls(r,i){return typeof i=="function"?i(r):i}function yl(r){var i=zn();return Vd(i,hn,r)}function Vd(r,i,l){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var A=r.baseQueue,D=f.pending;if(D!==null){if(A!==null){var H=A.next;A.next=D.next,D.next=H}i.baseQueue=A=D,f.pending=null}if(D=r.baseState,A===null)r.memoizedState=D;else{i=A.next;var K=H=null,de=null,Se=i,Oe=!1;do{var ze=Se.lane&-536870913;if(ze!==Se.lane?(Kt&ze)===ze:(ys&ze)===ze){var Ce=Se.revertLane;if(Ce===0)de!==null&&(de=de.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),ze===di&&(Oe=!0);else if((ys&Ce)===Ce){Se=Se.next,Ce===di&&(Oe=!0);continue}else ze={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(K=de=ze,H=D):de=de.next=ze,jt.lanes|=Ce,gi|=Ce;ze=Se.action,Li&&l(D,ze),D=Se.hasEagerState?Se.eagerState:l(D,ze)}else Ce={lane:ze,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},de===null?(K=de=Ce,H=D):de=de.next=Ce,jt.lanes|=ze,gi|=ze;Se=Se.next}while(Se!==null&&Se!==i);if(de===null?H=D:de.next=K,!Ir(D,r.memoizedState)&&(Vn=!0,Oe&&(l=ga,l!==null)))throw l;r.memoizedState=D,r.baseState=H,r.baseQueue=de,f.lastRenderedState=D}return A===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Hc(r){var i=zn(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var f=l.dispatch,A=l.pending,D=i.memoizedState;if(A!==null){l.pending=null;var H=A=A.next;do D=r(D,H.action),H=H.next;while(H!==A);Ir(D,i.memoizedState)||(Vn=!0),i.memoizedState=D,i.baseQueue===null&&(i.baseState=D),l.lastRenderedState=D}return[D,f]}function vp(r,i,l){var f=jt,A=zn(),D=Jt;if(D){if(l===void 0)throw Error(s(407));l=l()}else l=i();var H=!Ir((hn||A).memoizedState,l);if(H&&(A.memoizedState=l,Vn=!0),A=A.queue,Jd(vl.bind(null,f,A,r),[r]),A.getSnapshot!==i||H||Gn!==null&&Gn.memoizedState.tag&1){if(f.flags|=2048,ho(9,{destroy:void 0},xp.bind(null,f,A,l,i),null),wn===null)throw Error(s(349));D||(ys&127)!==0||Fd(f,i,l)}return l}function Fd(r,i,l){r.flags|=16384,r={getSnapshot:i,value:l},i=jt.updateQueue,i===null?(i=ml(),jt.updateQueue=i,i.stores=[r]):(l=i.stores,l===null?i.stores=[r]:l.push(r))}function xp(r,i,l,f){i.value=l,i.getSnapshot=f,bp(i)&&Gc(r)}function vl(r,i,l){return l(function(){bp(i)&&Gc(r)})}function bp(r){var i=r.getSnapshot;r=r.value;try{var l=i();return!Ir(r,l)}catch{return!0}}function Gc(r){var i=fa(r,2);i!==null&&Lr(i,r,2)}function Hd(r){var i=vr();if(typeof r=="function"){var l=r;if(r=l(),Li){ei(!0);try{l()}finally{ei(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:r},i}function Gd(r,i,l,f){return r.baseState=l,Vd(r,hn,typeof f=="function"?f:Ls)}function Jg(r,i,l,f,A){if(Wc(r))throw Error(s(485));if(r=i.action,r!==null){var D={payload:A,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(H){D.listeners.push(H)}};ie.T!==null?l(!0):D.isTransition=!1,f(D),l=i.pending,l===null?(D.next=i.pending=D,wp(i,D)):(D.next=l.next,i.pending=l.next=D)}}function wp(r,i){var l=i.action,f=i.payload,A=r.state;if(i.isTransition){var D=ie.T,H={};ie.T=H;try{var K=l(A,f),de=ie.S;de!==null&&de(H,K),_p(r,i,K)}catch(Se){xl(r,i,Se)}finally{D!==null&&H.types!==null&&(D.types=H.types),ie.T=D}}else try{D=l(A,f),_p(r,i,D)}catch(Se){xl(r,i,Se)}}function _p(r,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Yc(r,i,f)},function(f){return xl(r,i,f)}):Yc(r,i,l)}function Yc(r,i,l){i.status="fulfilled",i.value=l,Sp(i),r.state=l,i=r.pending,i!==null&&(l=i.next,l===i?r.pending=null:(l=l.next,i.next=l,wp(r,l)))}function xl(r,i,l){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=l,Sp(i),i=i.next;while(i!==f)}r.action=null}function Sp(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Ep(r,i){return i}function Yd(r,i){if(Jt){var l=wn.formState;if(l!==null){e:{var f=jt;if(Jt){if(Mt){t:{for(var A=Mt,D=as;A.nodeType!==8;){if(!D){A=null;break t}if(A=ne(A.nextSibling),A===null){A=null;break t}}D=A.data,A=D==="F!"||D==="F"?A:null}if(A){Mt=ne(A.nextSibling),f=A.data==="F!";break e}}li(f)}f=!1}f&&(i=l[0])}}return l=vr(),l.memoizedState=l.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:i},l.queue=f,l=rf.bind(null,jt,f),f.dispatch=l,f=Hd(!1),D=sf.bind(null,jt,!1,f.queue),f=vr(),A={state:i,dispatch:null,action:r,pending:null},f.queue=A,l=Jg.bind(null,jt,A,D,l),A.dispatch=l,f.memoizedState=r,[i,l,!1]}function Cp(r){var i=zn();return Tp(i,hn,r)}function Tp(r,i,l){if(i=Vd(r,i,Ep)[0],r=yl(Ls)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=fo(i)}catch(H){throw H===Di?Mc:H}else f=i;i=zn();var A=i.queue,D=A.dispatch;return l!==i.memoizedState&&(jt.flags|=2048,ho(9,{destroy:void 0},Kg.bind(null,A,l),null)),[f,D,r]}function Kg(r,i){r.action=i}function Ap(r){var i=zn(),l=hn;if(l!==null)return Tp(i,l,r);zn(),i=i.memoizedState,l=zn();var f=l.queue.dispatch;return l.memoizedState=r,[i,f,!1]}function ho(r,i,l,f){return r={tag:r,create:l,deps:f,inst:i,next:null},i=jt.updateQueue,i===null&&(i=ml(),jt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,i.lastEffect=r),r}function bl(){return zn().memoizedState}function _a(r,i,l,f){var A=vr();jt.flags|=r,A.memoizedState=ho(1|i,{destroy:void 0},l,f===void 0?null:f)}function Jc(r,i,l,f){var A=zn();f=f===void 0?null:f;var D=A.memoizedState.inst;hn!==null&&f!==null&&fi(f,hn.memoizedState.deps)?A.memoizedState=ho(i,D,l,f):(jt.flags|=r,A.memoizedState=ho(1|i,D,l,f))}function Np(r,i){_a(8390656,8,r,i)}function Jd(r,i){Jc(2048,8,r,i)}function Wg(r){jt.flags|=4;var i=jt.updateQueue;if(i===null)i=ml(),jt.updateQueue=i,i.events=[r];else{var l=i.events;l===null?i.events=[r]:l.push(r)}}function kp(r){var i=zn().memoizedState;return Wg({ref:i,nextImpl:r}),function(){if((ln&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ip(r,i){return Jc(4,2,r,i)}function Kd(r,i){return Jc(4,4,r,i)}function Rp(r,i){if(typeof i=="function"){r=r();var l=i(r);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Dp(r,i,l){l=l!=null?l.concat([r]):null,Jc(4,4,Rp.bind(null,i,r),l)}function Wd(){}function Pp(r,i){var l=zn();i=i===void 0?null:i;var f=l.memoizedState;return i!==null&&fi(i,f[1])?f[0]:(l.memoizedState=[r,i],r)}function Mp(r,i){var l=zn();i=i===void 0?null:i;var f=l.memoizedState;if(i!==null&&fi(i,f[1]))return f[0];if(f=r(),Li){ei(!0);try{r()}finally{ei(!1)}}return l.memoizedState=[f,i],f}function Qd(r,i,l){return l===void 0||(ys&1073741824)!==0&&(Kt&261930)===0?r.memoizedState=i:(r.memoizedState=l,r=dm(),jt.lanes|=r,gi|=r,l)}function Xd(r,i,l,f){return Ir(l,i)?l:ba.current!==null?(r=Qd(r,l,f),Ir(r,i)||(Vn=!0),r):(ys&42)===0||(ys&1073741824)!==0&&(Kt&261930)===0?(Vn=!0,r.memoizedState=l):(r=dm(),jt.lanes|=r,gi|=r,i)}function Kc(r,i,l,f,A){var D=ye.p;ye.p=D!==0&&8>D?D:8;var H=ie.T,K={};ie.T=K,sf(r,!1,i,l);try{var de=A(),Se=ie.S;if(Se!==null&&Se(K,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Oe=dp(de,f);wl(r,i,Oe,Qr(r))}else wl(r,i,f,Qr(r))}catch(ze){wl(r,i,{then:function(){},status:"rejected",reason:ze},Qr())}finally{ye.p=D,H!==null&&K.types!==null&&(H.types=K.types),ie.T=H}}function Zd(){}function ef(r,i,l,f){if(r.tag!==5)throw Error(s(476));var A=Qg(r).queue;Kc(r,A,i,De,l===null?Zd:function(){return Op(r),l(f)})}function Qg(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:De},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:l},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function Op(r){var i=Qg(r);i.next===null&&(i=r.alternate.memoizedState),wl(r,i.next.queue,{},Qr())}function tf(){return Qn(zt)}function nf(){return zn().memoizedState}function Up(){return zn().memoizedState}function jp(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var l=Qr();r=Oi(l);var f=Ui(i,r,l);f!==null&&(Lr(f,i,l),ul(f,i,l)),i={cache:Ic()},r.payload=i;return}i=i.return}}function Lp(r,i,l){var f=Qr();l={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wc(r)?Bp(i,l):(l=ut(r,i,l,f),l!==null&&(Lr(l,r,f),af(l,i,f)))}function rf(r,i,l){var f=Qr();wl(r,i,l,f)}function wl(r,i,l,f){var A={lane:f,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wc(r))Bp(i,A);else{var D=r.alternate;if(r.lanes===0&&(D===null||D.lanes===0)&&(D=i.lastRenderedReducer,D!==null))try{var H=i.lastRenderedState,K=D(H,l);if(A.hasEagerState=!0,A.eagerState=K,Ir(K,H))return el(r,i,A,0),wn===null&&da(),!1}catch{}finally{}if(l=ut(r,i,A,f),l!==null)return Lr(l,r,f),af(l,i,f),!0}return!1}function sf(r,i,l,f){if(f={lane:2,revertLane:zf(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Wc(r)){if(i)throw Error(s(479))}else i=ut(r,l,f,2),i!==null&&Lr(i,r,2)}function Wc(r){var i=r.alternate;return r===jt||i!==null&&i===jt}function Bp(r,i){ao=zc=!0;var l=r.pending;l===null?i.next=i:(i.next=l.next,l.next=i),r.pending=i}function af(r,i,l){if((l&4194048)!==0){var f=i.lanes;f&=r.pendingLanes,l|=f,i.lanes=l,Qu(r,l)}}var Sa={readContext:Qn,use:Fc,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn};Sa.useEffectEvent=Pn;var _l={readContext:Qn,use:Fc,useCallback:function(r,i){return vr().memoizedState=[r,i===void 0?null:i],r},useContext:Qn,useEffect:Np,useImperativeHandle:function(r,i,l){l=l!=null?l.concat([r]):null,_a(4194308,4,Rp.bind(null,i,r),l)},useLayoutEffect:function(r,i){return _a(4194308,4,r,i)},useInsertionEffect:function(r,i){_a(4,2,r,i)},useMemo:function(r,i){var l=vr();i=i===void 0?null:i;var f=r();if(Li){ei(!0);try{r()}finally{ei(!1)}}return l.memoizedState=[f,i],f},useReducer:function(r,i,l){var f=vr();if(l!==void 0){var A=l(i);if(Li){ei(!0);try{l(i)}finally{ei(!1)}}}else A=i;return f.memoizedState=f.baseState=A,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:A},f.queue=r,r=r.dispatch=Lp.bind(null,jt,r),[f.memoizedState,r]},useRef:function(r){var i=vr();return r={current:r},i.memoizedState=r},useState:function(r){r=Hd(r);var i=r.queue,l=rf.bind(null,jt,i);return i.dispatch=l,[r.memoizedState,l]},useDebugValue:Wd,useDeferredValue:function(r,i){var l=vr();return Qd(l,r,i)},useTransition:function(){var r=Hd(!1);return r=Kc.bind(null,jt,r.queue,!0,!1),vr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,l){var f=jt,A=vr();if(Jt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),wn===null)throw Error(s(349));(Kt&127)!==0||Fd(f,i,l)}A.memoizedState=l;var D={value:l,getSnapshot:i};return A.queue=D,Np(vl.bind(null,f,D,r),[r]),f.flags|=2048,ho(9,{destroy:void 0},xp.bind(null,f,D,l,i),null),l},useId:function(){var r=vr(),i=wn.identifierPrefix;if(Jt){var l=fs,f=is;l=(f&~(1<<32-nr(f)-1)).toString(32)+l,i="_"+i+"R_"+l,l=Vc++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=yp++,i="_"+i+"r_"+l.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:tf,useFormState:Yd,useActionState:Yd,useOptimistic:function(r){var i=vr();i.memoizedState=i.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=sf.bind(null,jt,!0,l),l.dispatch=i,[r,i]},useMemoCache:gl,useCacheRefresh:function(){return vr().memoizedState=jp.bind(null,jt)},useEffectEvent:function(r){var i=vr(),l={impl:r};return i.memoizedState=l,function(){if((ln&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},of={readContext:Qn,use:Fc,useCallback:Pp,useContext:Qn,useEffect:Jd,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Kd,useMemo:Mp,useReducer:yl,useRef:bl,useState:function(){return yl(Ls)},useDebugValue:Wd,useDeferredValue:function(r,i){var l=zn();return Xd(l,hn.memoizedState,r,i)},useTransition:function(){var r=yl(Ls)[0],i=zn().memoizedState;return[typeof r=="boolean"?r:fo(r),i]},useSyncExternalStore:vp,useId:nf,useHostTransitionStatus:tf,useFormState:Cp,useActionState:Cp,useOptimistic:function(r,i){var l=zn();return Gd(l,hn,r,i)},useMemoCache:gl,useCacheRefresh:Up};of.useEffectEvent=kp;var qp={readContext:Qn,use:Fc,useCallback:Pp,useContext:Qn,useEffect:Jd,useImperativeHandle:Dp,useInsertionEffect:Ip,useLayoutEffect:Kd,useMemo:Mp,useReducer:Hc,useRef:bl,useState:function(){return Hc(Ls)},useDebugValue:Wd,useDeferredValue:function(r,i){var l=zn();return hn===null?Qd(l,r,i):Xd(l,hn.memoizedState,r,i)},useTransition:function(){var r=Hc(Ls)[0],i=zn().memoizedState;return[typeof r=="boolean"?r:fo(r),i]},useSyncExternalStore:vp,useId:nf,useHostTransitionStatus:tf,useFormState:Ap,useActionState:Ap,useOptimistic:function(r,i){var l=zn();return hn!==null?Gd(l,hn,r,i):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:gl,useCacheRefresh:Up};qp.useEffectEvent=kp;function lf(r,i,l,f){i=r.memoizedState,l=l(f,i),l=l==null?i:R({},i,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Ea={enqueueSetState:function(r,i,l){r=r._reactInternals;var f=Qr(),A=Oi(f);A.payload=i,l!=null&&(A.callback=l),i=Ui(r,A,f),i!==null&&(Lr(i,r,f),ul(i,r,f))},enqueueReplaceState:function(r,i,l){r=r._reactInternals;var f=Qr(),A=Oi(f);A.tag=1,A.payload=i,l!=null&&(A.callback=l),i=Ui(r,A,f),i!==null&&(Lr(i,r,f),ul(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var l=Qr(),f=Oi(l);f.tag=2,i!=null&&(f.callback=i),i=Ui(r,f,l),i!==null&&(Lr(i,r,l),ul(i,r,l))}};function cf(r,i,l,f,A,D,H){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,D,H):i.prototype&&i.prototype.isPureReactComponent?!Wo(l,f)||!Wo(A,D):!0}function $p(r,i,l,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,f),i.state!==r&&Ea.enqueueReplaceState(i,i.state,null)}function hi(r,i){var l=i;if("ref"in i){l={};for(var f in i)f!=="ref"&&(l[f]=i[f])}if(r=r.defaultProps){l===i&&(l=R({},l));for(var A in r)l[A]===void 0&&(l[A]=r[A])}return l}function Jr(r){Zo(r)}function qi(r){console.error(r)}function uf(r){Zo(r)}function Qc(r,i){try{var l=r.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function Xc(r,i,l){try{var f=r.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Zc(r,i,l){return l=Oi(l),l.tag=3,l.payload={element:null},l.callback=function(){Qc(r,i)},l}function zp(r){return r=Oi(r),r.tag=3,r}function Vp(r,i,l,f){var A=l.type.getDerivedStateFromError;if(typeof A=="function"){var D=f.value;r.payload=function(){return A(D)},r.callback=function(){Xc(i,l,f)}}var H=l.stateNode;H!==null&&typeof H.componentDidCatch=="function"&&(r.callback=function(){Xc(i,l,f),typeof A!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var K=f.stack;this.componentDidCatch(f.value,{componentStack:K!==null?K:""})})}function Xg(r,i,l,f,A){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=l.alternate,i!==null&&ha(i,l,A,!0),l=Gr.current,l!==null){switch(l.tag){case 31:case 13:return Yr===null?mu():l.alternate===null&&xn===0&&(xn=3),l.flags&=-257,l.flags|=65536,l.lanes=A,f===ll?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([f]):i.add(f),Uf(r,f,A)),!1;case 22:return l.flags|=65536,f===ll?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([f]):l.add(f)),Uf(r,f,A)),!1}throw Error(s(435,l.tag))}return Uf(r,f,A),mu(),!1}if(Jt)return i=Gr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=A,f!==Os&&(r=Error(s(422),{cause:f}),ps(Dr(r,l)))):(f!==Os&&(i=Error(s(423),{cause:f}),ps(Dr(i,l))),r=r.current.alternate,r.flags|=65536,A&=-A,r.lanes|=A,f=Dr(f,l),A=Zc(r.stateNode,f,A),jc(r,A),xn!==4&&(xn=2)),!1;var D=Error(s(520),{cause:f});if(D=Dr(D,l),yi===null?yi=[D]:yi.push(D),xn!==4&&(xn=2),i===null)return!0;f=Dr(f,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,r=A&-A,l.lanes|=r,r=Zc(l.stateNode,f,r),jc(l,r),!1;case 1:if(i=l.type,D=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Vi===null||!Vi.has(D))))return l.flags|=65536,A&=-A,l.lanes|=A,A=zp(A),Vp(A,r,l,f),jc(l,A),!1}l=l.return}while(l!==null);return!1}var df=Error(s(461)),Vn=!1;function sr(r,i,l,f){i.child=r===null?jd(i,null,l,f):Mi(i,r.child,l,f)}function Fp(r,i,l,f,A){l=l.render;var D=i.ref;if("ref"in f){var H={};for(var K in f)K!=="ref"&&(H[K]=f[K])}else H=f;return pa(i),f=co(r,i,l,H,D,A),K=Bi(),r!==null&&!Vn?(vs(r,i,A),Bs(r,i,A)):(Jt&&K&&Id(i),i.flags|=1,sr(r,i,f,A),i.child)}function Hp(r,i,l,f,A){if(r===null){var D=l.type;return typeof D=="function"&&!bc(D)&&D.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=D,Gp(r,i,D,f,A)):(r=nl(l.type,null,f,i,i.mode,A),r.ref=i.ref,r.return=i,i.child=r)}if(D=r.child,!yf(r,A)){var H=D.memoizedProps;if(l=l.compare,l=l!==null?l:Wo,l(H,f)&&r.ref===i.ref)return Bs(r,i,A)}return i.flags|=1,r=Ms(D,f),r.ref=i.ref,r.return=i,i.child=r}function Gp(r,i,l,f,A){if(r!==null){var D=r.memoizedProps;if(Wo(D,f)&&r.ref===i.ref)if(Vn=!1,i.pendingProps=f=D,yf(r,A))(r.flags&131072)!==0&&(Vn=!0);else return i.lanes=r.lanes,Bs(r,i,A)}return $i(r,i,l,f,A)}function Yp(r,i,l,f){var A=f.children,D=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((i.flags&128)!==0){if(D=D!==null?D.baseLanes|l:l,r!==null){for(f=i.child=r.child,A=0;f!==null;)A=A|f.lanes|f.childLanes,f=f.sibling;f=A&~D}else f=0,i.child=null;return Jp(r,i,D,l,f)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&Pc(i,D!==null?D.cachePool:null),D!==null?Bc(i,D):qc(),gp(i);else return f=i.lanes=536870912,Jp(r,i,D!==null?D.baseLanes|l:l,l,f)}else D!==null?(Pc(i,D.cachePool),Bc(i,D),gs(),i.memoizedState=null):(r!==null&&Pc(i,null),qc(),gs());return sr(r,i,A,l),i.child}function Sl(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Jp(r,i,l,f,A){var D=Pd();return D=D===null?null:{parent:$n._currentValue,pool:D},i.memoizedState={baseLanes:l,cachePool:D},r!==null&&Pc(i,null),qc(),gp(i),r!==null&&ha(r,i,f,!0),i.childLanes=A,null}function El(r,i){return i=su({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function xs(r,i,l){return Mi(i,r.child,null,l),r=El(i,i.pendingProps),r.flags|=2,yr(i),i.memoizedState=null,r}function ff(r,i,l){var f=i.pendingProps,A=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Jt){if(f.mode==="hidden")return r=El(i,f),i.lanes=536870912,Sl(null,r);if(zd(i),(r=Mt)?(r=J(r,as),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ki!==null?{id:is,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},l=_c(r),l.return=i,i.child=l,bn=i,Mt=null)):r=null,r===null)throw li(i);return i.lanes=536870912,null}return El(i,f)}var D=r.memoizedState;if(D!==null){var H=D.dehydrated;if(zd(i),A)if(i.flags&256)i.flags&=-257,i=xs(r,i,l);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(Vn||ha(r,i,l,!1),A=(l&r.childLanes)!==0,Vn||A){if(f=wn,f!==null&&(H=nc(f,l),H!==0&&H!==D.retryLane))throw D.retryLane=H,fa(r,H),Lr(f,r,H),df;mu(),i=xs(r,i,l)}else r=D.treeContext,Mt=ne(H.nextSibling),bn=i,Jt=!0,Ii=null,as=!1,r!==null&&Fr(i,r),i=El(i,f),i.flags|=4096;return i}return r=Ms(r.child,{mode:f.mode,children:f.children}),r.ref=i.ref,i.child=r,r.return=i,r}function po(r,i){var l=i.ref;if(l===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(r===null||r.ref!==l)&&(i.flags|=4194816)}}function $i(r,i,l,f,A){return pa(i),l=co(r,i,l,f,void 0,A),f=Bi(),r!==null&&!Vn?(vs(r,i,A),Bs(r,i,A)):(Jt&&f&&Id(i),i.flags|=1,sr(r,i,l,A),i.child)}function Kp(r,i,l,f,A,D){return pa(i),i.updateQueue=null,l=pl(i,f,l,A),hl(r),f=Bi(),r!==null&&!Vn?(vs(r,i,D),Bs(r,i,D)):(Jt&&f&&Id(i),i.flags|=1,sr(r,i,l,D),i.child)}function Cl(r,i,l,f,A){if(pa(i),i.stateNode===null){var D=eo,H=l.contextType;typeof H=="object"&&H!==null&&(D=Qn(H)),D=new l(f,D),i.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Ea,i.stateNode=D,D._reactInternals=i,D=i.stateNode,D.props=f,D.state=i.memoizedState,D.refs={},Uc(i),H=l.contextType,D.context=typeof H=="object"&&H!==null?Qn(H):eo,D.state=i.memoizedState,H=l.getDerivedStateFromProps,typeof H=="function"&&(lf(i,l,H,f),D.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(H=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),H!==D.state&&Ea.enqueueReplaceState(D,D.state,null),fl(i,f,D,A),dl(),D.state=i.memoizedState),typeof D.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(r===null){D=i.stateNode;var K=i.memoizedProps,de=hi(l,K);D.props=de;var Se=D.context,Oe=l.contextType;H=eo,typeof Oe=="object"&&Oe!==null&&(H=Qn(Oe));var ze=l.getDerivedStateFromProps;Oe=typeof ze=="function"||typeof D.getSnapshotBeforeUpdate=="function",K=i.pendingProps!==K,Oe||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(K||Se!==H)&&$p(i,D,f,H),js=!1;var Ce=i.memoizedState;D.state=Ce,fl(i,f,D,A),dl(),Se=i.memoizedState,K||Ce!==Se||js?(typeof ze=="function"&&(lf(i,l,ze,f),Se=i.memoizedState),(de=js||cf(i,l,de,f,Ce,Se,H))?(Oe||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(i.flags|=4194308)):(typeof D.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=Se),D.props=f,D.state=Se,D.context=H,f=de):(typeof D.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{D=i.stateNode,Ld(r,i),H=i.memoizedProps,Oe=hi(l,H),D.props=Oe,ze=i.pendingProps,Ce=D.context,Se=l.contextType,de=eo,typeof Se=="object"&&Se!==null&&(de=Qn(Se)),K=l.getDerivedStateFromProps,(Se=typeof K=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(H!==ze||Ce!==de)&&$p(i,D,f,de),js=!1,Ce=i.memoizedState,D.state=Ce,fl(i,f,D,A),dl();var Ie=i.memoizedState;H!==ze||Ce!==Ie||js||r!==null&&r.dependencies!==null&&Ac(r.dependencies)?(typeof K=="function"&&(lf(i,l,K,f),Ie=i.memoizedState),(Oe=js||cf(i,l,Oe,f,Ce,Ie,de)||r!==null&&r.dependencies!==null&&Ac(r.dependencies))?(Se||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(f,Ie,de),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(f,Ie,de)),typeof D.componentDidUpdate=="function"&&(i.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof D.componentDidUpdate!="function"||H===r.memoizedProps&&Ce===r.memoizedState||(i.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ce===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=Ie),D.props=f,D.state=Ie,D.context=de,f=Oe):(typeof D.componentDidUpdate!="function"||H===r.memoizedProps&&Ce===r.memoizedState||(i.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ce===r.memoizedState||(i.flags|=1024),f=!1)}return D=f,po(r,i),f=(i.flags&128)!==0,D||f?(D=i.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:D.render(),i.flags|=1,r!==null&&f?(i.child=Mi(i,r.child,null,A),i.child=Mi(i,null,l,A)):sr(r,i,l,A),i.memoizedState=D.state,r=i.child):r=Bs(r,i,A),r}function eu(r,i,l,f){return Hr(),i.flags|=256,sr(r,i,l,f),i.child}var tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nu(r){return{baseLanes:r,cachePool:fp()}}function ru(r,i,l){return r=r!==null?r.childLanes&~l:0,i&&(r|=Wr),r}function Wp(r,i,l){var f=i.pendingProps,A=!1,D=(i.flags&128)!==0,H;if((H=D)||(H=r!==null&&r.memoizedState===null?!1:(Dn.current&2)!==0),H&&(A=!0,i.flags&=-129),H=(i.flags&32)!==0,i.flags&=-33,r===null){if(Jt){if(A?ji(i):gs(),(r=Mt)?(r=J(r,as),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ki!==null?{id:is,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},l=_c(r),l.return=i,i.child=l,bn=i,Mt=null)):r=null,r===null)throw li(i);return Z(r)?i.lanes=32:i.lanes=536870912,null}var K=f.children;return f=f.fallback,A?(gs(),A=i.mode,K=su({mode:"hidden",children:K},A),f=Ni(f,A,l,null),K.return=i,f.return=i,K.sibling=f,i.child=K,f=i.child,f.memoizedState=nu(l),f.childLanes=ru(r,H,l),i.memoizedState=tu,Sl(null,f)):(ji(i),hf(i,K))}var de=r.memoizedState;if(de!==null&&(K=de.dehydrated,K!==null)){if(D)i.flags&256?(ji(i),i.flags&=-257,i=pf(r,i,l)):i.memoizedState!==null?(gs(),i.child=r.child,i.flags|=128,i=null):(gs(),K=f.fallback,A=i.mode,f=su({mode:"visible",children:f.children},A),K=Ni(K,A,l,null),K.flags|=2,f.return=i,K.return=i,f.sibling=K,i.child=f,Mi(i,r.child,null,l),f=i.child,f.memoizedState=nu(l),f.childLanes=ru(r,H,l),i.memoizedState=tu,i=Sl(null,f));else if(ji(i),Z(K)){if(H=K.nextSibling&&K.nextSibling.dataset,H)var Se=H.dgst;H=Se,f=Error(s(419)),f.stack="",f.digest=H,ps({value:f,source:null,stack:null}),i=pf(r,i,l)}else if(Vn||ha(r,i,l,!1),H=(l&r.childLanes)!==0,Vn||H){if(H=wn,H!==null&&(f=nc(H,l),f!==0&&f!==de.retryLane))throw de.retryLane=f,fa(r,f),Lr(H,r,f),df;W(K)||mu(),i=pf(r,i,l)}else W(K)?(i.flags|=192,i.child=r.child,i=null):(r=de.treeContext,Mt=ne(K.nextSibling),bn=i,Jt=!0,Ii=null,as=!1,r!==null&&Fr(i,r),i=hf(i,f.children),i.flags|=4096);return i}return A?(gs(),K=f.fallback,A=i.mode,de=r.child,Se=de.sibling,f=Ms(de,{mode:"hidden",children:f.children}),f.subtreeFlags=de.subtreeFlags&65011712,Se!==null?K=Ms(Se,K):(K=Ni(K,A,l,null),K.flags|=2),K.return=i,f.return=i,f.sibling=K,i.child=f,Sl(null,f),f=i.child,K=r.child.memoizedState,K===null?K=nu(l):(A=K.cachePool,A!==null?(de=$n._currentValue,A=A.parent!==de?{parent:de,pool:de}:A):A=fp(),K={baseLanes:K.baseLanes|l,cachePool:A}),f.memoizedState=K,f.childLanes=ru(r,H,l),i.memoizedState=tu,Sl(r.child,f)):(ji(i),l=r.child,r=l.sibling,l=Ms(l,{mode:"visible",children:f.children}),l.return=i,l.sibling=null,r!==null&&(H=i.deletions,H===null?(i.deletions=[r],i.flags|=16):H.push(r)),i.child=l,i.memoizedState=null,l)}function hf(r,i){return i=su({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function su(r,i){return r=Rr(22,r,null,i),r.lanes=0,r}function pf(r,i,l){return Mi(i,r.child,null,l),r=hf(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Qp(r,i,l){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),al(r.return,i,l)}function mf(r,i,l,f,A,D){var H=r.memoizedState;H===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:A,treeForkCount:D}:(H.isBackwards=i,H.rendering=null,H.renderingStartTime=0,H.last=f,H.tail=l,H.tailMode=A,H.treeForkCount=D)}function gf(r,i,l){var f=i.pendingProps,A=f.revealOrder,D=f.tail;f=f.children;var H=Dn.current,K=(H&2)!==0;if(K?(H=H&1|2,i.flags|=128):H&=1,ke(Dn,H),sr(r,i,f,l),f=Jt?sl:0,!K&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Qp(r,l,i);else if(r.tag===19)Qp(r,l,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(A){case"forwards":for(l=i.child,A=null;l!==null;)r=l.alternate,r!==null&&$c(r)===null&&(A=l),l=l.sibling;l=A,l===null?(A=i.child,i.child=null):(A=l.sibling,l.sibling=null),mf(i,!1,A,l,D,f);break;case"backwards":case"unstable_legacy-backwards":for(l=null,A=i.child,i.child=null;A!==null;){if(r=A.alternate,r!==null&&$c(r)===null){i.child=A;break}r=A.sibling,A.sibling=l,l=A,A=r}mf(i,!0,l,null,D,f);break;case"together":mf(i,!1,null,null,void 0,f);break;default:i.memoizedState=null}return i.child}function Bs(r,i,l){if(r!==null&&(i.dependencies=r.dependencies),gi|=i.lanes,(l&i.childLanes)===0)if(r!==null){if(ha(r,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,l=Ms(r,r.pendingProps),i.child=l,l.return=i;r.sibling!==null;)r=r.sibling,l=l.sibling=Ms(r,r.pendingProps),l.return=i;l.sibling=null}return i.child}function yf(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Ac(r)))}function iu(r,i,l){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),ui(i,$n,r.memoizedState.cache),Hr();break;case 27:case 5:mt(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:ui(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(ji(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Wp(r,i,l):(ji(i),r=Bs(r,i,l),r!==null?r.sibling:null);ji(i);break;case 19:var A=(r.flags&128)!==0;if(f=(l&i.childLanes)!==0,f||(ha(r,i,l,!1),f=(l&i.childLanes)!==0),A){if(f)return gf(r,i,l);i.flags|=128}if(A=i.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ke(Dn,Dn.current),f)break;return null;case 22:return i.lanes=0,Yp(r,i,l,i.pendingProps);case 24:ui(i,$n,r.memoizedState.cache)}return Bs(r,i,l)}function vf(r,i,l){if(r!==null)if(r.memoizedProps!==i.pendingProps)Vn=!0;else{if(!yf(r,l)&&(i.flags&128)===0)return Vn=!1,iu(r,i,l);Vn=(r.flags&131072)!==0}else Vn=!1,Jt&&(i.flags&1048576)!==0&&Ec(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var f=i.pendingProps;if(r=va(i.elementType),i.type=r,typeof r=="function")bc(r)?(f=hi(r,f),i.tag=1,i=Cl(null,i,r,f,l)):(i.tag=0,i=$i(null,i,r,f,l));else{if(r!=null){var A=r.$$typeof;if(A===se){i.tag=11,i=Fp(null,i,r,f,l);break e}else if(A===ve){i.tag=14,i=Hp(null,i,r,f,l);break e}}throw i=it(r)||r,Error(s(306,i,""))}}return i;case 0:return $i(r,i,i.type,i.pendingProps,l);case 1:return f=i.type,A=hi(f,i.pendingProps),Cl(r,i,f,A,l);case 3:e:{if(qe(i,i.stateNode.containerInfo),r===null)throw Error(s(387));f=i.pendingProps;var D=i.memoizedState;A=D.element,Ld(r,i),fl(i,f,null,l);var H=i.memoizedState;if(f=H.cache,ui(i,$n,f),f!==D.cache&&Tc(i,[$n],l,!0),dl(),f=H.element,D.isDehydrated)if(D={element:f,isDehydrated:!1,cache:H.cache},i.updateQueue.baseState=D,i.memoizedState=D,i.flags&256){i=eu(r,i,f,l);break e}else if(f!==A){A=Dr(Error(s(424)),i),ps(A),i=eu(r,i,f,l);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mt=ne(r.firstChild),bn=i,Jt=!0,Ii=null,as=!0,l=jd(i,null,f,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Hr(),f===A){i=Bs(r,i,l);break e}sr(r,i,f,l)}i=i.child}return i;case 26:return po(r,i),r===null?(l=qt(i.type,null,i.pendingProps,null))?i.memoizedState=l:Jt||(l=i.type,r=i.pendingProps,f=S(ct.current).createElement(l),f[lr]=i,f[Ar]=r,c(f,l,r),Wn(f),i.stateNode=f):i.memoizedState=qt(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return mt(i),r===null&&Jt&&(f=i.stateNode=_e(i.type,i.pendingProps,ct.current),bn=i,as=!0,A=Mt,V(i.type)?(Ve=A,Mt=ne(f.firstChild)):Mt=A),sr(r,i,i.pendingProps.children,l),po(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Jt&&((A=f=Mt)&&(f=q(f,i.type,i.pendingProps,as),f!==null?(i.stateNode=f,bn=i,Mt=ne(f.firstChild),as=!1,A=!0):A=!1),A||li(i)),mt(i),A=i.type,D=i.pendingProps,H=r!==null?r.memoizedProps:null,f=D.children,T(A,D)?f=null:H!==null&&T(A,H)&&(i.flags|=32),i.memoizedState!==null&&(A=co(r,i,wa,null,null,l),zt._currentValue=A),po(r,i),sr(r,i,f,l),i.child;case 6:return r===null&&Jt&&((r=l=Mt)&&(l=z(l,i.pendingProps,as),l!==null?(i.stateNode=l,bn=i,Mt=null,r=!0):r=!1),r||li(i)),null;case 13:return Wp(r,i,l);case 4:return qe(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Mi(i,null,f,l):sr(r,i,f,l),i.child;case 11:return Fp(r,i,i.type,i.pendingProps,l);case 7:return sr(r,i,i.pendingProps,l),i.child;case 8:return sr(r,i,i.pendingProps.children,l),i.child;case 12:return sr(r,i,i.pendingProps.children,l),i.child;case 10:return f=i.pendingProps,ui(i,i.type,f.value),sr(r,i,f.children,l),i.child;case 9:return A=i.type._context,f=i.pendingProps.children,pa(i),A=Qn(A),f=f(A),i.flags|=1,sr(r,i,f,l),i.child;case 14:return Hp(r,i,i.type,i.pendingProps,l);case 15:return Gp(r,i,i.type,i.pendingProps,l);case 19:return gf(r,i,l);case 31:return ff(r,i,l);case 22:return Yp(r,i,l,i.pendingProps);case 24:return pa(i),f=Qn($n),r===null?(A=Pd(),A===null&&(A=wn,D=Ic(),A.pooledCache=D,D.refCount++,D!==null&&(A.pooledCacheLanes|=l),A=D),i.memoizedState={parent:f,cache:A},Uc(i),ui(i,$n,A)):((r.lanes&l)!==0&&(Ld(r,i),fl(i,null,null,l),dl()),A=r.memoizedState,D=i.memoizedState,A.parent!==f?(A={parent:f,cache:f},i.memoizedState=A,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=A),ui(i,$n,f)):(f=D.cache,ui(i,$n,f),f!==A.cache&&Tc(i,[$n],l,!0))),sr(r,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function pi(r){r.flags|=4}function xf(r,i,l,f,A){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(A&335544128)===A)if(r.stateNode.complete)r.flags|=8192;else if(mm())r.flags|=8192;else throw xa=ll,Md}else r.flags&=-16777217}function Xp(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!On(i))if(mm())r.flags|=8192;else throw xa=ll,Md}function au(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?tc():536870912,r.lanes|=i,xo|=i)}function Tl(r,i){if(!Jt)switch(r.tailMode){case"hidden":i=r.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function kn(r){var i=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(i)for(var A=r.child;A!==null;)l|=A.lanes|A.childLanes,f|=A.subtreeFlags&65011712,f|=A.flags&65011712,A.return=r,A=A.sibling;else for(A=r.child;A!==null;)l|=A.lanes|A.childLanes,f|=A.subtreeFlags,f|=A.flags,A.return=r,A=A.sibling;return r.subtreeFlags|=f,r.childLanes=l,i}function Zg(r,i,l){var f=i.pendingProps;switch(vn(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(i),null;case 1:return kn(i),null;case 3:return l=i.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),Us($n),Pe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ri(i)?pi(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,no())),kn(i),null;case 26:var A=i.type,D=i.memoizedState;return r===null?(pi(i),D!==null?(kn(i),Xp(i,D)):(kn(i),xf(i,A,null,f,l))):D?D!==r.memoizedState?(pi(i),kn(i),Xp(i,D)):(kn(i),i.flags&=-16777217):(r=r.memoizedProps,r!==f&&pi(i),kn(i),xf(i,A,r,f,l)),null;case 27:if(at(i),l=ct.current,A=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==f&&pi(i);else{if(!f){if(i.stateNode===null)throw Error(s(166));return kn(i),null}r=Fe.current,Ri(i)?Rd(i):(r=_e(A,f,l),i.stateNode=r,pi(i))}return kn(i),null;case 5:if(at(i),A=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==f&&pi(i);else{if(!f){if(i.stateNode===null)throw Error(s(166));return kn(i),null}if(D=Fe.current,Ri(i))Rd(i);else{var H=S(ct.current);switch(D){case 1:D=H.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:D=H.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":D=H.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":D=H.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":D=H.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof f.is=="string"?H.createElement("select",{is:f.is}):H.createElement("select"),f.multiple?D.multiple=!0:f.size&&(D.size=f.size);break;default:D=typeof f.is=="string"?H.createElement(A,{is:f.is}):H.createElement(A)}}D[lr]=i,D[Ar]=f;e:for(H=i.child;H!==null;){if(H.tag===5||H.tag===6)D.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===i)break e;for(;H.sibling===null;){if(H.return===null||H.return===i)break e;H=H.return}H.sibling.return=H.return,H=H.sibling}i.stateNode=D;e:switch(c(D,A,f),A){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&pi(i)}}return kn(i),xf(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,l),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==f&&pi(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(s(166));if(r=ct.current,Ri(i)){if(r=i.stateNode,l=i.memoizedProps,f=null,A=bn,A!==null)switch(A.tag){case 27:case 5:f=A.memoizedProps}r[lr]=i,r=!!(r.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Xf(r.nodeValue,l)),r||li(i,!0)}else r=S(r).createTextNode(f),r[lr]=i,i.stateNode=r}return kn(i),null;case 31:if(l=i.memoizedState,r===null||r.memoizedState!==null){if(f=Ri(i),l!==null){if(r===null){if(!f)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[lr]=i}else Hr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kn(i),r=!1}else l=no(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return i.flags&256?(yr(i),i):(yr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return kn(i),null;case 13:if(f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(A=Ri(i),f!==null&&f.dehydrated!==null){if(r===null){if(!A)throw Error(s(318));if(A=i.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(s(317));A[lr]=i}else Hr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kn(i),A=!1}else A=no(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=A),A=!0;if(!A)return i.flags&256?(yr(i),i):(yr(i),null)}return yr(i),(i.flags&128)!==0?(i.lanes=l,i):(l=f!==null,r=r!==null&&r.memoizedState!==null,l&&(f=i.child,A=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(A=f.alternate.memoizedState.cachePool.pool),D=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(D=f.memoizedState.cachePool.pool),D!==A&&(f.flags|=2048)),l!==r&&l&&(i.child.flags|=8192),au(i,i.updateQueue),kn(i),null);case 4:return Pe(),r===null&&Ss(i.stateNode.containerInfo),kn(i),null;case 10:return Us(i.type),kn(i),null;case 19:if(pe(Dn),f=i.memoizedState,f===null)return kn(i),null;if(A=(i.flags&128)!==0,D=f.rendering,D===null)if(A)Tl(f,!1);else{if(xn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(D=$c(r),D!==null){for(i.flags|=128,Tl(f,!1),r=D.updateQueue,i.updateQueue=r,au(i,r),i.subtreeFlags=0,r=l,l=i.child;l!==null;)kd(l,r),l=l.sibling;return ke(Dn,Dn.current&1|2),Jt&&hs(i,f.treeForkCount),i.child}r=r.sibling}f.tail!==null&&Ye()>hu&&(i.flags|=128,A=!0,Tl(f,!1),i.lanes=4194304)}else{if(!A)if(r=$c(D),r!==null){if(i.flags|=128,A=!0,r=r.updateQueue,i.updateQueue=r,au(i,r),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!D.alternate&&!Jt)return kn(i),null}else 2*Ye()-f.renderingStartTime>hu&&l!==536870912&&(i.flags|=128,A=!0,Tl(f,!1),i.lanes=4194304);f.isBackwards?(D.sibling=i.child,i.child=D):(r=f.last,r!==null?r.sibling=D:i.child=D,f.last=D)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ye(),r.sibling=null,l=Dn.current,ke(Dn,A?l&1|2:l&1),Jt&&hs(i,f.treeForkCount),r):(kn(i),null);case 22:case 23:return yr(i),$d(),f=i.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(l&536870912)!==0&&(i.flags&128)===0&&(kn(i),i.subtreeFlags&6&&(i.flags|=8192)):kn(i),l=i.updateQueue,l!==null&&au(i,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==l&&(i.flags|=2048),r!==null&&pe(ya),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Us($n),kn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function bf(r,i){switch(vn(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Us($n),Pe(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return at(i),null;case 31:if(i.memoizedState!==null){if(yr(i),i.alternate===null)throw Error(s(340));Hr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(yr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hr()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Dn),null;case 4:return Pe(),null;case 10:return Us(i.type),null;case 22:case 23:return yr(i),$d(),r!==null&&pe(ya),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Us($n),null;case 25:return null;default:return null}}function Zp(r,i){switch(vn(i),i.tag){case 3:Us($n),Pe();break;case 26:case 27:case 5:at(i);break;case 4:Pe();break;case 31:i.memoizedState!==null&&yr(i);break;case 13:yr(i);break;case 19:pe(Dn);break;case 10:Us(i.type);break;case 22:case 23:yr(i),$d(),r!==null&&pe(ya);break;case 24:Us($n)}}function qs(r,i){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var A=f.next;l=A;do{if((l.tag&r)===r){f=void 0;var D=l.create,H=l.inst;f=D(),H.destroy=f}l=l.next}while(l!==A)}}catch(K){mn(i,i.return,K)}}function mi(r,i,l){try{var f=i.updateQueue,A=f!==null?f.lastEffect:null;if(A!==null){var D=A.next;f=D;do{if((f.tag&r)===r){var H=f.inst,K=H.destroy;if(K!==void 0){H.destroy=void 0,A=i;var de=l,Se=K;try{Se()}catch(Oe){mn(A,de,Oe)}}}f=f.next}while(f!==D)}}catch(Oe){mn(i,i.return,Oe)}}function wf(r){var i=r.updateQueue;if(i!==null){var l=r.stateNode;try{mp(i,l)}catch(f){mn(r,r.return,f)}}}function ou(r,i,l){l.props=hi(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(f){mn(r,i,f)}}function Al(r,i){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof l=="function"?r.refCleanup=l(f):l.current=f}}catch(A){mn(r,i,A)}}function bs(r,i){var l=r.ref,f=r.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(A){mn(r,i,A)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(A){mn(r,i,A)}else l.current=null}function em(r){var i=r.type,l=r.memoizedProps,f=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(A){mn(r,r.return,A)}}function _f(r,i,l){try{var f=r.stateNode;d(f,r.type,l,i),f[Ar]=i}catch(A){mn(r,r.return,A)}}function tm(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&V(r.type)||r.tag===4}function Sf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||tm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&V(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ca(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(r),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ds));else if(f!==4&&(f===27&&V(r.type)&&(l=r.stateNode,i=null),r=r.child,r!==null))for(Ca(r,i,l),r=r.sibling;r!==null;)Ca(r,i,l),r=r.sibling}function Nl(r,i,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?l.insertBefore(r,i):l.appendChild(r);else if(f!==4&&(f===27&&V(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Nl(r,i,l),r=r.sibling;r!==null;)Nl(r,i,l),r=r.sibling}function lu(r){var i=r.stateNode,l=r.memoizedProps;try{for(var f=r.type,A=i.attributes;A.length;)i.removeAttributeNode(A[0]);c(i,f,l),i[lr]=r,i[Ar]=l}catch(D){mn(r,r.return,D)}}var $s=!1,Yn=!1,Ef=!1,nm=typeof WeakSet=="function"?WeakSet:Set,ir=null;function e0(r,i){if(r=r.containerInfo,x=Yi,r=np(r),_d(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var A=f.anchorOffset,D=f.focusNode;f=f.focusOffset;try{l.nodeType,D.nodeType}catch{l=null;break e}var H=0,K=-1,de=-1,Se=0,Oe=0,ze=r,Ce=null;t:for(;;){for(var Ie;ze!==l||A!==0&&ze.nodeType!==3||(K=H+A),ze!==D||f!==0&&ze.nodeType!==3||(de=H+f),ze.nodeType===3&&(H+=ze.nodeValue.length),(Ie=ze.firstChild)!==null;)Ce=ze,ze=Ie;for(;;){if(ze===r)break t;if(Ce===l&&++Se===A&&(K=H),Ce===D&&++Oe===f&&(de=H),(Ie=ze.nextSibling)!==null)break;ze=Ce,Ce=ze.parentNode}ze=Ie}l=K===-1||de===-1?null:{start:K,end:de}}else l=null}l=l||{start:0,end:0}}else l=null;for(w={focusedElem:r,selectionRange:l},Yi=!1,ir=i;ir!==null;)if(i=ir,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ir=r;else for(;ir!==null;){switch(i=ir,D=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)A=r[l],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&D!==null){r=void 0,l=i,A=D.memoizedProps,D=D.memoizedState,f=l.stateNode;try{var ht=hi(l.type,A);r=f.getSnapshotBeforeUpdate(ht,D),f.__reactInternalSnapshotBeforeUpdate=r}catch(kt){mn(l,l.return,kt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,l=r.nodeType,l===9)Y(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Y(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,ir=r;break}ir=i.return}}function rm(r,i,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:zs(r,l),f&4&&qs(5,l);break;case 1:if(zs(r,l),f&4)if(r=l.stateNode,i===null)try{r.componentDidMount()}catch(H){mn(l,l.return,H)}else{var A=hi(l.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(A,i,r.__reactInternalSnapshotBeforeUpdate)}catch(H){mn(l,l.return,H)}}f&64&&wf(l),f&512&&Al(l,l.return);break;case 3:if(zs(r,l),f&64&&(r=l.updateQueue,r!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{mp(r,i)}catch(H){mn(l,l.return,H)}}break;case 27:i===null&&f&4&&lu(l);case 26:case 5:zs(r,l),i===null&&f&4&&em(l),f&512&&Al(l,l.return);break;case 12:zs(r,l);break;case 31:zs(r,l),f&4&&im(r,l);break;case 13:zs(r,l),f&4&&cu(r,l),f&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=a0.bind(null,l),X(r,l))));break;case 22:if(f=l.memoizedState!==null||$s,!f){i=i!==null&&i.memoizedState!==null||Yn,A=$s;var D=Yn;$s=f,(Yn=i)&&!D?Vs(r,l,(l.subtreeFlags&8772)!==0):zs(r,l),$s=A,Yn=D}break;case 30:break;default:zs(r,l)}}function kl(r){var i=r.alternate;i!==null&&(r.alternate=null,kl(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&rc(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Cn=null,xr=!1;function os(r,i,l){for(l=l.child;l!==null;)sm(r,i,l),l=l.sibling}function sm(r,i,l){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Ua,l)}catch{}switch(l.tag){case 26:Yn||bs(l,i),os(r,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yn||bs(l,i);var f=Cn,A=xr;V(l.type)&&(Cn=l.stateNode,xr=!1),os(r,i,l),Ee(l.stateNode),Cn=f,xr=A;break;case 5:Yn||bs(l,i);case 6:if(f=Cn,A=xr,Cn=null,os(r,i,l),Cn=f,xr=A,Cn!==null)if(xr)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(l.stateNode)}catch(D){mn(l,i,D)}else try{Cn.removeChild(l.stateNode)}catch(D){mn(l,i,D)}break;case 18:Cn!==null&&(xr?(r=Cn,$(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Su(r)):$(Cn,l.stateNode));break;case 4:f=Cn,A=xr,Cn=l.stateNode.containerInfo,xr=!0,os(r,i,l),Cn=f,xr=A;break;case 0:case 11:case 14:case 15:mi(2,l,i),Yn||mi(4,l,i),os(r,i,l);break;case 1:Yn||(bs(l,i),f=l.stateNode,typeof f.componentWillUnmount=="function"&&ou(l,i,f)),os(r,i,l);break;case 21:os(r,i,l);break;case 22:Yn=(f=Yn)||l.memoizedState!==null,os(r,i,l),Yn=f;break;default:os(r,i,l)}}function im(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Su(r)}catch(l){mn(i,i.return,l)}}}function cu(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Su(r)}catch(l){mn(i,i.return,l)}}function am(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new nm),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new nm),i;default:throw Error(s(435,r.tag))}}function uu(r,i){var l=am(r);i.forEach(function(f){if(!l.has(f)){l.add(f);var A=o0.bind(null,r,f);f.then(A,A)}})}function Or(r,i){var l=i.deletions;if(l!==null)for(var f=0;f<l.length;f++){var A=l[f],D=r,H=i,K=H;e:for(;K!==null;){switch(K.tag){case 27:if(V(K.type)){Cn=K.stateNode,xr=!1;break e}break;case 5:Cn=K.stateNode,xr=!1;break e;case 3:case 4:Cn=K.stateNode.containerInfo,xr=!0;break e}K=K.return}if(Cn===null)throw Error(s(160));sm(D,H,A),Cn=null,xr=!1,D=A.alternate,D!==null&&(D.return=null),A.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cf(i,r),i=i.sibling}var ws=null;function Cf(r,i){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Or(i,r),Ur(r),f&4&&(mi(3,r,r.return),qs(3,r),mi(5,r,r.return));break;case 1:Or(i,r),Ur(r),f&512&&(Yn||l===null||bs(l,l.return)),f&64&&$s&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var A=ws;if(Or(i,r),Ur(r),f&512&&(Yn||l===null||bs(l,l.return)),f&4){var D=l!==null?l.memoizedState:null;if(f=r.memoizedState,l===null)if(f===null)if(r.stateNode===null){e:{f=r.type,l=r.memoizedProps,A=A.ownerDocument||A;t:switch(f){case"title":D=A.getElementsByTagName("title")[0],(!D||D[La]||D[lr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=A.createElement(f),A.head.insertBefore(D,A.querySelector("head > title"))),c(D,f,l),D[lr]=r,Wn(D),f=D;break e;case"link":var H=Dt("link","href",A).get(f+(l.href||""));if(H){for(var K=0;K<H.length;K++)if(D=H[K],D.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&D.getAttribute("rel")===(l.rel==null?null:l.rel)&&D.getAttribute("title")===(l.title==null?null:l.title)&&D.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){H.splice(K,1);break t}}D=A.createElement(f),c(D,f,l),A.head.appendChild(D);break;case"meta":if(H=Dt("meta","content",A).get(f+(l.content||""))){for(K=0;K<H.length;K++)if(D=H[K],D.getAttribute("content")===(l.content==null?null:""+l.content)&&D.getAttribute("name")===(l.name==null?null:l.name)&&D.getAttribute("property")===(l.property==null?null:l.property)&&D.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&D.getAttribute("charset")===(l.charSet==null?null:l.charSet)){H.splice(K,1);break t}}D=A.createElement(f),c(D,f,l),A.head.appendChild(D);break;default:throw Error(s(468,f))}D[lr]=r,Wn(D),f=D}r.stateNode=f}else In(A,r.type,r.stateNode);else r.stateNode=on(A,f,r.memoizedProps);else D!==f?(D===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):D.count--,f===null?In(A,r.type,r.stateNode):on(A,f,r.memoizedProps)):f===null&&r.stateNode!==null&&_f(r,r.memoizedProps,l.memoizedProps)}break;case 27:Or(i,r),Ur(r),f&512&&(Yn||l===null||bs(l,l.return)),l!==null&&f&4&&_f(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Or(i,r),Ur(r),f&512&&(Yn||l===null||bs(l,l.return)),r.flags&32){A=r.stateNode;try{Rs(A,"")}catch(ht){mn(r,r.return,ht)}}f&4&&r.stateNode!=null&&(A=r.memoizedProps,_f(r,A,l!==null?l.memoizedProps:A)),f&1024&&(Ef=!0);break;case 6:if(Or(i,r),Ur(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,l=r.stateNode;try{l.nodeValue=f}catch(ht){mn(r,r.return,ht)}}break;case 3:if(Ke=null,A=ws,ws=ft(i.containerInfo),Or(i,r),ws=A,Ur(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Su(i.containerInfo)}catch(ht){mn(r,r.return,ht)}Ef&&(Ef=!1,om(r));break;case 4:f=ws,ws=ft(r.stateNode.containerInfo),Or(i,r),Ur(r),ws=f;break;case 12:Or(i,r),Ur(r);break;case 31:Or(i,r),Ur(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,uu(r,f)));break;case 13:Or(i,r),Ur(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fu=Ye()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,uu(r,f)));break;case 22:A=r.memoizedState!==null;var de=l!==null&&l.memoizedState!==null,Se=$s,Oe=Yn;if($s=Se||A,Yn=Oe||de,Or(i,r),Yn=Oe,$s=Se,Ur(r),f&8192)e:for(i=r.stateNode,i._visibility=A?i._visibility&-2:i._visibility|1,A&&(l===null||de||$s||Yn||Ta(r)),l=null,i=r;;){if(i.tag===5||i.tag===26){if(l===null){de=l=i;try{if(D=de.stateNode,A)H=D.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none";else{K=de.stateNode;var ze=de.memoizedProps.style,Ce=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;K.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(ht){mn(de,de.return,ht)}}}else if(i.tag===6){if(l===null){de=i;try{de.stateNode.nodeValue=A?"":de.memoizedProps}catch(ht){mn(de,de.return,ht)}}}else if(i.tag===18){if(l===null){de=i;try{var Ie=de.stateNode;A?G(Ie,!0):G(de.stateNode,!1)}catch(ht){mn(de,de.return,ht)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=r.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,uu(r,l))));break;case 19:Or(i,r),Ur(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,uu(r,f)));break;case 30:break;case 21:break;default:Or(i,r),Ur(r)}}function Ur(r){var i=r.flags;if(i&2){try{for(var l,f=r.return;f!==null;){if(tm(f)){l=f;break}f=f.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var A=l.stateNode,D=Sf(r);Nl(r,D,A);break;case 5:var H=l.stateNode;l.flags&32&&(Rs(H,""),l.flags&=-33);var K=Sf(r);Nl(r,K,H);break;case 3:case 4:var de=l.stateNode.containerInfo,Se=Sf(r);Ca(r,Se,de);break;default:throw Error(s(161))}}catch(Oe){mn(r,r.return,Oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function om(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;om(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function zs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)rm(r,i.alternate,i),i=i.sibling}function Ta(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:mi(4,i,i.return),Ta(i);break;case 1:bs(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&ou(i,i.return,l),Ta(i);break;case 27:Ee(i.stateNode);case 26:case 5:bs(i,i.return),Ta(i);break;case 22:i.memoizedState===null&&Ta(i);break;case 30:Ta(i);break;default:Ta(i)}r=r.sibling}}function Vs(r,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,A=r,D=i,H=D.flags;switch(D.tag){case 0:case 11:case 15:Vs(A,D,l),qs(4,D);break;case 1:if(Vs(A,D,l),f=D,A=f.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Se){mn(f,f.return,Se)}if(f=D,A=f.updateQueue,A!==null){var K=f.stateNode;try{var de=A.shared.hiddenCallbacks;if(de!==null)for(A.shared.hiddenCallbacks=null,A=0;A<de.length;A++)qd(de[A],K)}catch(Se){mn(f,f.return,Se)}}l&&H&64&&wf(D),Al(D,D.return);break;case 27:lu(D);case 26:case 5:Vs(A,D,l),l&&f===null&&H&4&&em(D),Al(D,D.return);break;case 12:Vs(A,D,l);break;case 31:Vs(A,D,l),l&&H&4&&im(A,D);break;case 13:Vs(A,D,l),l&&H&4&&cu(A,D);break;case 22:D.memoizedState===null&&Vs(A,D,l),Al(D,D.return);break;case 30:break;default:Vs(A,D,l)}i=i.sibling}}function Tf(r,i){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&ol(l))}function Af(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ol(r))}function _s(r,i,l,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)lm(r,i,l,f),i=i.sibling}function lm(r,i,l,f){var A=i.flags;switch(i.tag){case 0:case 11:case 15:_s(r,i,l,f),A&2048&&qs(9,i);break;case 1:_s(r,i,l,f);break;case 3:_s(r,i,l,f),A&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ol(r)));break;case 12:if(A&2048){_s(r,i,l,f),r=i.stateNode;try{var D=i.memoizedProps,H=D.id,K=D.onPostCommit;typeof K=="function"&&K(H,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(de){mn(i,i.return,de)}}else _s(r,i,l,f);break;case 31:_s(r,i,l,f);break;case 13:_s(r,i,l,f);break;case 23:break;case 22:D=i.stateNode,H=i.alternate,i.memoizedState!==null?D._visibility&2?_s(r,i,l,f):go(r,i):D._visibility&2?_s(r,i,l,f):(D._visibility|=2,mo(r,i,l,f,(i.subtreeFlags&10256)!==0||!1)),A&2048&&Tf(H,i);break;case 24:_s(r,i,l,f),A&2048&&Af(i.alternate,i);break;default:_s(r,i,l,f)}}function mo(r,i,l,f,A){for(A=A&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var D=r,H=i,K=l,de=f,Se=H.flags;switch(H.tag){case 0:case 11:case 15:mo(D,H,K,de,A),qs(8,H);break;case 23:break;case 22:var Oe=H.stateNode;H.memoizedState!==null?Oe._visibility&2?mo(D,H,K,de,A):go(D,H):(Oe._visibility|=2,mo(D,H,K,de,A)),A&&Se&2048&&Tf(H.alternate,H);break;case 24:mo(D,H,K,de,A),A&&Se&2048&&Af(H.alternate,H);break;default:mo(D,H,K,de,A)}i=i.sibling}}function go(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=r,f=i,A=f.flags;switch(f.tag){case 22:go(l,f),A&2048&&Tf(f.alternate,f);break;case 24:go(l,f),A&2048&&Af(f.alternate,f);break;default:go(l,f)}i=i.sibling}}var zi=8192;function yo(r,i,l){if(r.subtreeFlags&zi)for(r=r.child;r!==null;)Nf(r,i,l),r=r.sibling}function Nf(r,i,l){switch(r.tag){case 26:yo(r,i,l),r.flags&zi&&r.memoizedState!==null&&ka(l,ws,r.memoizedState,r.memoizedProps);break;case 5:yo(r,i,l);break;case 3:case 4:var f=ws;ws=ft(r.stateNode.containerInfo),yo(r,i,l),ws=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=zi,zi=16777216,yo(r,i,l),zi=f):yo(r,i,l));break;default:yo(r,i,l)}}function du(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Il(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];ir=f,Rl(f,r)}du(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)br(r),r=r.sibling}function br(r){switch(r.tag){case 0:case 11:case 15:Il(r),r.flags&2048&&mi(9,r,r.return);break;case 3:Il(r);break;case 12:Il(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Fs(r)):Il(r);break;default:Il(r)}}function Fs(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var f=i[l];ir=f,Rl(f,r)}du(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:mi(8,i,i.return),Fs(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Fs(i));break;default:Fs(i)}r=r.sibling}}function Rl(r,i){for(;ir!==null;){var l=ir;switch(l.tag){case 0:case 11:case 15:mi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ol(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,ir=f;else e:for(l=r;ir!==null;){f=ir;var A=f.sibling,D=f.return;if(kl(f),f===l){ir=null;break e}if(A!==null){A.return=D,ir=A;break e}ir=D}}}var Dl={getCacheForType:function(r){var i=Qn($n),l=i.data.get(r);return l===void 0&&(l=r(),i.data.set(r,l)),l},cacheSignal:function(){return Qn($n).controller.signal}},Ot=typeof WeakMap=="function"?WeakMap:Map,ln=0,wn=null,Ht=null,Kt=0,pn=0,Kr=null,Hs=!1,vo=!1,Aa=!1,Xn=0,xn=0,gi=0,Na=0,kf=0,Wr=0,xo=0,yi=null,jr=null,If=!1,fu=0,cm=0,hu=1/0,pr=null,Vi=null,Zn=0,Fi=null,bo=null,vi=0,Rf=0,Df=null,um=null,Pl=0,Pf=null;function Qr(){return(ln&2)!==0&&Kt!==0?Kt&-Kt:ie.T!==null?zf():Ch()}function dm(){if(Wr===0)if((Kt&536870912)===0||Jt){var r=qo;qo<<=1,(qo&3932160)===0&&(qo=262144),Wr=r}else Wr=536870912;return r=Gr.current,r!==null&&(r.flags|=32),Wr}function Lr(r,i,l){(r===wn&&(pn===2||pn===9)||r.cancelPendingCommit!==null)&&(wo(r,0),Hi(r,Kt,Wr,!1)),Tr(r,l),((ln&2)===0||r!==wn)&&(r===wn&&((ln&2)===0&&(Na|=l),xn===4&&Hi(r,Kt,Wr,!1)),Gs(r))}function fm(r,i,l){if((ln&6)!==0)throw Error(s(327));var f=!l&&(i&127)===0&&(i&r.expiredLanes)===0||Wi(r,i),A=f?r0(r,i):Of(r,i,!0),D=f;do{if(A===0){vo&&!f&&Hi(r,i,0,!1);break}else{if(l=r.current.alternate,D&&!t0(l)){A=Of(r,i,!1),D=!1;continue}if(A===2){if(D=i,r.errorRecoveryDisabledLanes&D)var H=0;else H=r.pendingLanes&-536870913,H=H!==0?H:H&536870912?536870912:0;if(H!==0){i=H;e:{var K=r;A=yi;var de=K.current.memoizedState.isDehydrated;if(de&&(wo(K,H).flags|=256),H=Of(K,H,!1),H!==2){if(Aa&&!de){K.errorRecoveryDisabledLanes|=D,Na|=D,A=4;break e}D=jr,jr=A,D!==null&&(jr===null?jr=D:jr.push.apply(jr,D))}A=H}if(D=!1,A!==2)continue}}if(A===1){wo(r,0),Hi(r,i,0,!0);break}e:{switch(f=r,D=A,D){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hi(f,i,Wr,!Hs);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(A=fu+300-Ye(),10<A)){if(Hi(f,i,Wr,!Hs),$o(f,0,!0)!==0)break e;vi=i,f.timeoutHandle=P(hm.bind(null,f,l,jr,pr,If,i,Wr,Na,xo,Hs,D,"Throttled",-0,0),A);break e}hm(f,l,jr,pr,If,i,Wr,Na,xo,Hs,D,null,-0,0)}}break}while(!0);Gs(r)}function hm(r,i,l,f,A,D,H,K,de,Se,Oe,ze,Ce,Ie){if(r.timeoutHandle=-1,ze=i.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ds},Nf(i,D,ze);var ht=(D&62914560)===D?fu-Ye():(D&4194048)===D?cm-Ye():0;if(ht=Zf(ze,ht),ht!==null){vi=D,r.cancelPendingCommit=ht(wm.bind(null,r,i,D,l,f,A,H,K,de,Oe,ze,null,Ce,Ie)),Hi(r,D,H,!Se);return}}wm(r,i,D,l,f,A,H,K,de)}function t0(r){for(var i=r;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var A=l[f],D=A.getSnapshot;A=A.value;try{if(!Ir(D(),A))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(r,i,l,f){i&=~kf,i&=~Na,r.suspendedLanes|=i,r.pingedLanes&=~i,f&&(r.warmLanes|=i),f=r.expirationTimes;for(var A=i;0<A;){var D=31-nr(A),H=1<<D;f[D]=-1,A&=~H}l!==0&&Wu(r,l,i)}function pu(){return(ln&6)===0?(Ml(0),!1):!0}function Mf(){if(Ht!==null){if(pn===0)var r=Ht.return;else r=Ht,ms=ci=null,uo(r),ro=null,Pi=0,r=Ht;for(;r!==null;)Zp(r.alternate,r),r=r.return;Ht=null}}function wo(r,i){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,M(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),vi=0,Mf(),wn=r,Ht=l=Ms(r.current,null),Kt=i,pn=0,Kr=null,Hs=!1,vo=Wi(r,i),Aa=!1,xo=Wr=kf=Na=gi=xn=0,jr=yi=null,If=!1,(i&8)!==0&&(i|=i&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=i;0<f;){var A=31-nr(f),D=1<<A;i|=r[A],f&=~D}return Xn=i,da(),l}function pm(r,i){jt=null,ie.H=Sa,i===Di||i===Mc?(i=pp(),pn=3):i===Md?(i=pp(),pn=4):pn=i===df?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kr=i,Ht===null&&(xn=1,Qc(r,Dr(i,r.current)))}function mm(){var r=Gr.current;return r===null?!0:(Kt&4194048)===Kt?Yr===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?r===Yr:!1}function gm(){var r=ie.H;return ie.H=Sa,r===null?Sa:r}function ym(){var r=ie.A;return ie.A=Dl,r}function mu(){xn=4,Hs||(Kt&4194048)!==Kt&&Gr.current!==null||(vo=!0),(gi&134217727)===0&&(Na&134217727)===0||wn===null||Hi(wn,Kt,Wr,!1)}function Of(r,i,l){var f=ln;ln|=2;var A=gm(),D=ym();(wn!==r||Kt!==i)&&(pr=null,wo(r,i)),i=!1;var H=xn;e:do try{if(pn!==0&&Ht!==null){var K=Ht,de=Kr;switch(pn){case 8:Mf(),H=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(i=!0);var Se=pn;if(pn=0,Kr=null,_o(r,K,de,Se),l&&vo){H=0;break e}break;default:Se=pn,pn=0,Kr=null,_o(r,K,de,Se)}}n0(),H=xn;break}catch(Oe){pm(r,Oe)}while(!0);return i&&r.shellSuspendCounter++,ms=ci=null,ln=f,ie.H=A,ie.A=D,Ht===null&&(wn=null,Kt=0,da()),H}function n0(){for(;Ht!==null;)vm(Ht)}function r0(r,i){var l=ln;ln|=2;var f=gm(),A=ym();wn!==r||Kt!==i?(pr=null,hu=Ye()+500,wo(r,i)):vo=Wi(r,i);e:do try{if(pn!==0&&Ht!==null){i=Ht;var D=Kr;t:switch(pn){case 1:pn=0,Kr=null,_o(r,i,D,1);break;case 2:case 9:if(Od(D)){pn=0,Kr=null,xm(i);break}i=function(){pn!==2&&pn!==9||wn!==r||(pn=7),Gs(r)},D.then(i,i);break e;case 3:pn=7;break e;case 4:pn=5;break e;case 7:Od(D)?(pn=0,Kr=null,xm(i)):(pn=0,Kr=null,_o(r,i,D,7));break;case 5:var H=null;switch(Ht.tag){case 26:H=Ht.memoizedState;case 5:case 27:var K=Ht;if(H?On(H):K.stateNode.complete){pn=0,Kr=null;var de=K.sibling;if(de!==null)Ht=de;else{var Se=K.return;Se!==null?(Ht=Se,gu(Se)):Ht=null}break t}}pn=0,Kr=null,_o(r,i,D,5);break;case 6:pn=0,Kr=null,_o(r,i,D,6);break;case 8:Mf(),xn=6;break e;default:throw Error(s(462))}}s0();break}catch(Oe){pm(r,Oe)}while(!0);return ms=ci=null,ie.H=f,ie.A=A,ln=l,Ht!==null?0:(wn=null,Kt=0,da(),xn)}function s0(){for(;Ht!==null&&!mr();)vm(Ht)}function vm(r){var i=vf(r.alternate,r,Xn);r.memoizedProps=r.pendingProps,i===null?gu(r):Ht=i}function xm(r){var i=r,l=i.alternate;switch(i.tag){case 15:case 0:i=Kp(l,i,i.pendingProps,i.type,void 0,Kt);break;case 11:i=Kp(l,i,i.pendingProps,i.type.render,i.ref,Kt);break;case 5:uo(i);default:Zp(l,i),i=Ht=kd(i,Xn),i=vf(l,i,Xn)}r.memoizedProps=r.pendingProps,i===null?gu(r):Ht=i}function _o(r,i,l,f){ms=ci=null,uo(i),ro=null,Pi=0;var A=i.return;try{if(Xg(r,A,i,l,Kt)){xn=1,Qc(r,Dr(l,r.current)),Ht=null;return}}catch(D){if(A!==null)throw Ht=A,D;xn=1,Qc(r,Dr(l,r.current)),Ht=null;return}i.flags&32768?(Jt||f===1?r=!0:vo||(Kt&536870912)!==0?r=!1:(Hs=r=!0,(f===2||f===9||f===3||f===6)&&(f=Gr.current,f!==null&&f.tag===13&&(f.flags|=16384))),bm(i,r)):gu(i)}function gu(r){var i=r;do{if((i.flags&32768)!==0){bm(i,Hs);return}r=i.return;var l=Zg(i.alternate,i,Xn);if(l!==null){Ht=l;return}if(i=i.sibling,i!==null){Ht=i;return}Ht=i=r}while(i!==null);xn===0&&(xn=5)}function bm(r,i){do{var l=bf(r.alternate,r);if(l!==null){l.flags&=32767,Ht=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(r=r.sibling,r!==null)){Ht=r;return}Ht=r=l}while(r!==null);xn=6,Ht=null}function wm(r,i,l,f,A,D,H,K,de){r.cancelPendingCommit=null;do yu();while(Zn!==0);if((ln&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(D=i.lanes|i.childLanes,D|=xc,Dg(r,l,D,H,K,de),r===wn&&(Ht=wn=null,Kt=0),bo=i,Fi=r,vi=l,Rf=D,Df=A,um=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,l0(It,function(){return Tm(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null,A=ye.p,ye.p=2,H=ln,ln|=4;try{e0(r,i,l)}finally{ln=H,ye.p=A,ie.T=f}}Zn=1,_m(),Sm(),Em()}}function _m(){if(Zn===1){Zn=0;var r=Fi,i=bo,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=ie.T,ie.T=null;var f=ye.p;ye.p=2;var A=ln;ln|=4;try{Cf(i,r);var D=w,H=np(r.containerInfo),K=D.focusedElem,de=D.selectionRange;if(H!==K&&K&&K.ownerDocument&&tp(K.ownerDocument.documentElement,K)){if(de!==null&&_d(K)){var Se=de.start,Oe=de.end;if(Oe===void 0&&(Oe=Se),"selectionStart"in K)K.selectionStart=Se,K.selectionEnd=Math.min(Oe,K.value.length);else{var ze=K.ownerDocument||document,Ce=ze&&ze.defaultView||window;if(Ce.getSelection){var Ie=Ce.getSelection(),ht=K.textContent.length,kt=Math.min(de.start,ht),An=de.end===void 0?kt:Math.min(de.end,ht);!Ie.extend&&kt>An&&(H=An,An=kt,kt=H);var ge=ep(K,kt),he=ep(K,An);if(ge&&he&&(Ie.rangeCount!==1||Ie.anchorNode!==ge.node||Ie.anchorOffset!==ge.offset||Ie.focusNode!==he.node||Ie.focusOffset!==he.offset)){var we=ze.createRange();we.setStart(ge.node,ge.offset),Ie.removeAllRanges(),kt>An?(Ie.addRange(we),Ie.extend(he.node,he.offset)):(we.setEnd(he.node,he.offset),Ie.addRange(we))}}}}for(ze=[],Ie=K;Ie=Ie.parentNode;)Ie.nodeType===1&&ze.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<ze.length;K++){var $e=ze[K];$e.element.scrollLeft=$e.left,$e.element.scrollTop=$e.top}}Yi=!!x,w=x=null}finally{ln=A,ye.p=f,ie.T=l}}r.current=i,Zn=2}}function Sm(){if(Zn===2){Zn=0;var r=Fi,i=bo,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=ie.T,ie.T=null;var f=ye.p;ye.p=2;var A=ln;ln|=4;try{rm(r,i.alternate,i)}finally{ln=A,ye.p=f,ie.T=l}}Zn=3}}function Em(){if(Zn===4||Zn===3){Zn=0,Ge();var r=Fi,i=bo,l=vi,f=um;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Zn=5:(Zn=0,bo=Fi=null,Cm(r,r.pendingLanes));var A=r.pendingLanes;if(A===0&&(Vi=null),Xu(l),i=i.stateNode,Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Ua,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=ie.T,A=ye.p,ye.p=2,ie.T=null;try{for(var D=r.onRecoverableError,H=0;H<f.length;H++){var K=f[H];D(K.value,{componentStack:K.stack})}}finally{ie.T=i,ye.p=A}}(vi&3)!==0&&yu(),Gs(r),A=r.pendingLanes,(l&261930)!==0&&(A&42)!==0?r===Pf?Pl++:(Pl=0,Pf=r):Pl=0,Ml(0)}}function Cm(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,ol(i)))}function yu(){return _m(),Sm(),Em(),Tm()}function Tm(){if(Zn!==5)return!1;var r=Fi,i=Rf;Rf=0;var l=Xu(vi),f=ie.T,A=ye.p;try{ye.p=32>l?32:l,ie.T=null,l=Df,Df=null;var D=Fi,H=vi;if(Zn=0,bo=Fi=null,vi=0,(ln&6)!==0)throw Error(s(331));var K=ln;if(ln|=4,br(D.current),lm(D,D.current,H,l),ln=K,Ml(0,!1),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Ua,D)}catch{}return!0}finally{ye.p=A,ie.T=f,Cm(r,i)}}function Am(r,i,l){i=Dr(l,i),i=Zc(r.stateNode,i,2),r=Ui(r,i,2),r!==null&&(Tr(r,2),Gs(r))}function mn(r,i,l){if(r.tag===3)Am(r,r,l);else for(;i!==null;){if(i.tag===3){Am(i,r,l);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Vi===null||!Vi.has(f))){r=Dr(l,r),l=zp(2),f=Ui(i,l,2),f!==null&&(Vp(l,f,i,r),Tr(f,2),Gs(f));break}}i=i.return}}function Uf(r,i,l){var f=r.pingCache;if(f===null){f=r.pingCache=new Ot;var A=new Set;f.set(i,A)}else A=f.get(i),A===void 0&&(A=new Set,f.set(i,A));A.has(l)||(Aa=!0,A.add(l),r=i0.bind(null,r,i,l),i.then(r,r))}function i0(r,i,l){var f=r.pingCache;f!==null&&f.delete(i),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,wn===r&&(Kt&l)===l&&(xn===4||xn===3&&(Kt&62914560)===Kt&&300>Ye()-fu?(ln&2)===0&&wo(r,0):kf|=l,xo===Kt&&(xo=0)),Gs(r)}function Nm(r,i){i===0&&(i=tc()),r=fa(r,i),r!==null&&(Tr(r,i),Gs(r))}function a0(r){var i=r.memoizedState,l=0;i!==null&&(l=i.retryLane),Nm(r,l)}function o0(r,i){var l=0;switch(r.tag){case 31:case 13:var f=r.stateNode,A=r.memoizedState;A!==null&&(l=A.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(i),Nm(r,l)}function l0(r,i){return ts(r,i)}var vu=null,So=null,jf=!1,xu=!1,Lf=!1,Gi=0;function Gs(r){r!==So&&r.next===null&&(So===null?vu=So=r:So=So.next=r),xu=!0,jf||(jf=!0,Rm())}function Ml(r,i){if(!Lf&&xu){Lf=!0;do for(var l=!1,f=vu;f!==null;){if(r!==0){var A=f.pendingLanes;if(A===0)var D=0;else{var H=f.suspendedLanes,K=f.pingedLanes;D=(1<<31-nr(42|r)+1)-1,D&=A&~(H&~K),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(l=!0,$f(f,D))}else D=Kt,D=$o(f,f===wn?D:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(D&3)===0||Wi(f,D)||(l=!0,$f(f,D));f=f.next}while(l);Lf=!1}}function km(){Bf()}function Bf(){xu=jf=!1;var r=0;Gi!==0&&k()&&(r=Gi);for(var i=Ye(),l=null,f=vu;f!==null;){var A=f.next,D=Im(f,i);D===0?(f.next=null,l===null?vu=A:l.next=A,A===null&&(So=l)):(l=f,(r!==0||(D&3)!==0)&&(xu=!0)),f=A}Zn!==0&&Zn!==5||Ml(r),Gi!==0&&(Gi=0)}function Im(r,i){for(var l=r.suspendedLanes,f=r.pingedLanes,A=r.expirationTimes,D=r.pendingLanes&-62914561;0<D;){var H=31-nr(D),K=1<<H,de=A[H];de===-1?((K&l)===0||(K&f)!==0)&&(A[H]=Eh(K,i)):de<=i&&(r.expiredLanes|=K),D&=~K}if(i=wn,l=Kt,l=$o(r,r===i?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,l===0||r===i&&(pn===2||pn===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&ns(f),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Wi(r,l)){if(i=l&-l,i===r.callbackPriority)return i;switch(f!==null&&ns(f),Xu(l)){case 2:case 8:l=Ns;break;case 32:l=It;break;case 268435456:l=Sr;break;default:l=It}return f=qf.bind(null,r),l=ts(l,f),r.callbackPriority=i,r.callbackNode=l,i}return f!==null&&f!==null&&ns(f),r.callbackPriority=2,r.callbackNode=null,2}function qf(r,i){if(Zn!==0&&Zn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(yu()&&r.callbackNode!==l)return null;var f=Kt;return f=$o(r,r===wn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(fm(r,f,i),Im(r,Ye()),r.callbackNode!=null&&r.callbackNode===l?qf.bind(null,r):null)}function $f(r,i){if(yu())return null;fm(r,i,!0)}function Rm(){j(function(){(ln&6)!==0?ts(en,km):Bf()})}function zf(){if(Gi===0){var r=di;r===0&&(r=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Gi=r}return Gi}function Vf(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:oc(""+r)}function Ff(r,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,r.id&&l.setAttribute("form",r.id),i.parentNode.insertBefore(l,i),r=new FormData(r),l.parentNode.removeChild(l),r}function Dm(r,i,l,f,A){if(i==="submit"&&l&&l.stateNode===A){var D=Vf((A[Ar]||null).action),H=f.submitter;H&&(i=(i=H[Ar]||null)?Vf(i.formAction):H.getAttribute("formAction"),i!==null&&(D=i,H=null));var K=new Fo("action","action",null,f,A);r.push({event:K,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Gi!==0){var de=H?Ff(A,H):new FormData(A);ef(l,{pending:!0,data:de,method:A.method,action:D},null,de)}}else typeof D=="function"&&(K.preventDefault(),de=H?Ff(A,H):new FormData(A),ef(l,{pending:!0,data:de,method:A.method,action:D},D,de))},currentTarget:A}]})}}for(var Hf=0;Hf<Xo.length;Hf++){var Gf=Xo[Hf],c0=Gf.toLowerCase(),u0=Gf[0].toUpperCase()+Gf.slice(1);rr(c0,"on"+u0)}rr(ca,"onAnimationEnd"),rr(Td,"onAnimationIteration"),rr(sp,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr(Ad,"onTransitionRun"),rr(ip,"onTransitionStart"),rr(ap,"onTransitionCancel"),rr(vc,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function Pm(r,i){i=(i&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],A=f.event;f=f.listeners;e:{var D=void 0;if(i)for(var H=f.length-1;0<=H;H--){var K=f[H],de=K.instance,Se=K.currentTarget;if(K=K.listener,de!==D&&A.isPropagationStopped())break e;D=K,A.currentTarget=Se;try{D(A)}catch(Oe){Zo(Oe)}A.currentTarget=null,D=de}else for(H=0;H<f.length;H++){if(K=f[H],de=K.instance,Se=K.currentTarget,K=K.listener,de!==D&&A.isPropagationStopped())break e;D=K,A.currentTarget=Se;try{D(A)}catch(Oe){Zo(Oe)}A.currentTarget=null,D=de}}}}function Gt(r,i){var l=i[Zu];l===void 0&&(l=i[Zu]=new Set);var f=r+"__bubble";l.has(f)||(Ul(i,r,2,!1),l.add(f))}function Yf(r,i,l){var f=0;i&&(f|=4),Ul(l,r,f,i)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Ss(r){if(!r[bu]){r[bu]=!0,td.forEach(function(l){l!=="selectionchange"&&(d0.has(l)||Yf(l,!1,r),Yf(l,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[bu]||(i[bu]=!0,Yf("selectionchange",!1,i))}}function Ul(r,i,l,f){switch(lv(i)){case 2:var A=$_;break;case 8:A=z_;break;default:A=f0}l=A.bind(null,i,l,r),A=void 0,!lc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(A=!0),f?A!==void 0?r.addEventListener(i,l,{capture:!0,passive:A}):r.addEventListener(i,l,!0):A!==void 0?r.addEventListener(i,l,{passive:A}):r.addEventListener(i,l,!1)}function jl(r,i,l,f,A){var D=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var H=f.tag;if(H===3||H===4){var K=f.stateNode.containerInfo;if(K===A)break;if(H===4)for(H=f.return;H!==null;){var de=H.tag;if((de===3||de===4)&&H.stateNode.containerInfo===A)return;H=H.return}for(;K!==null;){if(H=Qi(K),H===null)return;if(de=H.tag,de===5||de===6||de===26||de===27){f=D=H;continue e}K=K.parentNode}}f=f.return}cd(function(){var Se=D,Oe=ld(l),ze=[];e:{var Ce=Nd.get(r);if(Ce!==void 0){var Ie=Fo,ht=r;switch(r){case"keypress":if(sa(l)===0)break e;case"keydown":case"keyup":Ie=Uh;break;case"focusin":ht="focus",Ie=Ya;break;case"focusout":ht="blur",Ie=Ya;break;case"beforeblur":case"afterblur":Ie=Ya;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=fd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Lh;break;case ca:case Td:case sp:Ie=aa;break;case vc:Ie=Bh;break;case"scroll":case"scrollend":Ie=Dh;break;case"wheel":Ie=Fg;break;case"copy":case"cut":case"paste":Ie=pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=jh;break;case"toggle":case"beforetoggle":Ie=ss}var kt=(i&4)!==0,An=!kt&&(r==="scroll"||r==="scrollend"),ge=kt?Ce!==null?Ce+"Capture":null:Ce;kt=[];for(var he=Se,we;he!==null;){var $e=he;if(we=$e.stateNode,$e=$e.tag,$e!==5&&$e!==26&&$e!==27||we===null||ge===null||($e=Fa(he,ge),$e!=null&&kt.push(Eo(he,$e,we))),An)break;he=he.return}0<kt.length&&(Ce=new Ie(Ce,ht,null,l,Oe),ze.push({event:Ce,listeners:kt}))}}if((i&7)===0){e:{if(Ce=r==="mouseover"||r==="pointerover",Ie=r==="mouseout"||r==="pointerout",Ce&&l!==od&&(ht=l.relatedTarget||l.fromElement)&&(Qi(ht)||ht[ja]))break e;if((Ie||Ce)&&(Ce=Oe.window===Oe?Oe:(Ce=Oe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Ie?(ht=l.relatedTarget||l.toElement,Ie=Se,ht=ht?Qi(ht):null,ht!==null&&(An=o(ht),kt=ht.tag,ht!==An||kt!==5&&kt!==27&&kt!==6)&&(ht=null)):(Ie=null,ht=Se),Ie!==ht)){if(kt=dd,$e="onMouseLeave",ge="onMouseEnter",he="mouse",(r==="pointerout"||r==="pointerover")&&(kt=jh,$e="onPointerLeave",ge="onPointerEnter",he="pointer"),An=Ie==null?Ce:Ba(Ie),we=ht==null?Ce:Ba(ht),Ce=new kt($e,he+"leave",Ie,l,Oe),Ce.target=An,Ce.relatedTarget=we,$e=null,Qi(Oe)===Se&&(kt=new kt(ge,he+"enter",ht,l,Oe),kt.target=we,kt.relatedTarget=An,$e=kt),An=$e,Ie&&ht)t:{for(kt=Mm,ge=Ie,he=ht,we=0,$e=ge;$e;$e=kt($e))we++;$e=0;for(var Tt=he;Tt;Tt=kt(Tt))$e++;for(;0<we-$e;)ge=kt(ge),we--;for(;0<$e-we;)he=kt(he),$e--;for(;we--;){if(ge===he||he!==null&&ge===he.alternate){kt=ge;break t}ge=kt(ge),he=kt(he)}kt=null}else kt=null;Ie!==null&&Jf(ze,Ce,Ie,kt,!1),ht!==null&&An!==null&&Jf(ze,An,ht,kt,!0)}}e:{if(Ce=Se?Ba(Se):window,Ie=Ce.nodeName&&Ce.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Ce.type==="file")var un=bd;else if(xd(Ce))if(wd)un=Xh;else{un=Wh;var xt=Kh}else Ie=Ce.nodeName,!Ie||Ie.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Se&&ac(Se.elementType)&&(un=bd):un=Qh;if(un&&(un=un(r,Se))){mc(ze,un,l,Oe);break e}xt&&xt(r,Ce,Se),r==="focusout"&&Se&&Ce.type==="number"&&Se.memoizedProps.value!=null&&za(Ce,"number",Ce.value)}switch(xt=Se?Ba(Se):window,r){case"focusin":(xd(xt)||xt.contentEditable==="true")&&(ai=xt,Xa=Se,Qo=null);break;case"focusout":Qo=Xa=ai=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Ed(ze,l,Oe);break;case"selectionchange":if(ii)break;case"keydown":case"keyup":Ed(ze,l,Oe)}var Bt;if(Rn)e:{switch(r){case"compositionstart":var rn="onCompositionStart";break e;case"compositionend":rn="onCompositionEnd";break e;case"compositionupdate":rn="onCompositionUpdate";break e}rn=void 0}else Vr?Fh(r,l)&&(rn="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(rn="onCompositionStart");rn&&(pc&&l.locale!=="ko"&&(Vr||rn!=="onCompositionStart"?rn==="onCompositionEnd"&&Vr&&(Bt=Ps()):(si=Oe,ra="value"in si?si.value:si.textContent,Vr=!0)),xt=Ys(Se,rn),0<xt.length&&(rn=new Ph(rn,r,null,l,Oe),ze.push({event:rn,listeners:xt}),Bt?rn.data=Bt:(Bt=Ko(l),Bt!==null&&(rn.data=Bt)))),(Bt=$h?dr(r,l):vd(r,l))&&(rn=Ys(Se,"onBeforeInput"),0<rn.length&&(xt=new Ph("onBeforeInput","beforeinput",null,l,Oe),ze.push({event:xt,listeners:rn}),xt.data=Bt)),Dm(ze,r,Se,l,Oe)}Pm(ze,i)})}function Eo(r,i,l){return{instance:r,listener:i,currentTarget:l}}function Ys(r,i){for(var l=i+"Capture",f=[];r!==null;){var A=r,D=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||D===null||(A=Fa(r,l),A!=null&&f.unshift(Eo(r,A,D)),A=Fa(r,i),A!=null&&f.push(Eo(r,A,D))),r.tag===3)return f;r=r.return}return[]}function Mm(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Jf(r,i,l,f,A){for(var D=i._reactName,H=[];l!==null&&l!==f;){var K=l,de=K.alternate,Se=K.stateNode;if(K=K.tag,de!==null&&de===f)break;K!==5&&K!==26&&K!==27||Se===null||(de=Se,A?(Se=Fa(l,D),Se!=null&&H.unshift(Eo(l,Se,de))):A||(Se=Fa(l,D),Se!=null&&H.push(Eo(l,Se,de)))),l=l.return}H.length!==0&&r.push({event:i,listeners:H})}var Kf=/\r\n?/g,Wf=/\u0000|\uFFFD/g;function Qf(r){return(typeof r=="string"?r:""+r).replace(Kf,`
`).replace(Wf,"")}function Xf(r,i){return i=Qf(i),Qf(r)===i}function gn(r,i,l,f,A,D){switch(l){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||Rs(r,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&Rs(r,""+f);break;case"className":us(r,"class",f);break;case"tabIndex":us(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":us(r,l,f);break;case"style":Ih(r,f,D);break;case"data":if(i!=="object"){us(r,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||l!=="href")){r.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=oc(""+f),r.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(l==="formAction"?(i!=="input"&&gn(r,i,"name",A.name,A,null),gn(r,i,"formEncType",A.formEncType,A,null),gn(r,i,"formMethod",A.formMethod,A,null),gn(r,i,"formTarget",A.formTarget,A,null)):(gn(r,i,"encType",A.encType,A,null),gn(r,i,"method",A.method,A,null),gn(r,i,"target",A.target,A,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=oc(""+f),r.setAttribute(l,f);break;case"onClick":f!=null&&(r.onclick=Ds);break;case"onScroll":f!=null&&Gt("scroll",r);break;case"onScrollEnd":f!=null&&Gt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(A.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}l=oc(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""+f):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":f===!0?r.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,f):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(l,f):r.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(l):r.setAttribute(l,f);break;case"popover":Gt("beforetoggle",r),Gt("toggle",r),ea(r,"popover",f);break;case"xlinkActuate":Is(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Is(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Is(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Is(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Is(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Is(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Is(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Is(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Is(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ea(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Bg.get(l)||l,ea(r,l,f))}}function Ll(r,i,l,f,A,D){switch(l){case"style":Ih(r,f,D);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(l=f.__html,l!=null){if(A.children!=null)throw Error(s(60));r.innerHTML=l}}break;case"children":typeof f=="string"?Rs(r,f):(typeof f=="number"||typeof f=="bigint")&&Rs(r,""+f);break;case"onScroll":f!=null&&Gt("scroll",r);break;case"onScrollEnd":f!=null&&Gt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(A=l.endsWith("Capture"),i=l.slice(2,A?l.length-7:void 0),D=r[Ar]||null,D=D!=null?D[l]:null,typeof D=="function"&&r.removeEventListener(i,D,A),typeof f=="function")){typeof D!="function"&&D!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(i,f,A);break e}l in r?r[l]=f:f===!0?r.setAttribute(l,""):ea(r,l,f)}}}function c(r,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",r),Gt("load",r);var f=!1,A=!1,D;for(D in l)if(l.hasOwnProperty(D)){var H=l[D];if(H!=null)switch(D){case"src":f=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:gn(r,i,D,H,l,null)}}A&&gn(r,i,"srcSet",l.srcSet,l,null),f&&gn(r,i,"src",l.src,l,null);return;case"input":Gt("invalid",r);var K=D=H=A=null,de=null,Se=null;for(f in l)if(l.hasOwnProperty(f)){var Oe=l[f];if(Oe!=null)switch(f){case"name":A=Oe;break;case"type":H=Oe;break;case"checked":de=Oe;break;case"defaultChecked":Se=Oe;break;case"value":D=Oe;break;case"defaultValue":K=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(s(137,i));break;default:gn(r,i,f,Oe,l,null)}}ic(r,D,K,de,Se,H,A,!1);return;case"select":Gt("invalid",r),f=H=D=null;for(A in l)if(l.hasOwnProperty(A)&&(K=l[A],K!=null))switch(A){case"value":D=K;break;case"defaultValue":H=K;break;case"multiple":f=K;default:gn(r,i,A,K,l,null)}i=D,l=H,r.multiple=!!f,i!=null?an(r,!!f,i,!1):l!=null&&an(r,!!f,l,!0);return;case"textarea":Gt("invalid",r),D=A=f=null;for(H in l)if(l.hasOwnProperty(H)&&(K=l[H],K!=null))switch(H){case"value":f=K;break;case"defaultValue":A=K;break;case"children":D=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(91));break;default:gn(r,i,H,K,l,null)}ta(r,f,A,D);return;case"option":for(de in l)if(l.hasOwnProperty(de)&&(f=l[de],f!=null))switch(de){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:gn(r,i,de,f,l,null)}return;case"dialog":Gt("beforetoggle",r),Gt("toggle",r),Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":Gt("load",r);break;case"video":case"audio":for(f=0;f<Ol.length;f++)Gt(Ol[f],r);break;case"image":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"embed":case"source":case"link":Gt("error",r),Gt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in l)if(l.hasOwnProperty(Se)&&(f=l[Se],f!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:gn(r,i,Se,f,l,null)}return;default:if(ac(i)){for(Oe in l)l.hasOwnProperty(Oe)&&(f=l[Oe],f!==void 0&&Ll(r,i,Oe,f,l,void 0));return}}for(K in l)l.hasOwnProperty(K)&&(f=l[K],f!=null&&gn(r,i,K,f,l,null))}function d(r,i,l,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,D=null,H=null,K=null,de=null,Se=null,Oe=null;for(Ie in l){var ze=l[Ie];if(l.hasOwnProperty(Ie)&&ze!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":de=ze;default:f.hasOwnProperty(Ie)||gn(r,i,Ie,null,f,ze)}}for(var Ce in f){var Ie=f[Ce];if(ze=l[Ce],f.hasOwnProperty(Ce)&&(Ie!=null||ze!=null))switch(Ce){case"type":D=Ie;break;case"name":A=Ie;break;case"checked":Se=Ie;break;case"defaultChecked":Oe=Ie;break;case"value":H=Ie;break;case"defaultValue":K=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(s(137,i));break;default:Ie!==ze&&gn(r,i,Ce,Ie,f,ze)}}$a(r,H,K,de,Se,Oe,D,A);return;case"select":Ie=H=K=Ce=null;for(D in l)if(de=l[D],l.hasOwnProperty(D)&&de!=null)switch(D){case"value":break;case"multiple":Ie=de;default:f.hasOwnProperty(D)||gn(r,i,D,null,f,de)}for(A in f)if(D=f[A],de=l[A],f.hasOwnProperty(A)&&(D!=null||de!=null))switch(A){case"value":Ce=D;break;case"defaultValue":K=D;break;case"multiple":H=D;default:D!==de&&gn(r,i,A,D,f,de)}i=K,l=H,f=Ie,Ce!=null?an(r,!!l,Ce,!1):!!f!=!!l&&(i!=null?an(r,!!l,i,!0):an(r,!!l,l?[]:"",!1));return;case"textarea":Ie=Ce=null;for(K in l)if(A=l[K],l.hasOwnProperty(K)&&A!=null&&!f.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:gn(r,i,K,null,f,A)}for(H in f)if(A=f[H],D=l[H],f.hasOwnProperty(H)&&(A!=null||D!=null))switch(H){case"value":Ce=A;break;case"defaultValue":Ie=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:A!==D&&gn(r,i,H,A,f,D)}ad(r,Ce,Ie);return;case"option":for(var ht in l)if(Ce=l[ht],l.hasOwnProperty(ht)&&Ce!=null&&!f.hasOwnProperty(ht))switch(ht){case"selected":r.selected=!1;break;default:gn(r,i,ht,null,f,Ce)}for(de in f)if(Ce=f[de],Ie=l[de],f.hasOwnProperty(de)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(de){case"selected":r.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:gn(r,i,de,Ce,f,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in l)Ce=l[kt],l.hasOwnProperty(kt)&&Ce!=null&&!f.hasOwnProperty(kt)&&gn(r,i,kt,null,f,Ce);for(Se in f)if(Ce=f[Se],Ie=l[Se],f.hasOwnProperty(Se)&&Ce!==Ie&&(Ce!=null||Ie!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(s(137,i));break;default:gn(r,i,Se,Ce,f,Ie)}return;default:if(ac(i)){for(var An in l)Ce=l[An],l.hasOwnProperty(An)&&Ce!==void 0&&!f.hasOwnProperty(An)&&Ll(r,i,An,void 0,f,Ce);for(Oe in f)Ce=f[Oe],Ie=l[Oe],!f.hasOwnProperty(Oe)||Ce===Ie||Ce===void 0&&Ie===void 0||Ll(r,i,Oe,Ce,f,Ie);return}}for(var ge in l)Ce=l[ge],l.hasOwnProperty(ge)&&Ce!=null&&!f.hasOwnProperty(ge)&&gn(r,i,ge,null,f,Ce);for(ze in f)Ce=f[ze],Ie=l[ze],!f.hasOwnProperty(ze)||Ce===Ie||Ce==null&&Ie==null||gn(r,i,ze,Ce,f,Ie)}function h(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,l=performance.getEntriesByType("resource"),f=0;f<l.length;f++){var A=l[f],D=A.transferSize,H=A.initiatorType,K=A.duration;if(D&&K&&h(H)){for(H=0,K=A.responseEnd,f+=1;f<l.length;f++){var de=l[f],Se=de.startTime;if(Se>K)break;var Oe=de.transferSize,ze=de.initiatorType;Oe&&h(ze)&&(de=de.responseEnd,H+=Oe*(de<K?1:(K-Se)/(de-Se)))}if(--f,i+=8*(D+H)/(A.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var x=null,w=null;function S(r){return r.nodeType===9?r:r.ownerDocument}function E(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function T(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var I=null;function k(){var r=window.event;return r&&r.type==="popstate"?r===I?!1:(I=r,!0):(I=null,!1)}var P=typeof setTimeout=="function"?setTimeout:void 0,M=typeof clearTimeout=="function"?clearTimeout:void 0,O=typeof Promise=="function"?Promise:void 0,j=typeof queueMicrotask=="function"?queueMicrotask:typeof O<"u"?function(r){return O.resolve(null).then(r).catch(B)}:P;function B(r){setTimeout(function(){throw r})}function V(r){return r==="head"}function $(r,i){var l=i,f=0;do{var A=l.nextSibling;if(r.removeChild(l),A&&A.nodeType===8)if(l=A.data,l==="/$"||l==="/&"){if(f===0){r.removeChild(A),Su(i);return}f--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")f++;else if(l==="html")Ee(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,Ee(l);for(var D=l.firstChild;D;){var H=D.nextSibling,K=D.nodeName;D[La]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&D.rel.toLowerCase()==="stylesheet"||l.removeChild(D),D=H}}else l==="body"&&Ee(r.ownerDocument.body);l=A}while(l);Su(i)}function G(r,i){var l=r;r=0;do{var f=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=f}while(l)}function Y(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Y(l),rc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function q(r,i,l,f){for(;r.nodeType===1;){var A=l;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[La])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(D=r.getAttribute("rel"),D==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(D!==A.rel||r.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||r.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||r.getAttribute("title")!==(A.title==null?null:A.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(D=r.getAttribute("src"),(D!==(A.src==null?null:A.src)||r.getAttribute("type")!==(A.type==null?null:A.type)||r.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&D&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var D=A.name==null?null:""+A.name;if(A.type==="hidden"&&r.getAttribute("name")===D)return r}else return r;if(r=ne(r.nextSibling),r===null)break}return null}function z(r,i,l){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ne(r.nextSibling),r===null))return null;return r}function J(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=ne(r.nextSibling),r===null))return null;return r}function W(r){return r.data==="$?"||r.data==="$~"}function Z(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function X(r,i){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||l.readyState!=="loading")i();else{var f=function(){i(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ne(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Ve=null;function Be(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(i===0)return ne(r.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}r=r.nextSibling}return null}function Le(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return r;i--}else l!=="/$"&&l!=="/&"||i++}r=r.previousSibling}return null}function _e(r,i,l){switch(i=S(l),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Ee(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);rc(r)}var Xe=new Map,Je=new Set;function ft(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var St=ye.d;ye.d={f:Qe,r:Ze,D:bt,C:Ae,L:xe,m:Te,X:We,S:rt,M:Ut};function Qe(){var r=St.f(),i=pu();return r||i}function Ze(r){var i=Xi(r);i!==null&&i.tag===5&&i.type==="form"?Op(i):St.r(r)}var oe=typeof document>"u"?null:document;function be(r,i,l){var f=oe;if(f&&typeof i=="string"&&i){var A=zr(i);A='link[rel="'+r+'"][href="'+A+'"]',typeof l=="string"&&(A+='[crossorigin="'+l+'"]'),Je.has(A)||(Je.add(A),r={rel:r,crossOrigin:l,href:i},f.querySelector(A)===null&&(i=f.createElement("link"),c(i,"link",r),Wn(i),f.head.appendChild(i)))}}function bt(r){St.D(r),be("dns-prefetch",r,null)}function Ae(r,i){St.C(r,i),be("preconnect",r,i)}function xe(r,i,l){St.L(r,i,l);var f=oe;if(f&&r&&i){var A='link[rel="preload"][as="'+zr(i)+'"]';i==="image"&&l&&l.imageSrcSet?(A+='[imagesrcset="'+zr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(A+='[imagesizes="'+zr(l.imageSizes)+'"]')):A+='[href="'+zr(r)+'"]';var D=A;switch(i){case"style":D=st(r);break;case"script":D=Wt(r)}Xe.has(D)||(r=R({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:r,as:i},l),Xe.set(D,r),f.querySelector(A)!==null||i==="style"&&f.querySelector(Ct(D))||i==="script"&&f.querySelector(lt(D))||(i=f.createElement("link"),c(i,"link",r),Wn(i),f.head.appendChild(i)))}}function Te(r,i){St.m(r,i);var l=oe;if(l&&r){var f=i&&typeof i.as=="string"?i.as:"script",A='link[rel="modulepreload"][as="'+zr(f)+'"][href="'+zr(r)+'"]',D=A;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=Wt(r)}if(!Xe.has(D)&&(r=R({rel:"modulepreload",href:r},i),Xe.set(D,r),l.querySelector(A)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(lt(D)))return}f=l.createElement("link"),c(f,"link",r),Wn(f),l.head.appendChild(f)}}}function rt(r,i,l){St.S(r,i,l);var f=oe;if(f&&r){var A=Zi(f).hoistableStyles,D=st(r);i=i||"default";var H=A.get(D);if(!H){var K={loading:0,preload:null};if(H=f.querySelector(Ct(D)))K.loading=5;else{r=R({rel:"stylesheet",href:r,"data-precedence":i},l),(l=Xe.get(D))&&et(r,l);var de=H=f.createElement("link");Wn(de),c(de,"link",r),de._p=new Promise(function(Se,Oe){de.onload=Se,de.onerror=Oe}),de.addEventListener("load",function(){K.loading|=1}),de.addEventListener("error",function(){K.loading|=2}),K.loading|=4,Jn(H,i,f)}H={type:"stylesheet",instance:H,count:1,state:K},A.set(D,H)}}}function We(r,i){St.X(r,i);var l=oe;if(l&&r){var f=Zi(l).hoistableScripts,A=Wt(r),D=f.get(A);D||(D=l.querySelector(lt(A)),D||(r=R({src:r,async:!0},i),(i=Xe.get(A))&&$t(r,i),D=l.createElement("script"),Wn(D),c(D,"link",r),l.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},f.set(A,D))}}function Ut(r,i){St.M(r,i);var l=oe;if(l&&r){var f=Zi(l).hoistableScripts,A=Wt(r),D=f.get(A);D||(D=l.querySelector(lt(A)),D||(r=R({src:r,async:!0,type:"module"},i),(i=Xe.get(A))&&$t(r,i),D=l.createElement("script"),Wn(D),c(D,"link",r),l.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},f.set(A,D))}}function qt(r,i,l,f){var A=(A=ct.current)?ft(A):null;if(!A)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=st(l.href),l=Zi(A).hoistableStyles,f=l.get(i),f||(f={type:"style",instance:null,count:0,state:null},l.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=st(l.href);var D=Zi(A).hoistableStyles,H=D.get(r);if(H||(A=A.ownerDocument||A,H={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(r,H),(D=A.querySelector(Ct(r)))&&!D._p&&(H.instance=D,H.state.loading=5),Xe.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xe.set(r,l),D||Mn(A,r,l,H.state))),i&&f===null)throw Error(s(528,""));return H}if(i&&f!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wt(l),l=Zi(A).hoistableScripts,f=l.get(i),f||(f={type:"script",instance:null,count:0,state:null},l.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function st(r){return'href="'+zr(r)+'"'}function Ct(r){return'link[rel="stylesheet"]['+r+"]"}function ar(r){return R({},r,{"data-precedence":r.precedence,precedence:null})}function Mn(r,i,l,f){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=r.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),c(i,"link",l),Wn(i),r.head.appendChild(i))}function Wt(r){return'[src="'+zr(r)+'"]'}function lt(r){return"script[async]"+r}function on(r,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var f=r.querySelector('style[data-href~="'+zr(l.href)+'"]');if(f)return i.instance=f,Wn(f),f;var A=R({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Wn(f),c(f,"style",A),Jn(f,l.precedence,r),i.instance=f;case"stylesheet":A=st(l.href);var D=r.querySelector(Ct(A));if(D)return i.state.loading|=4,i.instance=D,Wn(D),D;f=ar(l),(A=Xe.get(A))&&et(f,A),D=(r.ownerDocument||r).createElement("link"),Wn(D);var H=D;return H._p=new Promise(function(K,de){H.onload=K,H.onerror=de}),c(D,"link",f),i.state.loading|=4,Jn(D,l.precedence,r),i.instance=D;case"script":return D=Wt(l.src),(A=r.querySelector(lt(D)))?(i.instance=A,Wn(A),A):(f=l,(A=Xe.get(D))&&(f=R({},l),$t(f,A)),r=r.ownerDocument||r,A=r.createElement("script"),Wn(A),c(A,"link",f),r.head.appendChild(A),i.instance=A);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,Jn(f,l.precedence,r));return i.instance}function Jn(r,i,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=f.length?f[f.length-1]:null,D=A,H=0;H<f.length;H++){var K=f[H];if(K.dataset.precedence===i)D=K;else if(D!==A)break}D?D.parentNode.insertBefore(r,D.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(r,i.firstChild))}function et(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function $t(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ke=null;function Dt(r,i,l){if(Ke===null){var f=new Map,A=Ke=new Map;A.set(l,f)}else A=Ke,f=A.get(l),f||(f=new Map,A.set(l,f));if(f.has(r))return f;for(f.set(r,null),l=l.getElementsByTagName(r),A=0;A<l.length;A++){var D=l[A];if(!(D[La]||D[lr]||r==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var H=D.getAttribute(i)||"";H=r+H;var K=f.get(H);K?K.push(D):f.set(H,[D])}}return f}function In(r,i,l){r=r.ownerDocument||r,r.head.insertBefore(l,i==="title"?r.querySelector("head > title"):null)}function er(r,i,l){if(l===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function On(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function ka(r,i,l,f){if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var A=st(f.href),D=i.querySelector(Ct(A));if(D){i=D._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=wu.bind(r),i.then(r,r)),l.state.loading|=4,l.instance=D,Wn(D);return}D=i.ownerDocument||i,f=ar(f),(A=Xe.get(A))&&et(f,A),D=D.createElement("link"),Wn(D);var H=D;H._p=new Promise(function(K,de){H.onload=K,H.onerror=de}),c(D,"link",f),l.instance=D}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=wu.bind(r),i.addEventListener("load",l),i.addEventListener("error",l))}}var Js=0;function Zf(r,i){return r.stylesheets&&r.count===0&&Co(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var f=setTimeout(function(){if(r.stylesheets&&Co(r,r.stylesheets),r.unsuspend){var D=r.unsuspend;r.unsuspend=null,D()}},6e4+i);0<r.imgBytes&&Js===0&&(Js=62500*y());var A=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Co(r,r.stylesheets),r.unsuspend)){var D=r.unsuspend;r.unsuspend=null,D()}},(r.imgBytes>Js?50:800)+i);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(A)}}:null}function wu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Co(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var _u=null;function Co(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,_u=new Map,i.forEach(eh,r),_u=null,wu.call(r))}function eh(r,i){if(!(i.state.loading&4)){var l=_u.get(r);if(l)var f=l.get(null);else{l=new Map,_u.set(r,l);for(var A=r.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<A.length;D++){var H=A[D];(H.nodeName==="LINK"||H.getAttribute("media")!=="not all")&&(l.set(H.dataset.precedence,H),f=H)}f&&l.set(null,f)}A=i.instance,H=A.getAttribute("data-precedence"),D=l.get(H)||f,D===f&&l.set(null,A),l.set(H,A),this.count++,f=wu.bind(this),A.addEventListener("load",f),A.addEventListener("error",f),D?D.parentNode.insertBefore(A,D.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(A,r.firstChild)),i.state.loading|=4}}var zt={$$typeof:te,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function Qt(r,i,l,f,A,D,H,K,de){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cn(0),this.hiddenUpdates=cn(null),this.identifierPrefix=f,this.onUncaughtError=A,this.onCaughtError=D,this.onRecoverableError=H,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=de,this.incompleteTransitions=new Map}function tn(r,i,l,f,A,D,H,K,de,Se,Oe,ze){return r=new Qt(r,i,l,H,de,Se,Oe,ze,K),i=1,D===!0&&(i|=24),D=Rr(3,null,null,i),r.current=D,D.stateNode=r,i=Ic(),i.refCount++,r.pooledCache=i,i.refCount++,D.memoizedState={element:f,isDehydrated:l,cache:i},Uc(D),r}function Nt(r){return r?(r=eo,r):eo}function Xt(r,i,l,f,A,D){A=Nt(A),f.context===null?f.context=A:f.pendingContext=A,f=Oi(i),f.payload={element:l},D=D===void 0?null:D,D!==null&&(f.callback=D),l=Ui(r,f,i),l!==null&&(Lr(l,r,i),ul(l,r,i))}function cr(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<i?l:i}}function nn(r,i){cr(r,i),(r=r.alternate)&&cr(r,i)}function yn(r){if(r.tag===13||r.tag===31){var i=fa(r,67108864);i!==null&&Lr(i,r,67108864),nn(r,67108864)}}function Tn(r){if(r.tag===13||r.tag===31){var i=Qr();i=zo(i);var l=fa(r,i);l!==null&&Lr(l,r,i),nn(r,i)}}var Yi=!0;function $_(r,i,l,f){var A=ie.T;ie.T=null;var D=ye.p;try{ye.p=2,f0(r,i,l,f)}finally{ye.p=D,ie.T=A}}function z_(r,i,l,f){var A=ie.T;ie.T=null;var D=ye.p;try{ye.p=8,f0(r,i,l,f)}finally{ye.p=D,ie.T=A}}function f0(r,i,l,f){if(Yi){var A=h0(f);if(A===null)jl(r,i,f,Om,l),cv(r,f);else if(F_(A,r,i,l,f))f.stopPropagation();else if(cv(r,f),i&4&&-1<V_.indexOf(r)){for(;A!==null;){var D=Xi(A);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var H=Ti(D.pendingLanes);if(H!==0){var K=D;for(K.pendingLanes|=2,K.entangledLanes|=2;H;){var de=1<<31-nr(H);K.entanglements[1]|=de,H&=~de}Gs(D),(ln&6)===0&&(hu=Ye()+500,Ml(0))}}break;case 31:case 13:K=fa(D,2),K!==null&&Lr(K,D,2),pu(),nn(D,2)}if(D=h0(f),D===null&&jl(r,i,f,Om,l),D===A)break;A=D}A!==null&&f.stopPropagation()}else jl(r,i,f,null,l)}}function h0(r){return r=ld(r),p0(r)}var Om=null;function p0(r){if(Om=null,r=Qi(r),r!==null){var i=o(r);if(i===null)r=null;else{var l=i.tag;if(l===13){if(r=u(i),r!==null)return r;r=null}else if(l===31){if(r=g(i),r!==null)return r;r=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Om=r,null}function lv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case en:return 2;case Ns:return 8;case It:case Sn:return 32;case Sr:return 268435456;default:return 32}default:return 32}}var m0=!1,To=null,Ao=null,No=null,th=new Map,nh=new Map,ko=[],V_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cv(r,i){switch(r){case"focusin":case"focusout":To=null;break;case"dragenter":case"dragleave":Ao=null;break;case"mouseover":case"mouseout":No=null;break;case"pointerover":case"pointerout":th.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nh.delete(i.pointerId)}}function rh(r,i,l,f,A,D){return r===null||r.nativeEvent!==D?(r={blockedOn:i,domEventName:l,eventSystemFlags:f,nativeEvent:D,targetContainers:[A]},i!==null&&(i=Xi(i),i!==null&&yn(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,A!==null&&i.indexOf(A)===-1&&i.push(A),r)}function F_(r,i,l,f,A){switch(i){case"focusin":return To=rh(To,r,i,l,f,A),!0;case"dragenter":return Ao=rh(Ao,r,i,l,f,A),!0;case"mouseover":return No=rh(No,r,i,l,f,A),!0;case"pointerover":var D=A.pointerId;return th.set(D,rh(th.get(D)||null,r,i,l,f,A)),!0;case"gotpointercapture":return D=A.pointerId,nh.set(D,rh(nh.get(D)||null,r,i,l,f,A)),!0}return!1}function uv(r){var i=Qi(r.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=u(l),i!==null){r.blockedOn=i,Th(r.priority,function(){Tn(l)});return}}else if(i===31){if(i=g(l),i!==null){r.blockedOn=i,Th(r.priority,function(){Tn(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Um(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var l=h0(r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);od=f,l.target.dispatchEvent(f),od=null}else return i=Xi(l),i!==null&&yn(i),r.blockedOn=l,!1;i.shift()}return!0}function dv(r,i,l){Um(r)&&l.delete(i)}function H_(){m0=!1,To!==null&&Um(To)&&(To=null),Ao!==null&&Um(Ao)&&(Ao=null),No!==null&&Um(No)&&(No=null),th.forEach(dv),nh.forEach(dv)}function jm(r,i){r.blockedOn===i&&(r.blockedOn=null,m0||(m0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,H_)))}var Lm=null;function fv(r){Lm!==r&&(Lm=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Lm===r&&(Lm=null);for(var i=0;i<r.length;i+=3){var l=r[i],f=r[i+1],A=r[i+2];if(typeof f!="function"){if(p0(f||l)===null)continue;break}var D=Xi(l);D!==null&&(r.splice(i,3),i-=3,ef(D,{pending:!0,data:A,method:l.method,action:f},f,A))}}))}function Su(r){function i(de){return jm(de,r)}To!==null&&jm(To,r),Ao!==null&&jm(Ao,r),No!==null&&jm(No,r),th.forEach(i),nh.forEach(i);for(var l=0;l<ko.length;l++){var f=ko[l];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ko.length&&(l=ko[0],l.blockedOn===null);)uv(l),l.blockedOn===null&&ko.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var A=l[f],D=l[f+1],H=A[Ar]||null;if(typeof D=="function")H||fv(l);else if(H){var K=null;if(D&&D.hasAttribute("formAction")){if(A=D,H=D[Ar]||null)K=H.formAction;else if(p0(A)!==null)continue}else K=H.action;typeof K=="function"?l[f+1]=K:(l.splice(f,3),f-=3),fv(l)}}}function hv(){function r(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(H){return A=H})},focusReset:"manual",scroll:"manual"})}function i(){A!==null&&(A(),A=null),f||setTimeout(l,20)}function l(){if(!f&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,A=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),A!==null&&(A(),A=null)}}}function g0(r){this._internalRoot=r}Bm.prototype.render=g0.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,f=Qr();Xt(l,f,r,i,null,null)},Bm.prototype.unmount=g0.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Xt(r.current,2,null,r,null,null),pu(),i[ja]=null}};function Bm(r){this._internalRoot=r}Bm.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ch();r={blockedOn:null,target:r,priority:i};for(var l=0;l<ko.length&&i!==0&&i<ko[l].priority;l++);ko.splice(l,0,r),l===0&&uv(r)}};var pv=e.version;if(pv!=="19.2.0")throw Error(s(527,pv,"19.2.0"));ye.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?N(r):null,r=r===null?null:r.stateNode,r};var G_={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qm.isDisabled&&qm.supportsFiber)try{Ua=qm.inject(G_),Er=qm}catch{}}return ih.createRoot=function(r,i){if(!a(r))throw Error(s(299));var l=!1,f="",A=Jr,D=qi,H=uf;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(A=i.onUncaughtError),i.onCaughtError!==void 0&&(D=i.onCaughtError),i.onRecoverableError!==void 0&&(H=i.onRecoverableError)),i=tn(r,1,!1,null,null,l,f,null,A,D,H,hv),r[ja]=i.current,Ss(r),new g0(i)},ih.hydrateRoot=function(r,i,l){if(!a(r))throw Error(s(299));var f=!1,A="",D=Jr,H=qi,K=uf,de=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(A=l.identifierPrefix),l.onUncaughtError!==void 0&&(D=l.onUncaughtError),l.onCaughtError!==void 0&&(H=l.onCaughtError),l.onRecoverableError!==void 0&&(K=l.onRecoverableError),l.formState!==void 0&&(de=l.formState)),i=tn(r,1,!0,i,l??null,f,A,de,D,H,K,hv),i.context=Nt(null),l=i.current,f=Qr(),f=zo(f),A=Oi(f),A.callback=null,Ui(l,A,f),l=f,i.current.lanes=l,Tr(i,l),Gs(i),r[ja]=i.current,Ss(r),new Bm(i)},ih.version="19.2.0",ih}var Ev;function sS(){if(Ev)return x0.exports;Ev=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),x0.exports=rS(),x0.exports}var iS=sS();const aS=yy(iS);var ng={isNone:function(){return!0},orElse:function(t){return t},orCall:function(t){return t()},orNull:function(){return null},orThrow:function(t){throw t===void 0&&(t="Unexpected null value"),new TypeError(t)},map:function(){return ng},get:function(){return ng}},zb=(function(){function t(e){this.value=e}return t.prototype.isNone=function(){return!1},t.prototype.orElse=function(){return this.value},t.prototype.orCall=function(){return this.value},t.prototype.orNull=function(){return this.value},t.prototype.orThrow=function(){return this.value},t.prototype.map=function(e){return wt(e(this.value))},t.prototype.get=function(e){return this.map(function(n){return n[e]})},t})();function oS(t){return t===ng||t instanceof zb}function wt(t){return oS(t)?t:t==null?ng:lS(t)}function lS(t){if(t==null)throw new TypeError("some() does not accept null or undefined");return new zb(t)}let rg=class extends Error{constructor(e){super(e.statusText),Object.setPrototypeOf(this,new.target.prototype),this.headers=e.headers,this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.data=e.data}},q0,Vb;"rawJSON"in JSON&&(q0=function(t,e,n){if(Number.isInteger(e)&&!Number.isSafeInteger(e))try{return BigInt(n.source)}catch{return e}return e},Vb=function(t,e){return typeof e=="bigint"?JSON.rawJSON(String(e)):e});const xy=t=>t==="post"||t==="put"||t==="patch"||t==="delete";function cS(t){const e=[],n=(s,a)=>`${encodeURIComponent(s)}=${encodeURIComponent(String(a))}`;return Object.keys(t).forEach(s=>{const a=t[s];a!=null&&(Array.isArray(a)?a.forEach(o=>e.push(n(s,o))):e.push(n(s,a)))}),e.length>0?`?${e.join("&")}`:""}function uS(t,e){return t.replace(/\{([^}]+)\}/g,(n,s)=>{const a=encodeURIComponent(e[s]);return delete e[s],a})}function dS(t,e,n){let s={};return xy(t)?n.forEach(a=>{s[a]=e[a],delete e[a]}):s={...e},cS(s)}function fS(t,e){const n=new Headers(e);return t!==void 0&&!(t instanceof FormData)&&!n.has("Content-Type")&&n.append("Content-Type","application/json"),n.has("Accept")||n.append("Accept","application/json"),n}function hS(t,e){if(!xy(t))return;const n=e instanceof FormData?e:JSON.stringify(e,Vb);return t==="delete"&&n==="{}"?void 0:n}function pS(t,e){const n=new Headers(t==null?void 0:t.headers),s=new Headers(e==null?void 0:e.headers);for(const a of s.keys()){const o=s.get(a);o!=null&&n.set(a,o)}return{...t,...e,headers:n}}function mS(t){var v,p;const e=Object.assign(Array.isArray(t.payload)?[]:{},t.payload),n=uS(t.path,e),s=dS(t.method,e,t.queryParams),a=hS(t.method,e),o=xy(t.method)?fS(a,(v=t.init)==null?void 0:v.headers):new Headers((p=t.init)==null?void 0:p.headers),u=t.baseUrl+n+s,g={...t.init,method:t.method.toUpperCase(),headers:o,body:a};return{url:u,init:g}}async function gS(t){if(t.status===204)return;const e=t.headers.get("content-type"),n=await t.text();if(e&&e.includes("application/json"))return JSON.parse(n,q0);try{return JSON.parse(n,q0)}catch{return n}}async function yS(t,e){const n=await fetch(t,e),s=await gS(n),a={headers:n.headers,url:n.url,ok:n.ok,status:n.status,statusText:n.statusText,data:s};if(a.ok)return a;throw new rg(a)}function vS(t,e){const n=async(s,a,o)=>{if(t==null||s===t.length)return e(a,o);const u=t[s];return await u(a,o,(g,v)=>n(s+1,g,v))};return(s,a)=>n(0,s,a)}async function xS(t){const{url:e,init:n}=mS(t);return await t.fetch(e,n)}function bS(t){const e=async(n,s)=>{try{return await t(n,s)}catch(a){throw a instanceof rg?new e.Error(a):a}};return e.Error=class extends rg{constructor(n){super(n),Object.setPrototypeOf(this,new.target.prototype)}getActualType(){return{status:this.status,data:this.data}}},e}function wS(){let t="",e={};const n=[],s=vS(n,yS);return{configure:a=>{t=a.baseUrl||"",e=a.init||{},n.splice(0),n.push(...a.use||[])},use:a=>n.push(a),path:a=>({method:o=>({create:(u=>bS((g,v)=>xS({baseUrl:t||"",path:a,method:o,queryParams:Object.keys(u||{}),payload:g,init:pS(e,v),fetch:s})))})})}}const _S={for:()=>wS()},SS=200;class fh extends Error{constructor(e){super(e),this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class by extends fh{static forResponse(e){const n=`${e.status}`,s=e.statusText?`(${e.statusText})`:"(Unrecognized Status Code)",a=`${n} ${s}`.trim(),o=e.data?JSON.stringify(e.data,null,2):null;let u="";o&&(u=o.length<=SS?o:o.slice(0,-4)+" ...");const g=`Raw response content:
${u}`;return new by(`Unexpected Response: ${a}
${g}`)}}class $m extends fh{}class ES extends fh{}class CS extends fh{constructor(e,n){super(e);const s=Number(n);if(isNaN(s))throw new fh(`Invalid retryAfter value: ${n}`);this.retry_after=s,Object.setPrototypeOf(this,new.target.prototype)}}function TS(t){return{createShardKey:t.path("/collections/{collection_name}/shards").method("put").create({timeout:!0}),deleteShardKey:t.path("/collections/{collection_name}/shards/delete").method("post").create({timeout:!0}),root:t.path("/").method("get").create(),telemetry:t.path("/telemetry").method("get").create(),metrics:t.path("/metrics").method("get").create(),getLocks:t.path("/locks").method("get").create(),postLocks:t.path("/locks").method("post").create(),healthz:t.path("/healthz").method("get").create(),livez:t.path("/livez").method("get").create(),readyz:t.path("/readyz").method("get").create(),getIssues:t.path("/issues").method("get").create(),clearIssues:t.path("/issues").method("delete").create(),clusterStatus:t.path("/cluster").method("get").create(),recoverCurrentPeer:t.path("/cluster/recover").method("post").create(),removePeer:t.path("/cluster/peer/{peer_id}").method("delete").create({force:!0}),getCollections:t.path("/collections").method("get").create(),getCollection:t.path("/collections/{collection_name}").method("get").create(),createCollection:t.path("/collections/{collection_name}").method("put").create({timeout:!0}),deleteCollection:t.path("/collections/{collection_name}").method("delete").create({timeout:!0}),updateCollection:t.path("/collections/{collection_name}").method("patch").create({timeout:!0}),updateAliases:t.path("/collections/aliases").method("post").create({timeout:!0}),createFieldIndex:t.path("/collections/{collection_name}/index").method("put").create({wait:!0,ordering:!0}),collectionExists:t.path("/collections/{collection_name}/exists").method("get").create(),deleteFieldIndex:t.path("/collections/{collection_name}/index/{field_name}").method("delete").create({wait:!0,ordering:!0}),collectionClusterInfo:t.path("/collections/{collection_name}/cluster").method("get").create(),updateCollectionCluster:t.path("/collections/{collection_name}/cluster").method("post").create({timeout:!0}),getCollectionAliases:t.path("/collections/{collection_name}/aliases").method("get").create(),getCollectionsAliases:t.path("/aliases").method("get").create(),recoverFromUploadedSnapshot:t.path("/collections/{collection_name}/snapshots/upload").method("post").create({wait:!0,priority:!0,checksum:!0}),recoverFromSnapshot:t.path("/collections/{collection_name}/snapshots/recover").method("put").create({wait:!0}),listSnapshots:t.path("/collections/{collection_name}/snapshots").method("get").create(),createSnapshot:t.path("/collections/{collection_name}/snapshots").method("post").create({wait:!0}),getSnapshot:t.path("/collections/{collection_name}/snapshots/{snapshot_name}").method("get").create(),deleteSnapshot:t.path("/collections/{collection_name}/snapshots/{snapshot_name}").method("delete").create({wait:!0}),listFullSnapshots:t.path("/snapshots").method("get").create(),createFullSnapshot:t.path("/snapshots").method("post").create({wait:!0}),getFullSnapshot:t.path("/snapshots/{snapshot_name}").method("get").create(),deleteFullSnapshot:t.path("/snapshots/{snapshot_name}").method("delete").create({wait:!0}),recoverShardFromUploadedSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/upload").method("post").create({wait:!0,priority:!0,checksum:!0}),recoverShardFromSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/recover").method("put").create({wait:!0}),listShardSnapshots:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots").method("get").create(),createShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots").method("post").create({wait:!0}),getShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/{snapshot_name}").method("get").create(),deleteShardSnapshot:t.path("/collections/{collection_name}/shards/{shard_id}/snapshots/{snapshot_name}").method("delete").create({wait:!0}),getPoint:t.path("/collections/{collection_name}/points/{id}").method("get").create(),upsertPoints:t.path("/collections/{collection_name}/points").method("put").create({wait:!0,ordering:!0}),getPoints:t.path("/collections/{collection_name}/points").method("post").create({consistency:!0,timeout:!0}),deletePoints:t.path("/collections/{collection_name}/points/delete").method("post").create({wait:!0,ordering:!0}),updateVectors:t.path("/collections/{collection_name}/points/vectors").method("put").create({wait:!0,ordering:!0}),deleteVectors:t.path("/collections/{collection_name}/points/vectors/delete").method("post").create({wait:!0,ordering:!0}),overwritePayload:t.path("/collections/{collection_name}/points/payload").method("put").create({wait:!0,ordering:!0}),setPayload:t.path("/collections/{collection_name}/points/payload").method("post").create({wait:!0,ordering:!0}),deletePayload:t.path("/collections/{collection_name}/points/payload/delete").method("post").create({wait:!0,ordering:!0}),clearPayload:t.path("/collections/{collection_name}/points/payload/clear").method("post").create({wait:!0,ordering:!0}),batchUpdate:t.path("/collections/{collection_name}/points/batch").method("post").create({wait:!0,ordering:!0}),scrollPoints:t.path("/collections/{collection_name}/points/scroll").method("post").create({consistency:!0,timeout:!0}),searchPoints:t.path("/collections/{collection_name}/points/search").method("post").create({consistency:!0,timeout:!0}),searchBatchPoints:t.path("/collections/{collection_name}/points/search/batch").method("post").create({consistency:!0,timeout:!0}),searchPointGroups:t.path("/collections/{collection_name}/points/search/groups").method("post").create({consistency:!0,timeout:!0}),recommendPoints:t.path("/collections/{collection_name}/points/recommend").method("post").create({consistency:!0,timeout:!0}),recommendBatchPoints:t.path("/collections/{collection_name}/points/recommend/batch").method("post").create({consistency:!0,timeout:!0}),recommendPointGroups:t.path("/collections/{collection_name}/points/recommend/groups").method("post").create({consistency:!0,timeout:!0}),discoverPoints:t.path("/collections/{collection_name}/points/discover").method("post").create({consistency:!0,timeout:!0}),discoverBatchPoints:t.path("/collections/{collection_name}/points/discover/batch").method("post").create({consistency:!0,timeout:!0}),countPoints:t.path("/collections/{collection_name}/points/count").method("post").create({timeout:!0}),facet:t.path("/collections/{collection_name}/facet").method("post").create({timeout:!0,consistency:!0}),queryPoints:t.path("/collections/{collection_name}/points/query").method("post").create({consistency:!0,timeout:!0}),queryBatchPoints:t.path("/collections/{collection_name}/points/query/batch").method("post").create({consistency:!0,timeout:!0}),queryPointsGroups:t.path("/collections/{collection_name}/points/query/groups").method("post").create({consistency:!0,timeout:!0}),searchMatrixPairs:t.path("/collections/{collection_name}/points/search/matrix/pairs").method("post").create({consistency:!0,timeout:!0}),searchMatrixOffsets:t.path("/collections/{collection_name}/points/search/matrix/offsets").method("post").create({consistency:!0,timeout:!0})}}function AS(t,e){const n=NS(t,e);return TS(n)}function NS(t,{headers:e,timeout:n,connections:s}){const a=[];Number.isFinite(n)&&a.push(async(u,g,v)=>{const p=new AbortController,N=setTimeout(()=>p.abort(),n);try{return await v(u,Object.assign(g,{signal:p.signal}))}catch(R){throw R instanceof Error&&R.name==="AbortError"?new ES(R.message):R}finally{clearTimeout(N)}}),a.push(async(u,g,v)=>{var N;let p;try{if(p=await v(u,g),p.status===200||p.status===201)return p}catch(R){if(R instanceof rg&&R.status===429){const U=(N=R.headers.get("retry-after"))==null?void 0:N[0];if(U)throw new CS(R.message,U)}throw R}throw by.forResponse(p)});const o=_S.for();return o.configure({baseUrl:t,init:{headers:e,dispatcher:void 0},use:a}),o}const S0="1.15.1",$0={parseVersion(t){if(!t)throw new Error("Version is null");let e,n;if([e,n]=t.split(".",2),e=parseInt(e,10),n=parseInt(n,10),isNaN(e)||isNaN(n))throw new Error(`Unable to parse version, expected format: x.y[.z], found: ${t}`);return{major:e,minor:n}},isCompatible(t,e){if(!t||!e)return console.debug(`Unable to compare versions with null values. Client: ${t}, Server: ${e}`),!1;if(t===e)return!0;try{const n=$0.parseVersion(t),s=$0.parseVersion(e);return n.major===s.major&&Math.abs(n.minor-s.minor)<=1}catch(n){return console.debug(`Unable to compare versions: ${n}`),!1}}};class kS{constructor({url:e,host:n,apiKey:s,https:a,prefix:o,port:u=6333,timeout:g=3e5,checkCompatibility:v=!0,...p}={}){if(this._https=a??typeof s=="string",this._scheme=this._https?"https":"http",this._prefix=o??"",this._prefix.length>0&&!this._prefix.startsWith("/")&&(this._prefix=`/${this._prefix}`),e&&n)throw new $m(`Only one of \`url\`, \`host\` params can be set. Url is ${e}, host is ${n}`);if(n&&(n.startsWith("http://")||n.startsWith("https://")||/:\d+$/.test(n)))throw new $m("The `host` param is not expected to contain neither protocol (http:// or https://) nor port (:6333).\nTry to use the `url` parameter instead.");if(e){if(!(e.startsWith("http://")||e.startsWith("https://")))throw new $m("The `url` param expected to contain a valid URL starting with a protocol (http:// or https://).");const Q=new URL(e);if(this._host=Q.hostname,this._port=Q.port?Number(Q.port):u,this._scheme=Q.protocol.replace(":",""),this._prefix.length>0&&Q.pathname!=="/")throw new $m(`Prefix can be set either in \`url\` or in \`prefix\`.
url is ${e}, prefix is ${Q.pathname}`)}else this._port=u,this._host=n??"127.0.0.1";const N=new Headers([["user-agent","qdrant-js/"+String(S0)]]),R=p.headers??{};Object.keys(R).forEach(Q=>{R[Q]&&N.set(Q,String(R[Q]))}),typeof s=="string"&&(this._scheme==="http"&&console.warn("Api key is used with unsecure connection."),N.set("api-key",s));const U=this._port?`${this._host}:${this._port}`:this._host;this._restUri=`${this._scheme}://${U}${this._prefix}`;const F=p.maxConnections,L={headers:N,timeout:g,connections:F};this._openApiClient=AS(this._restUri,L),v&&this._openApiClient.root({}).then(Q=>{const re=Q.data.version;$0.isCompatible(S0,re)||console.warn(`Client version ${S0} is incompatible with server version ${re}. Major versions should match and minor version difference must not exceed 1. Set checkCompatibility=false to skip version check.`)}).catch(()=>{console.warn("Failed to obtain server version. Unable to check client-server compatibility. Set checkCompatibility=false to skip version check.")})}api(){return this._openApiClient}async searchBatch(e,{searches:n,consistency:s,timeout:a}){const o=await this._openApiClient.searchBatchPoints({collection_name:e,consistency:s,timeout:a,searches:n});return wt(o.data.result).orThrow("Search batch returned empty")}async search(e,{shard_key:n,vector:s,limit:a=10,offset:o=0,filter:u,params:g,with_payload:v=!0,with_vector:p=!1,score_threshold:N,consistency:R,timeout:U}){const F=await this._openApiClient.searchPoints({collection_name:e,consistency:R,timeout:U,shard_key:n,vector:s,limit:a,offset:o,filter:u,params:g,with_payload:v,with_vector:p,score_threshold:N});return wt(F.data.result).orThrow("Search returned empty")}async recommendBatch(e,{searches:n,consistency:s,timeout:a}){const o=await this._openApiClient.recommendBatchPoints({collection_name:e,searches:n,consistency:s,timeout:a});return wt(o.data.result).orElse([])}async recommend_batch(e,{searches:n,consistency:s,timeout:a}){const o=await this._openApiClient.recommendBatchPoints({collection_name:e,searches:n,consistency:s,timeout:a});return wt(o.data.result).orElse([])}async recommend(e,{shard_key:n,positive:s,negative:a,strategy:o,filter:u,params:g,limit:v=10,offset:p=0,with_payload:N=!0,with_vector:R=!1,score_threshold:U,using:F,lookup_from:L,consistency:Q,timeout:re}){const ce=await this._openApiClient.recommendPoints({collection_name:e,limit:v,shard_key:n,positive:s,negative:a,strategy:o,filter:u,params:g,offset:p,with_payload:N,with_vector:R,score_threshold:U,using:F,lookup_from:L,consistency:Q,timeout:re});return wt(ce.data.result).orThrow("Recommend points API returned empty")}async scroll(e,{shard_key:n,filter:s,consistency:a,timeout:o,limit:u=10,offset:g,with_payload:v=!0,with_vector:p=!1,order_by:N}={}){const R=await this._openApiClient.scrollPoints({collection_name:e,shard_key:n,limit:u,offset:g,filter:s,with_payload:v,with_vector:p,order_by:N,consistency:a,timeout:o});return wt(R.data.result).orThrow("Scroll points API returned empty")}async count(e,{shard_key:n,filter:s,exact:a=!0,timeout:o}={}){const u=await this._openApiClient.countPoints({collection_name:e,shard_key:n,filter:s,exact:a,timeout:o});return wt(u.data.result).orThrow("Count points returned empty")}async collectionClusterInfo(e){const n=await this._openApiClient.collectionClusterInfo({collection_name:e});return wt(n.data.result).orThrow("Collection cluster info returned empty")}async updateCollectionCluster(e,{timeout:n,...s}){const a=await this._openApiClient.updateCollectionCluster({collection_name:e,timeout:n,...s});return wt(a.data.result).orThrow("Update collection cluster returned empty")}async updateVectors(e,{wait:n=!0,ordering:s,points:a,shard_key:o}){const u=await this._openApiClient.updateVectors({collection_name:e,wait:n,ordering:s,points:a,shard_key:o});return wt(u.data.result).orThrow("Update vectors returned empty")}async deleteVectors(e,{wait:n=!0,ordering:s,points:a,filter:o,vector:u,shard_key:g}){const v=await this._openApiClient.deleteVectors({collection_name:e,wait:n,ordering:s,points:a,filter:o,vector:u,shard_key:g});return wt(v.data.result).orThrow("Delete vectors returned empty")}async searchPointGroups(e,{consistency:n,timeout:s,shard_key:a,vector:o,filter:u,params:g,with_payload:v=null,with_vector:p=null,score_threshold:N,group_by:R,group_size:U,limit:F}){const L=await this._openApiClient.searchPointGroups({collection_name:e,consistency:n,timeout:s,shard_key:a,vector:o,filter:u,params:g,with_payload:v,with_vector:p,score_threshold:N,group_by:R,group_size:U,limit:F});return wt(L.data.result).orThrow("Search point groups returned empty")}async recommendPointGroups(e,{consistency:n,timeout:s,shard_key:a,positive:o,strategy:u,negative:g=[],filter:v,params:p,with_payload:N=null,with_vector:R=null,score_threshold:U,using:F=null,lookup_from:L=null,group_by:Q,group_size:re,limit:ce}){const ue=await this._openApiClient.recommendPointGroups({collection_name:e,consistency:n,timeout:s,shard_key:a,positive:o,negative:g,strategy:u,filter:v,params:p,with_payload:N,with_vector:R,score_threshold:U,using:F,lookup_from:L,group_by:Q,group_size:re,limit:ce});return wt(ue.data.result).orThrow("Recommend point groups API returned empty")}async upsert(e,{wait:n=!0,ordering:s,...a}){const o=await this._openApiClient.upsertPoints({collection_name:e,wait:n,ordering:s,...a});return wt(o.data.result).orThrow("Upsert returned empty")}async retrieve(e,{shard_key:n,ids:s,with_payload:a=!0,with_vector:o,consistency:u,timeout:g}){const v=await this._openApiClient.getPoints({collection_name:e,shard_key:n,ids:s,with_payload:a,with_vector:o,consistency:u,timeout:g});return wt(v.data.result).orThrow("Retrieve API returned empty")}async delete(e,{wait:n,ordering:s,...a}){const o=await this._openApiClient.deletePoints({collection_name:e,wait:n,ordering:s,...a});return wt(o.data.result).orThrow("Delete points returned empty")}async setPayload(e,{payload:n,points:s,filter:a,shard_key:o,key:u,ordering:g,wait:v=!0}){const p=await this._openApiClient.setPayload({collection_name:e,payload:n,points:s,filter:a,shard_key:o,key:u,wait:v,ordering:g});return wt(p.data.result).orThrow("Set payload returned empty")}async overwritePayload(e,{ordering:n,payload:s,points:a,filter:o,shard_key:u,key:g,wait:v=!0}){const p=await this._openApiClient.overwritePayload({collection_name:e,payload:s,points:a,filter:o,shard_key:u,key:g,wait:v,ordering:n});return wt(p.data.result).orThrow("Overwrite payload returned empty")}async deletePayload(e,{ordering:n,keys:s,points:a,filter:o,shard_key:u,wait:g=!0}){const v=await this._openApiClient.deletePayload({collection_name:e,keys:s,points:a,filter:o,shard_key:u,wait:g,ordering:n});return wt(v.data.result).orThrow("Delete payload returned empty")}async clearPayload(e,{ordering:n,wait:s=!0,...a}){const o=await this._openApiClient.clearPayload({collection_name:e,wait:s,ordering:n,...a});return wt(o.data.result).orThrow("Clear payload returned empty")}async updateCollectionAliases({actions:e,timeout:n}){const s=await this._openApiClient.updateAliases({actions:e,timeout:n});return wt(s.data.result).orThrow("Update aliases returned empty")}async getCollectionAliases(e){const n=await this._openApiClient.getCollectionAliases({collection_name:e});return wt(n.data.result).orThrow("Get collection aliases returned empty")}async getAliases(){const e=await this._openApiClient.getCollectionsAliases({});return wt(e.data.result).orThrow("Get aliases returned empty")}async getCollections(){const e=await this._openApiClient.getCollections({});return wt(e.data.result).orThrow("Get collections returned empty")}async getCollection(e){const n=await this._openApiClient.getCollection({collection_name:e});return wt(n.data.result).orThrow("Get collection returned empty")}async updateCollection(e,n){const s=await this._openApiClient.updateCollection({collection_name:e,...n});return wt(s.data.result).orThrow("Update collection returned empty")}async deleteCollection(e,n){const s=await this._openApiClient.deleteCollection({collection_name:e,...n});return wt(s.data.result).orThrow("Delete collection returned empty")}async createCollection(e,{timeout:n,vectors:s,hnsw_config:a,init_from:o,on_disk_payload:u,optimizers_config:g,quantization_config:v,replication_factor:p,shard_number:N,sharding_method:R,wal_config:U,write_consistency_factor:F,sparse_vectors:L,strict_mode_config:Q}){const re=await this._openApiClient.createCollection({collection_name:e,timeout:n,vectors:s,hnsw_config:a,init_from:o,on_disk_payload:u,optimizers_config:g,quantization_config:v,replication_factor:p,shard_number:N,sharding_method:R,wal_config:U,write_consistency_factor:F,sparse_vectors:L,strict_mode_config:Q});return wt(re.data.result).orThrow("Create collection returned empty")}async recreateCollection(e,{timeout:n,vectors:s,hnsw_config:a,init_from:o,on_disk_payload:u,optimizers_config:g,quantization_config:v,replication_factor:p,shard_number:N,sharding_method:R,wal_config:U,write_consistency_factor:F,sparse_vectors:L,strict_mode_config:Q}){wt(await this._openApiClient.deleteCollection({collection_name:e,timeout:n})).get("ok").orThrow("Delete collection returned failed");const re=await this._openApiClient.createCollection({collection_name:e,timeout:n,vectors:s,hnsw_config:a,init_from:o,on_disk_payload:u,optimizers_config:g,quantization_config:v,replication_factor:p,shard_number:N,sharding_method:R,wal_config:U,write_consistency_factor:F,sparse_vectors:L,strict_mode_config:Q});return wt(re).orThrow("Create collection returned empty")}async createPayloadIndex(e,{wait:n,ordering:s,field_name:a,field_schema:o}){const u=await this._openApiClient.createFieldIndex({collection_name:e,field_name:a,field_schema:o,wait:n,ordering:s});return wt(u.data.result).orThrow("Create field index returned empty")}async deletePayloadIndex(e,n,{wait:s=!0,ordering:a}={}){const o=await this._openApiClient.deleteFieldIndex({collection_name:e,field_name:n,wait:s,ordering:a});return wt(o.data.result).orThrow("Delete field index returned empty")}async listSnapshots(e){const n=await this._openApiClient.listSnapshots({collection_name:e});return wt(n.data.result).orThrow("List snapshots API returned empty")}async createSnapshot(e,n){const s=await this._openApiClient.createSnapshot({collection_name:e,...n});return wt(s.data.result).orNull()}async deleteSnapshot(e,n,s){const a=await this._openApiClient.deleteSnapshot({collection_name:e,snapshot_name:n,...s});return wt(a.data.result).orThrow("Delete snapshot API returned empty")}async listFullSnapshots(){const e=await this._openApiClient.listFullSnapshots({});return wt(e.data.result).orThrow("List full snapshots API returned empty")}async createFullSnapshot(e){const n=await this._openApiClient.createFullSnapshot(e??{});return wt(n.data.result).orThrow("Create full snapshot API returned empty")}async deleteFullSnapshot(e,n){const s=await this._openApiClient.deleteFullSnapshot({snapshot_name:e,...n});return wt(s.data.result).orThrow("Delete full snapshot API returned empty")}async recoverSnapshot(e,{location:n,priority:s,checksum:a,api_key:o}){const u=await this._openApiClient.recoverFromSnapshot({collection_name:e,location:n,priority:s,checksum:a,api_key:o});return wt(u.data.result).orThrow("Recover from snapshot API returned empty")}async lockStorage(e){const n=await this._openApiClient.postLocks({write:!0,error_message:e});return wt(n.data.result).orThrow("Lock storage returned empty")}async unlockStorage(){const e=await this._openApiClient.postLocks({write:!1});return wt(e.data.result).orThrow("Post locks returned empty")}async getLocks(){const e=await this._openApiClient.getLocks({});return wt(e.data.result).orThrow("Get locks returned empty")}async batchUpdate(e,{wait:n=!0,ordering:s,...a}){const o=await this._openApiClient.batchUpdate({collection_name:e,wait:n,ordering:s,...a});return wt(o.data.result).orThrow("Batch update returned empty")}async recoverShardFromSnapshot(e,n,{wait:s=!0,...a}){const o=await this._openApiClient.recoverShardFromSnapshot({collection_name:e,shard_id:n,wait:s,...a});return wt(o.data.result).orThrow("Recover shard from snapshot returned empty")}async listShardSnapshots(e,n){const s=await this._openApiClient.listShardSnapshots({collection_name:e,shard_id:n});return wt(s.data.result).orThrow("List shard snapshots returned empty")}async createShardSnapshot(e,n,{wait:s=!0}){const a=await this._openApiClient.createShardSnapshot({collection_name:e,shard_id:n,wait:s});return wt(a.data.result).orThrow("Create shard snapshot returned empty")}async deleteShardSnapshot(e,n,s,{wait:a=!0}){const o=await this._openApiClient.deleteShardSnapshot({collection_name:e,shard_id:n,snapshot_name:s,wait:a});return wt(o.data.result).orThrow("Create shard snapshot returned empty")}async createShardKey(e,{shard_key:n,shards_number:s,replication_factor:a,placement:o,timeout:u}){const g=await this._openApiClient.createShardKey({collection_name:e,shard_key:n,shards_number:s,replication_factor:a,placement:o,timeout:u});return wt(g.data.result).orThrow("Create shard key returned empty")}async deleteShardKey(e,{shard_key:n,timeout:s}){const a=await this._openApiClient.deleteShardKey({collection_name:e,shard_key:n,timeout:s});return wt(a.data.result).orThrow("Create shard key returned empty")}async discoverPoints(e,{consistency:n,timeout:s,shard_key:a,target:o,context:u,params:g,limit:v,offset:p,with_payload:N,with_vector:R,using:U,lookup_from:F}){const L=await this._openApiClient.discoverPoints({collection_name:e,consistency:n,timeout:s,shard_key:a,target:o,context:u,params:g,limit:v,offset:p,with_payload:N,with_vector:R,using:U,lookup_from:F});return wt(L.data.result).orThrow("Discover points returned empty")}async discoverBatchPoints(e,{consistency:n,timeout:s,searches:a}){const o=await this._openApiClient.discoverBatchPoints({collection_name:e,consistency:n,timeout:s,searches:a});return wt(o.data.result).orThrow("Discover batch points returned empty")}async versionInfo(){const e=await this._openApiClient.root({});return wt(e.data).orThrow("Version Info returned empty")}async collectionExists(e){const n=await this._openApiClient.collectionExists({collection_name:e});return wt(n.data.result).orThrow("Collection exists returned empty")}async query(e,{consistency:n,timeout:s,shard_key:a,prefetch:o,query:u,using:g,filter:v,params:p,score_threshold:N,limit:R,offset:U,with_vector:F,with_payload:L,lookup_from:Q}){const re=await this._openApiClient.queryPoints({collection_name:e,consistency:n,timeout:s,shard_key:a,prefetch:o,query:u,using:g,filter:v,params:p,score_threshold:N,limit:R,offset:U,with_vector:F,with_payload:L,lookup_from:Q});return wt(re.data.result).orThrow("Query points returned empty")}async queryBatch(e,{consistency:n,timeout:s,searches:a}){const o=await this._openApiClient.queryBatchPoints({collection_name:e,consistency:n,timeout:s,searches:a});return wt(o.data.result).orThrow("Query points returned empty")}async queryGroups(e,{consistency:n,timeout:s,shard_key:a,prefetch:o,query:u,using:g,filter:v,params:p,score_threshold:N,with_vector:R,with_payload:U,group_by:F,group_size:L,limit:Q,with_lookup:re}){const ce=await this._openApiClient.queryPointsGroups({collection_name:e,consistency:n,timeout:s,shard_key:a,prefetch:o,query:u,using:g,filter:v,params:p,score_threshold:N,with_vector:R,with_payload:U,group_by:F,group_size:L,limit:Q,with_lookup:re});return wt(ce.data.result).orThrow("Query groups returned empty")}async facet(e,{consistency:n,timeout:s,shard_key:a,key:o,limit:u,filter:g,exact:v}){const p=await this._openApiClient.facet({collection_name:e,consistency:n,timeout:s,shard_key:a,key:o,limit:u,filter:g,exact:v});return wt(p.data.result).orThrow("Facet returned empty")}async searchMatrixPairs(e,{consistency:n,timeout:s,shard_key:a,filter:o,sample:u,limit:g,using:v}){const p=await this._openApiClient.searchMatrixPairs({collection_name:e,consistency:n,timeout:s,shard_key:a,filter:o,sample:u,limit:g,using:v});return wt(p.data.result).orThrow("Search points matrix pairs returned empty")}async searchMatrixOffsets(e,{consistency:n,timeout:s,shard_key:a,filter:o,sample:u,limit:g,using:v}){const p=await this._openApiClient.searchMatrixOffsets({collection_name:e,consistency:n,timeout:s,shard_key:a,filter:o,sample:u,limit:g,using:v});return wt(p.data.result).orThrow("Search points matrix offsets returned empty")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let IS,RS;function DS(){return{geminiUrl:IS,vertexUrl:RS}}function PS(t,e,n,s){var a,o;if(!(t!=null&&t.baseUrl)){const u=DS();return e?(a=u.vertexUrl)!==null&&a!==void 0?a:n:(o=u.geminiUrl)!==null&&o!==void 0?o:s}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ma{}function ot(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const o=e[a];return o!=null?String(o):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function C(t,e,n){for(let o=0;o<e.length-1;o++){const u=e[o];if(u.endsWith("[]")){const g=u.slice(0,-2);if(!(g in t))if(Array.isArray(n))t[g]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[g])){const v=t[g];if(Array.isArray(n))for(let p=0;p<v.length;p++){const N=v[p];C(N,e.slice(o+1),n[p])}else for(const p of v)C(p,e.slice(o+1),n)}return}else if(u.endsWith("[0]")){const g=u.slice(0,-3);g in t||(t[g]=[{}]);const v=t[g];C(v[0],e.slice(o+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const s=e[e.length-1],a=t[s];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[s]=n}function b(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let s=0;s<e.length;s++){if(typeof t!="object"||t===null)return n;const a=e[s];if(a.endsWith("[]")){const o=a.slice(0,-2);if(o in t){const u=t[o];return Array.isArray(u)?u.map(g=>b(g,e.slice(s+1),n)):n}else return n}else t=t[a]}return t}catch(s){if(s instanceof TypeError)return n;throw s}}function MS(t,e){for(const[n,s]of Object.entries(e)){const a=n.split("."),o=s.split("."),u=new Set;let g=-1;for(let v=0;v<a.length;v++)if(a[v]==="*"){g=v;break}if(g!==-1&&o.length>g)for(let v=g;v<o.length;v++){const p=o[v];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&u.add(p)}z0(t,a,o,0,u)}}function z0(t,e,n,s,a){if(s>=e.length||typeof t!="object"||t===null)return;const o=e[s];if(o.endsWith("[]")){const u=o.slice(0,-2),g=t;if(u in g&&Array.isArray(g[u]))for(const v of g[u])z0(v,e,n,s+1,a)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,g=Object.keys(u).filter(p=>!p.startsWith("_")&&!a.has(p)),v={};for(const p of g)v[p]=u[p];for(const[p,N]of Object.entries(v)){const R=[];for(const U of n.slice(s))U==="*"?R.push(p):R.push(U);C(u,R,N)}for(const p of g)delete u[p]}}else{const u=t;o in u&&z0(u[o],e,n,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wy(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OS(t){const e={},n=b(t,["operationName"]);n!=null&&C(e,["operationName"],n);const s=b(t,["resourceName"]);return s!=null&&C(e,["_url","resourceName"],s),e}function US(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response","generateVideoResponse"]);return u!=null&&C(e,["response"],LS(u)),e}function jS(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response"]);return u!=null&&C(e,["response"],BS(u)),e}function LS(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>qS(u))),C(e,["generatedVideos"],o)}const s=b(t,["raiMediaFilteredCount"]);s!=null&&C(e,["raiMediaFilteredCount"],s);const a=b(t,["raiMediaFilteredReasons"]);return a!=null&&C(e,["raiMediaFilteredReasons"],a),e}function BS(t){const e={},n=b(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>$S(u))),C(e,["generatedVideos"],o)}const s=b(t,["raiMediaFilteredCount"]);s!=null&&C(e,["raiMediaFilteredCount"],s);const a=b(t,["raiMediaFilteredReasons"]);return a!=null&&C(e,["raiMediaFilteredReasons"],a),e}function qS(t){const e={},n=b(t,["video"]);return n!=null&&C(e,["video"],YS(n)),e}function $S(t){const e={},n=b(t,["_self"]);return n!=null&&C(e,["video"],JS(n)),e}function zS(t){const e={},n=b(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function VS(t){const e={},n=b(t,["operationName"]);return n!=null&&C(e,["_url","operationName"],n),e}function FS(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response"]);return u!=null&&C(e,["response"],HS(u)),e}function HS(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["parent"]);s!=null&&C(e,["parent"],s);const a=b(t,["documentName"]);return a!=null&&C(e,["documentName"],a),e}function Fb(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response"]);return u!=null&&C(e,["response"],GS(u)),e}function GS(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["parent"]);s!=null&&C(e,["parent"],s);const a=b(t,["documentName"]);return a!=null&&C(e,["documentName"],a),e}function YS(t){const e={},n=b(t,["uri"]);n!=null&&C(e,["uri"],n);const s=b(t,["encodedVideo"]);s!=null&&C(e,["videoBytes"],wy(s));const a=b(t,["encoding"]);return a!=null&&C(e,["mimeType"],a),e}function JS(t){const e={},n=b(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const s=b(t,["bytesBase64Encoded"]);s!=null&&C(e,["videoBytes"],wy(s));const a=b(t,["mimeType"]);return a!=null&&C(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cv||(Cv={}));var Tv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Tv||(Tv={}));var Av;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Av||(Av={}));var gt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gt||(gt={}));var Nv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nv||(Nv={}));var kv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kv||(kv={}));var Iv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Iv||(Iv={}));var Rv;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rv||(Rv={}));var Dv;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Dv||(Dv={}));var Pv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Pv||(Pv={}));var Mv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Mv||(Mv={}));var Ov;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ov||(Ov={}));var Uv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Uv||(Uv={}));var jv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(jv||(jv={}));var Lv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Lv||(Lv={}));var Bv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Bv||(Bv={}));var qv;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(qv||(qv={}));var $v;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})($v||($v={}));var sg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(sg||(sg={}));var zv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(zv||(zv={}));var Vv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Vv||(Vv={}));var Fv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fv||(Fv={}));var V0;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(V0||(V0={}));var Hv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hv||(Hv={}));var Gv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Gv||(Gv={}));var Yv;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Yv||(Yv={}));var Jv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Jv||(Jv={}));var Kv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Kv||(Kv={}));var Wv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Wv||(Wv={}));var Qv;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Qv||(Qv={}));var Xv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Xv||(Xv={}));var Zv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Zv||(Zv={}));var ex;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ex||(ex={}));var tx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tx||(tx={}));var nx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nx||(nx={}));var rx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rx||(rx={}));var sx;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sx||(sx={}));var ix;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(ix||(ix={}));var ax;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ax||(ax={}));var ox;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ox||(ox={}));var lx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lx||(lx={}));var cx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(cx||(cx={}));var ux;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ux||(ux={}));var dx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(dx||(dx={}));var fx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fx||(fx={}));var hx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hx||(hx={}));var px;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(px||(px={}));var mx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(mx||(mx={}));var gx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(gx||(gx={}));var yx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yx||(yx={}));var vx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(vx||(vx={}));var xx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(xx||(xx={}));var Pu;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Pu||(Pu={}));class F0{constructor(e){const n={};for(const s of e.headers.entries())n[s[0]]=s[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ah{get text(){var e,n,s,a,o,u,g,v;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",N=!1;const R=[];for(const U of(v=(g=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[F,L]of Object.entries(U))F!=="text"&&F!=="thought"&&F!=="thoughtSignature"&&(L!==null||L!==void 0)&&R.push(F);if(typeof U.text=="string"){if(typeof U.thought=="boolean"&&U.thought)continue;N=!0,p+=U.text}}return R.length>0&&console.warn(`there are non-text parts ${R} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),N?p:void 0}get data(){var e,n,s,a,o,u,g,v;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const N=[];for(const R of(v=(g=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[U,F]of Object.entries(R))U!=="inlineData"&&(F!==null||F!==void 0)&&N.push(U);R.inlineData&&typeof R.inlineData.data=="string"&&(p+=atob(R.inlineData.data))}return N.length>0&&console.warn(`there are non-data parts ${N} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,s,a,o,u,g,v;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(v=(g=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(N=>N.functionCall).map(N=>N.functionCall).filter(N=>N!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,s,a,o,u,g,v,p;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const N=(v=(g=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(R=>R.executableCode).map(R=>R.executableCode).filter(R=>R!==void 0);if((N==null?void 0:N.length)!==0)return(p=N==null?void 0:N[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,s,a,o,u,g,v,p;if(((a=(s=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const N=(v=(g=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(R=>R.codeExecutionResult).map(R=>R.codeExecutionResult).filter(R=>R!==void 0);if((N==null?void 0:N.length)!==0)return(p=N==null?void 0:N[0])===null||p===void 0?void 0:p.output}}class bx{}class wx{}class KS{}class WS{}class QS{}class XS{}class _x{}class Sx{}class Ex{}class ZS{}class ig{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new ig;let a;const o=e;return n?a=jS(o):a=US(o),Object.assign(s,a),s}}class Cx{}class Tx{}class Ax{}class eE{}class tE{}class nE{}class _y{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new _y,o=FS(e);return Object.assign(s,o),s}}class rE{}class sE{}class iE{}class Nx{}class aE{get text(){var e,n,s;let a="",o=!1;const u=[];for(const g of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[v,p]of Object.entries(g))v!=="text"&&v!=="thought"&&p!==null&&u.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;o=!0,a+=g.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?a:void 0}get data(){var e,n,s;let a="";const o=[];for(const u of(s=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(u))g!=="inlineData"&&v!==null&&o.push(g);u.inlineData&&typeof u.inlineData.data=="string"&&(a+=atob(u.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class oE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sy{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const s=new Sy,o=Fb(e);return Object.assign(s,o),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fn(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Hb(t,e){const n=fn(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Gb(t){return Array.isArray(t)?t.map(e=>ag(e)):[ag(t)]}function ag(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Yb(t){const e=ag(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Jb(t){const e=ag(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function kx(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Kb(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>kx(e)):[kx(t)]}function H0(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ix(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Rx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $r(t){if(t==null)throw new Error("ContentUnion is required");return H0(t)?t:{role:"user",parts:Kb(t)}}function Ey(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const s=$r(n);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const n=$r(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$r(n)):[$r(e)]}function Qs(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ix(t)||Rx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$r(t)]}const e=[],n=[],s=H0(t[0]);for(const a of t){const o=H0(a);if(o!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(a);else{if(Ix(a)||Rx(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return s||e.push({role:"user",parts:Kb(n)}),e}function lE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(s=>s!=="null");if(n.length===1)e.type=Object.values(gt).includes(n[0].toUpperCase())?n[0].toUpperCase():gt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of n)e.anyOf.push({type:Object.values(gt).includes(s.toUpperCase())?s.toUpperCase():gt.TYPE_UNSPECIFIED})}}function Mu(t){const e={},n=["items"],s=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&lE(t.type,e);for(const[u,g]of Object.entries(t))if(g!=null)if(u=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(gt).includes(g.toUpperCase())?g.toUpperCase():gt.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Mu(g);else if(s.includes(u)){const v=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}v.push(Mu(p))}e[u]=v}else if(a.includes(u)){const v={};for(const[p,N]of Object.entries(g))v[p]=Mu(N);e[u]=v}else{if(u==="additionalProperties")continue;e[u]=g}return e}function Cy(t){return Mu(t)}function Ty(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ay(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function zu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Mu(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Mu(e.response));return t}function Vu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function cE(t,e,n,s=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function Oa(t,e){if(typeof e!="string")throw new Error("name must be a string");return cE(t,e,"cachedContents")}function Wb(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Uo(t){return wy(t)}function uE(t){return t!=null&&typeof t=="object"&&"name"in t}function dE(t){return t!=null&&typeof t=="object"&&"video"in t}function fE(t){return t!=null&&typeof t=="object"&&"uri"in t}function Qb(t){var e;let n;if(uE(t)&&(n=t.name),!(fE(t)&&(n=t.uri,n===void 0))&&!(dE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Xb(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Zb(t){for(const e of["models","tunedModels","publisherModels"])if(hE(t,e))return t[e];return[]}function hE(t,e){return t!==null&&typeof t=="object"&&e in t}function pE(t,e={}){const n=t,s={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(s.responseJsonSchema=n.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function mE(t,e={}){const n=[],s=new Set;for(const a of t){const o=a.name;if(s.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);s.add(o);const u=pE(a,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function ew(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const s=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function gE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function tw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let o=!1;for(const u of a){if(typeof u!="object"||u===null)continue;const v=u.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Fu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function nw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yE(t){const e={},n=b(t,["responsesFile"]);n!=null&&C(e,["fileName"],n);const s=b(t,["inlinedResponses","inlinedResponses"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>JE(u))),C(e,["inlinedResponses"],o)}const a=b(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["inlinedEmbedContentResponses"],o)}return e}function vE(t){const e={},n=b(t,["predictionsFormat"]);n!=null&&C(e,["format"],n);const s=b(t,["gcsDestination","outputUriPrefix"]);s!=null&&C(e,["gcsUri"],s);const a=b(t,["bigqueryDestination","outputUri"]);return a!=null&&C(e,["bigqueryUri"],a),e}function xE(t){const e={},n=b(t,["format"]);n!=null&&C(e,["predictionsFormat"],n);const s=b(t,["gcsUri"]);s!=null&&C(e,["gcsDestination","outputUriPrefix"],s);const a=b(t,["bigqueryUri"]);if(a!=null&&C(e,["bigqueryDestination","outputUri"],a),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(b(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function eg(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata","displayName"]);s!=null&&C(e,["displayName"],s);const a=b(t,["metadata","state"]);a!=null&&C(e,["state"],nw(a));const o=b(t,["metadata","createTime"]);o!=null&&C(e,["createTime"],o);const u=b(t,["metadata","endTime"]);u!=null&&C(e,["endTime"],u);const g=b(t,["metadata","updateTime"]);g!=null&&C(e,["updateTime"],g);const v=b(t,["metadata","model"]);v!=null&&C(e,["model"],v);const p=b(t,["metadata","output"]);return p!=null&&C(e,["dest"],yE(tw(p))),e}function G0(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["displayName"]);s!=null&&C(e,["displayName"],s);const a=b(t,["state"]);a!=null&&C(e,["state"],nw(a));const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["createTime"]);u!=null&&C(e,["createTime"],u);const g=b(t,["startTime"]);g!=null&&C(e,["startTime"],g);const v=b(t,["endTime"]);v!=null&&C(e,["endTime"],v);const p=b(t,["updateTime"]);p!=null&&C(e,["updateTime"],p);const N=b(t,["model"]);N!=null&&C(e,["model"],N);const R=b(t,["inputConfig"]);R!=null&&C(e,["src"],bE(R));const U=b(t,["outputConfig"]);U!=null&&C(e,["dest"],vE(tw(U)));const F=b(t,["completionStats"]);return F!=null&&C(e,["completionStats"],F),e}function bE(t){const e={},n=b(t,["instancesFormat"]);n!=null&&C(e,["format"],n);const s=b(t,["gcsSource","uris"]);s!=null&&C(e,["gcsUri"],s);const a=b(t,["bigquerySource","inputUri"]);return a!=null&&C(e,["bigqueryUri"],a),e}function wE(t,e){const n={};if(b(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(b(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=b(e,["fileName"]);s!=null&&C(n,["fileName"],s);const a=b(e,["inlinedRequests"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>YE(t,u))),C(n,["requests","requests"],o)}return n}function _E(t){const e={},n=b(t,["format"]);n!=null&&C(e,["instancesFormat"],n);const s=b(t,["gcsUri"]);s!=null&&C(e,["gcsSource","uris"],s);const a=b(t,["bigqueryUri"]);if(a!=null&&C(e,["bigquerySource","inputUri"],a),b(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(b(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function SE(t){const e={},n=b(t,["data"]);if(n!=null&&C(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function EE(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Fu(t,s)),n}function CE(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Fu(t,s)),n}function TE(t){const e={},n=b(t,["content"]);n!=null&&C(e,["content"],n);const s=b(t,["citationMetadata"]);s!=null&&C(e,["citationMetadata"],AE(s));const a=b(t,["tokenCount"]);a!=null&&C(e,["tokenCount"],a);const o=b(t,["finishReason"]);o!=null&&C(e,["finishReason"],o);const u=b(t,["avgLogprobs"]);u!=null&&C(e,["avgLogprobs"],u);const g=b(t,["groundingMetadata"]);g!=null&&C(e,["groundingMetadata"],g);const v=b(t,["index"]);v!=null&&C(e,["index"],v);const p=b(t,["logprobsResult"]);p!=null&&C(e,["logprobsResult"],p);const N=b(t,["safetyRatings"]);if(N!=null){let U=N;Array.isArray(U)&&(U=U.map(F=>F)),C(e,["safetyRatings"],U)}const R=b(t,["urlContextMetadata"]);return R!=null&&C(e,["urlContextMetadata"],R),e}function AE(t){const e={},n=b(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),C(e,["citations"],s)}return e}function rw(t){const e={},n=b(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>tC(o))),C(e,["parts"],a)}const s=b(t,["role"]);return s!=null&&C(e,["role"],s),e}function NE(t,e){const n={},s=b(t,["displayName"]);if(e!==void 0&&s!=null&&C(e,["batch","displayName"],s),b(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function kE(t,e){const n={},s=b(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const a=b(t,["dest"]);return e!==void 0&&a!=null&&C(e,["outputConfig"],xE(gE(a))),n}function Dx(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["src"]);a!=null&&C(n,["batch","inputConfig"],wE(t,ew(t,a)));const o=b(e,["config"]);return o!=null&&NE(o,n),n}function IE(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["model"],fn(t,s));const a=b(e,["src"]);a!=null&&C(n,["inputConfig"],_E(ew(t,a)));const o=b(e,["config"]);return o!=null&&kE(o,n),n}function RE(t,e){const n={},s=b(t,["displayName"]);return e!==void 0&&s!=null&&C(e,["batch","displayName"],s),n}function DE(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["src"]);a!=null&&C(n,["batch","inputConfig"],BE(t,a));const o=b(e,["config"]);return o!=null&&RE(o,n),n}function PE(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Fu(t,s)),n}function ME(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Fu(t,s)),n}function OE(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["name"]);s!=null&&C(e,["name"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);return o!=null&&C(e,["error"],o),e}function UE(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["name"]);s!=null&&C(e,["name"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);return o!=null&&C(e,["error"],o),e}function jE(t,e){const n={},s=b(e,["contents"]);if(s!=null){let o=Ey(t,s);Array.isArray(o)&&(o=o.map(u=>u)),C(n,["requests[]","request","content"],o)}const a=b(e,["config"]);return a!=null&&(C(n,["_self"],LE(a,n)),MS(n,{"requests[].*":"requests[].request.*"})),n}function LE(t,e){const n={},s=b(t,["taskType"]);e!==void 0&&s!=null&&C(e,["requests[]","taskType"],s);const a=b(t,["title"]);e!==void 0&&a!=null&&C(e,["requests[]","title"],a);const o=b(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&C(e,["requests[]","outputDimensionality"],o),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function BE(t,e){const n={},s=b(e,["fileName"]);s!=null&&C(n,["file_name"],s);const a=b(e,["inlinedRequests"]);return a!=null&&C(n,["requests"],jE(t,a)),n}function qE(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function $E(t,e,n){const s={},a=b(e,["systemInstruction"]);n!==void 0&&a!=null&&C(n,["systemInstruction"],rw($r(a)));const o=b(e,["temperature"]);o!=null&&C(s,["temperature"],o);const u=b(e,["topP"]);u!=null&&C(s,["topP"],u);const g=b(e,["topK"]);g!=null&&C(s,["topK"],g);const v=b(e,["candidateCount"]);v!=null&&C(s,["candidateCount"],v);const p=b(e,["maxOutputTokens"]);p!=null&&C(s,["maxOutputTokens"],p);const N=b(e,["stopSequences"]);N!=null&&C(s,["stopSequences"],N);const R=b(e,["responseLogprobs"]);R!=null&&C(s,["responseLogprobs"],R);const U=b(e,["logprobs"]);U!=null&&C(s,["logprobs"],U);const F=b(e,["presencePenalty"]);F!=null&&C(s,["presencePenalty"],F);const L=b(e,["frequencyPenalty"]);L!=null&&C(s,["frequencyPenalty"],L);const Q=b(e,["seed"]);Q!=null&&C(s,["seed"],Q);const re=b(e,["responseMimeType"]);re!=null&&C(s,["responseMimeType"],re);const ce=b(e,["responseSchema"]);ce!=null&&C(s,["responseSchema"],Cy(ce));const ue=b(e,["responseJsonSchema"]);if(ue!=null&&C(s,["responseJsonSchema"],ue),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const te=b(e,["safetySettings"]);if(n!==void 0&&te!=null){let He=te;Array.isArray(He)&&(He=He.map(pt=>nC(pt))),C(n,["safetySettings"],He)}const se=b(e,["tools"]);if(n!==void 0&&se!=null){let He=Vu(se);Array.isArray(He)&&(He=He.map(pt=>rC(zu(pt)))),C(n,["tools"],He)}const le=b(e,["toolConfig"]);if(n!==void 0&&le!=null&&C(n,["toolConfig"],le),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const me=b(e,["cachedContent"]);n!==void 0&&me!=null&&C(n,["cachedContent"],Oa(t,me));const ve=b(e,["responseModalities"]);ve!=null&&C(s,["responseModalities"],ve);const Re=b(e,["mediaResolution"]);Re!=null&&C(s,["mediaResolution"],Re);const Ne=b(e,["speechConfig"]);if(Ne!=null&&C(s,["speechConfig"],Ty(Ne)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=b(e,["thinkingConfig"]);fe!=null&&C(s,["thinkingConfig"],fe);const Me=b(e,["imageConfig"]);return Me!=null&&C(s,["imageConfig"],Me),s}function zE(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(p=>TE(p))),C(e,["candidates"],v)}const a=b(t,["modelVersion"]);a!=null&&C(e,["modelVersion"],a);const o=b(t,["promptFeedback"]);o!=null&&C(e,["promptFeedback"],o);const u=b(t,["responseId"]);u!=null&&C(e,["responseId"],u);const g=b(t,["usageMetadata"]);return g!=null&&C(e,["usageMetadata"],g),e}function VE(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Fu(t,s)),n}function FE(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Fu(t,s)),n}function HE(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function GE(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function YE(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["request","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let g=Qs(a);Array.isArray(g)&&(g=g.map(v=>rw(v))),C(n,["request","contents"],g)}const o=b(e,["metadata"]);o!=null&&C(n,["metadata"],o);const u=b(e,["config"]);return u!=null&&C(n,["request","generationConfig"],$E(t,u,b(n,["request"],{}))),n}function JE(t){const e={},n=b(t,["response"]);n!=null&&C(e,["response"],zE(n));const s=b(t,["error"]);return s!=null&&C(e,["error"],s),e}function KE(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);if(e!==void 0&&a!=null&&C(e,["_query","pageToken"],a),b(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function WE(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);e!==void 0&&a!=null&&C(e,["_query","pageToken"],a);const o=b(t,["filter"]);return e!==void 0&&o!=null&&C(e,["_query","filter"],o),n}function QE(t){const e={},n=b(t,["config"]);return n!=null&&KE(n,e),e}function XE(t){const e={},n=b(t,["config"]);return n!=null&&WE(n,e),e}function ZE(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["operations"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>eg(u))),C(e,["batchJobs"],o)}return e}function eC(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["batchPredictionJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>G0(u))),C(e,["batchJobs"],o)}return e}function tC(t){const e={},n=b(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const s=b(t,["codeExecutionResult"]);s!=null&&C(e,["codeExecutionResult"],s);const a=b(t,["executableCode"]);a!=null&&C(e,["executableCode"],a);const o=b(t,["fileData"]);o!=null&&C(e,["fileData"],qE(o));const u=b(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const g=b(t,["inlineData"]);g!=null&&C(e,["inlineData"],SE(g));const v=b(t,["text"]);v!=null&&C(e,["text"],v);const p=b(t,["thought"]);p!=null&&C(e,["thought"],p);const N=b(t,["thoughtSignature"]);N!=null&&C(e,["thoughtSignature"],N);const R=b(t,["videoMetadata"]);return R!=null&&C(e,["videoMetadata"],R),e}function nC(t){const e={},n=b(t,["category"]);if(n!=null&&C(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=b(t,["threshold"]);return s!=null&&C(e,["threshold"],s),e}function rC(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let N=n;Array.isArray(N)&&(N=N.map(R=>R)),C(e,["functionDeclarations"],N)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=b(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],s);const a=b(t,["computerUse"]);a!=null&&C(e,["computerUse"],a);const o=b(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const u=b(t,["codeExecution"]);if(u!=null&&C(e,["codeExecution"],u),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=b(t,["googleMaps"]);g!=null&&C(e,["googleMaps"],HE(g));const v=b(t,["googleSearch"]);v!=null&&C(e,["googleSearch"],GE(v));const p=b(t,["urlContext"]);return p!=null&&C(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Da;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Da||(Da={}));class Wl{constructor(e,n,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,s,a)}init(e,n,s){var a,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!s||Object.keys(s).length===0?u={config:{}}:typeof s=="object"?u=Object.assign({},s):u=s,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(o=(a=u.config)===null||a===void 0?void 0:a.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC extends Ma{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new Wl(Da.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Dx(this.apiClient,e),s=n._url,a=ot("{model}:batchGenerateContent",s),g=n.batch.inputConfig.requests,v=g.requests,p=[];for(const N of v){const R=Object.assign({},N);if(R.systemInstruction){const U=R.systemInstruction;delete R.systemInstruction;const F=R.request;F.systemInstruction=U,R.request=F}p.push(R)}return g.requests=p,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const s=n?Object.assign({},n):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const o=this.getGcsUri(e),u=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?s.dest=`${o.slice(0,-6)}/dest`:s.dest=`${o}_dest_${a}`;else if(u)s.dest=`${u}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=IE(this.apiClient,e);return g=ot("batchPredictionJobs",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>G0(N))}else{const p=Dx(this.apiClient,e);return g=ot("{model}:batchGenerateContent",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>eg(N))}}async createEmbeddingsInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=DE(this.apiClient,e);return o=ot("{model}:asyncBatchEmbedContent",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>eg(v))}}async get(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=FE(this.apiClient,e);return g=ot("batchPredictionJobs/{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>G0(N))}else{const p=VE(this.apiClient,e);return g=ot("batches/{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>eg(N))}}async cancel(e){var n,s,a,o;let u="",g={};if(this.apiClient.isVertexAI()){const v=CE(this.apiClient,e);u=ot("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:u,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=EE(this.apiClient,e);u=ot("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:u,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=XE(e);return g=ot("batchPredictionJobs",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=eC(N),U=new Nx;return Object.assign(U,R),U})}else{const p=QE(e);return g=ot("batches",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=ZE(N),U=new Nx;return Object.assign(U,R),U})}}async delete(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=ME(this.apiClient,e);return g=ot("batchPredictionJobs/{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>UE(N))}else{const p=PE(this.apiClient,e);return g=ot("batches/{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>OE(N))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iC(t){const e={},n=b(t,["data"]);if(n!=null&&C(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function Px(t){const e={},n=b(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>TC(o))),C(e,["parts"],a)}const s=b(t,["role"]);return s!=null&&C(e,["role"],s),e}function aC(t,e){const n={},s=b(t,["ttl"]);e!==void 0&&s!=null&&C(e,["ttl"],s);const a=b(t,["expireTime"]);e!==void 0&&a!=null&&C(e,["expireTime"],a);const o=b(t,["displayName"]);e!==void 0&&o!=null&&C(e,["displayName"],o);const u=b(t,["contents"]);if(e!==void 0&&u!=null){let N=Qs(u);Array.isArray(N)&&(N=N.map(R=>Px(R))),C(e,["contents"],N)}const g=b(t,["systemInstruction"]);e!==void 0&&g!=null&&C(e,["systemInstruction"],Px($r(g)));const v=b(t,["tools"]);if(e!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(R=>AC(R))),C(e,["tools"],N)}const p=b(t,["toolConfig"]);if(e!==void 0&&p!=null&&C(e,["toolConfig"],p),b(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function oC(t,e){const n={},s=b(t,["ttl"]);e!==void 0&&s!=null&&C(e,["ttl"],s);const a=b(t,["expireTime"]);e!==void 0&&a!=null&&C(e,["expireTime"],a);const o=b(t,["displayName"]);e!==void 0&&o!=null&&C(e,["displayName"],o);const u=b(t,["contents"]);if(e!==void 0&&u!=null){let R=Qs(u);Array.isArray(R)&&(R=R.map(U=>U)),C(e,["contents"],R)}const g=b(t,["systemInstruction"]);e!==void 0&&g!=null&&C(e,["systemInstruction"],$r(g));const v=b(t,["tools"]);if(e!==void 0&&v!=null){let R=v;Array.isArray(R)&&(R=R.map(U=>NC(U))),C(e,["tools"],R)}const p=b(t,["toolConfig"]);e!==void 0&&p!=null&&C(e,["toolConfig"],p);const N=b(t,["kmsKeyName"]);return e!==void 0&&N!=null&&C(e,["encryption_spec","kmsKeyName"],N),n}function lC(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["model"],Hb(t,s));const a=b(e,["config"]);return a!=null&&aC(a,n),n}function cC(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["model"],Hb(t,s));const a=b(e,["config"]);return a!=null&&oC(a,n),n}function uC(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Oa(t,s)),n}function dC(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Oa(t,s)),n}function fC(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function hC(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function pC(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function mC(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&C(e,["description"],n);const s=b(t,["name"]);s!=null&&C(e,["name"],s);const a=b(t,["parameters"]);a!=null&&C(e,["parameters"],a);const o=b(t,["parametersJsonSchema"]);o!=null&&C(e,["parametersJsonSchema"],o);const u=b(t,["response"]);u!=null&&C(e,["response"],u);const g=b(t,["responseJsonSchema"]);return g!=null&&C(e,["responseJsonSchema"],g),e}function gC(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Oa(t,s)),n}function yC(t,e){const n={},s=b(e,["name"]);return s!=null&&C(n,["_url","name"],Oa(t,s)),n}function vC(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function xC(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function bC(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);return e!==void 0&&a!=null&&C(e,["_query","pageToken"],a),n}function wC(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);return e!==void 0&&a!=null&&C(e,["_query","pageToken"],a),n}function _C(t){const e={},n=b(t,["config"]);return n!=null&&bC(n,e),e}function SC(t){const e={},n=b(t,["config"]);return n!=null&&wC(n,e),e}function EC(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["cachedContents"],o)}return e}function CC(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["cachedContents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["cachedContents"],o)}return e}function TC(t){const e={},n=b(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const s=b(t,["codeExecutionResult"]);s!=null&&C(e,["codeExecutionResult"],s);const a=b(t,["executableCode"]);a!=null&&C(e,["executableCode"],a);const o=b(t,["fileData"]);o!=null&&C(e,["fileData"],pC(o));const u=b(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const g=b(t,["inlineData"]);g!=null&&C(e,["inlineData"],iC(g));const v=b(t,["text"]);v!=null&&C(e,["text"],v);const p=b(t,["thought"]);p!=null&&C(e,["thought"],p);const N=b(t,["thoughtSignature"]);N!=null&&C(e,["thoughtSignature"],N);const R=b(t,["videoMetadata"]);return R!=null&&C(e,["videoMetadata"],R),e}function AC(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let N=n;Array.isArray(N)&&(N=N.map(R=>R)),C(e,["functionDeclarations"],N)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=b(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],s);const a=b(t,["computerUse"]);a!=null&&C(e,["computerUse"],a);const o=b(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const u=b(t,["codeExecution"]);if(u!=null&&C(e,["codeExecution"],u),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=b(t,["googleMaps"]);g!=null&&C(e,["googleMaps"],vC(g));const v=b(t,["googleSearch"]);v!=null&&C(e,["googleSearch"],xC(v));const p=b(t,["urlContext"]);return p!=null&&C(e,["urlContext"],p),e}function NC(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let R=n;Array.isArray(R)&&(R=R.map(U=>mC(U))),C(e,["functionDeclarations"],R)}const s=b(t,["retrieval"]);s!=null&&C(e,["retrieval"],s);const a=b(t,["googleSearchRetrieval"]);a!=null&&C(e,["googleSearchRetrieval"],a);const o=b(t,["computerUse"]);if(o!=null&&C(e,["computerUse"],o),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=b(t,["codeExecution"]);u!=null&&C(e,["codeExecution"],u);const g=b(t,["enterpriseWebSearch"]);g!=null&&C(e,["enterpriseWebSearch"],g);const v=b(t,["googleMaps"]);v!=null&&C(e,["googleMaps"],v);const p=b(t,["googleSearch"]);p!=null&&C(e,["googleSearch"],p);const N=b(t,["urlContext"]);return N!=null&&C(e,["urlContext"],N),e}function kC(t,e){const n={},s=b(t,["ttl"]);e!==void 0&&s!=null&&C(e,["ttl"],s);const a=b(t,["expireTime"]);return e!==void 0&&a!=null&&C(e,["expireTime"],a),n}function IC(t,e){const n={},s=b(t,["ttl"]);e!==void 0&&s!=null&&C(e,["ttl"],s);const a=b(t,["expireTime"]);return e!==void 0&&a!=null&&C(e,["expireTime"],a),n}function RC(t,e){const n={},s=b(e,["name"]);s!=null&&C(n,["_url","name"],Oa(t,s));const a=b(e,["config"]);return a!=null&&kC(a,n),n}function DC(t,e){const n={},s=b(e,["name"]);s!=null&&C(n,["_url","name"],Oa(t,s));const a=b(e,["config"]);return a!=null&&IC(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PC extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wl(Da.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(n),n)}async create(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=cC(this.apiClient,e);return g=ot("cachedContents",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>N)}else{const p=lC(this.apiClient,e);return g=ot("cachedContents",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>N)}}async get(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=yC(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>N)}else{const p=gC(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>N)}}async delete(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=dC(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=hC(N),U=new Tx;return Object.assign(U,R),U})}else{const p=uC(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=fC(N),U=new Tx;return Object.assign(U,R),U})}}async update(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=DC(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>N)}else{const p=RC(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>N)}}async listInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=SC(e);return g=ot("cachedContents",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=CC(N),U=new Ax;return Object.assign(U,R),U})}else{const p=_C(e);return g=ot("cachedContents",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=EC(N),U=new Ax;return Object.assign(U,R),U})}}}function Mx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(t){return this instanceof Bn?(this.v=t,this):new Bn(t)}function Ou(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(F){return function(L){return Promise.resolve(L).then(F,R)}}function g(F,L){s[F]&&(a[F]=function(Q){return new Promise(function(re,ce){o.push([F,Q,re,ce])>1||v(F,Q)})},L&&(a[F]=L(a[F])))}function v(F,L){try{p(s[F](L))}catch(Q){U(o[0][3],Q)}}function p(F){F.value instanceof Bn?Promise.resolve(F.value.v).then(N,R):U(o[0][2],F)}function N(F){v("next",F)}function R(F){v("throw",F)}function U(F,L){F(L),o.shift(),o.length&&v(o[0][0],o[0][1])}}function lh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mx=="function"?Mx(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(o){n[o]=t[o]&&function(u){return new Promise(function(g,v){u=t[o](u),a(g,v,u.done,u.value)})}}function a(o,u,g,v){Promise.resolve(v).then(function(p){o({value:p,done:g})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sw(n)}function sw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function OC(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Ox(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let s=0;for(;s<n;)if(t[s].role==="user")e.push(t[s]),s++;else{const a=[];let o=!0;for(;s<n&&t[s].role==="model";)a.push(t[s]),o&&!sw(t[s])&&(o=!1),s++;o?e.push(...a):e.pop()}return e}class UC{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new jC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jC{constructor(e,n,s,a={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=s,this.config=a,this.history=o,this.sendPromise=Promise.resolve(),OC(o)}async sendMessage(e){var n;await this.sendPromise;const s=$r(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,u,g;const v=await a,p=(u=(o=v.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content,N=v.automaticFunctionCallingHistory,R=this.getHistory(!0).length;let U=[];N!=null&&(U=(g=N.slice(R))!==null&&g!==void 0?g:[]);const F=p?[p]:[];this.recordHistory(s,F,U)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const s=$r(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const o=await a;return this.processStreamResponse(o,s)}getHistory(e=!1){const n=e?Ox(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var s,a;return Ou(this,arguments,function*(){var u,g,v,p;const N=[];try{for(var R=!0,U=lh(e),F;F=yield Bn(U.next()),u=F.done,!u;R=!0){p=F.value,R=!1;const L=p;if(MC(L)){const Q=(a=(s=L.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content;Q!==void 0&&N.push(Q)}yield yield Bn(L)}}catch(L){g={error:L}}finally{try{!R&&!u&&(v=U.return)&&(yield Bn(v.call(U)))}finally{if(g)throw g.error}}this.recordHistory(n,N)})}recordHistory(e,n,s){let a=[];n.length>0&&n.every(o=>o.role!==void 0)?a=n:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Ox(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xg extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,xg.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(t){const e={},n=b(t,["file"]);return n!=null&&C(e,["file"],n),e}function BC(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function qC(t){const e={},n=b(t,["name"]);return n!=null&&C(e,["_url","file"],Qb(n)),e}function $C(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function zC(t){const e={},n=b(t,["name"]);return n!=null&&C(e,["_url","file"],Qb(n)),e}function VC(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);return e!==void 0&&a!=null&&C(e,["_query","pageToken"],a),n}function FC(t){const e={},n=b(t,["config"]);return n!=null&&VC(n,e),e}function HC(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["files"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GC extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wl(Da.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FC(e);return o=ot("files",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>{const p=HC(v),N=new rE;return Object.assign(N,p),N})}}async createInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LC(e);return o=ot("upload/v1beta/files",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=BC(v),N=new sE;return Object.assign(N,p),N})}}async get(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zC(e);return o=ot("files/{file}",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=qC(e);return o=ot("files/{file}",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>{const p=$C(v),N=new iE;return Object.assign(N,p),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tg(t){const e={},n=b(t,["data"]);if(n!=null&&C(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function YC(t){const e={},n=b(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>lT(o))),C(e,["parts"],a)}const s=b(t,["role"]);return s!=null&&C(e,["role"],s),e}function JC(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function KC(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&C(e,["description"],n);const s=b(t,["name"]);s!=null&&C(e,["name"],s);const a=b(t,["parameters"]);a!=null&&C(e,["parameters"],a);const o=b(t,["parametersJsonSchema"]);o!=null&&C(e,["parametersJsonSchema"],o);const u=b(t,["response"]);u!=null&&C(e,["response"],u);const g=b(t,["responseJsonSchema"]);return g!=null&&C(e,["responseJsonSchema"],g),e}function WC(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const s=b(t,["responseJsonSchema"]);s!=null&&C(e,["responseJsonSchema"],s);const a=b(t,["audioTimestamp"]);a!=null&&C(e,["audioTimestamp"],a);const o=b(t,["candidateCount"]);o!=null&&C(e,["candidateCount"],o);const u=b(t,["enableAffectiveDialog"]);u!=null&&C(e,["enableAffectiveDialog"],u);const g=b(t,["frequencyPenalty"]);g!=null&&C(e,["frequencyPenalty"],g);const v=b(t,["logprobs"]);v!=null&&C(e,["logprobs"],v);const p=b(t,["maxOutputTokens"]);p!=null&&C(e,["maxOutputTokens"],p);const N=b(t,["mediaResolution"]);N!=null&&C(e,["mediaResolution"],N);const R=b(t,["presencePenalty"]);R!=null&&C(e,["presencePenalty"],R);const U=b(t,["responseLogprobs"]);U!=null&&C(e,["responseLogprobs"],U);const F=b(t,["responseMimeType"]);F!=null&&C(e,["responseMimeType"],F);const L=b(t,["responseModalities"]);L!=null&&C(e,["responseModalities"],L);const Q=b(t,["responseSchema"]);Q!=null&&C(e,["responseSchema"],Q);const re=b(t,["routingConfig"]);re!=null&&C(e,["routingConfig"],re);const ce=b(t,["seed"]);ce!=null&&C(e,["seed"],ce);const ue=b(t,["speechConfig"]);ue!=null&&C(e,["speechConfig"],iw(ue));const te=b(t,["stopSequences"]);te!=null&&C(e,["stopSequences"],te);const se=b(t,["temperature"]);se!=null&&C(e,["temperature"],se);const le=b(t,["thinkingConfig"]);le!=null&&C(e,["thinkingConfig"],le);const me=b(t,["topK"]);me!=null&&C(e,["topK"],me);const ve=b(t,["topP"]);if(ve!=null&&C(e,["topP"],ve),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function QC(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function XC(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function ZC(t,e){const n={},s=b(t,["generationConfig"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig"],s);const a=b(t,["responseModalities"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","responseModalities"],a);const o=b(t,["temperature"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","temperature"],o);const u=b(t,["topP"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","topP"],u);const g=b(t,["topK"]);e!==void 0&&g!=null&&C(e,["setup","generationConfig","topK"],g);const v=b(t,["maxOutputTokens"]);e!==void 0&&v!=null&&C(e,["setup","generationConfig","maxOutputTokens"],v);const p=b(t,["mediaResolution"]);e!==void 0&&p!=null&&C(e,["setup","generationConfig","mediaResolution"],p);const N=b(t,["seed"]);e!==void 0&&N!=null&&C(e,["setup","generationConfig","seed"],N);const R=b(t,["speechConfig"]);e!==void 0&&R!=null&&C(e,["setup","generationConfig","speechConfig"],Ay(R));const U=b(t,["thinkingConfig"]);e!==void 0&&U!=null&&C(e,["setup","generationConfig","thinkingConfig"],U);const F=b(t,["enableAffectiveDialog"]);e!==void 0&&F!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],F);const L=b(t,["systemInstruction"]);e!==void 0&&L!=null&&C(e,["setup","systemInstruction"],YC($r(L)));const Q=b(t,["tools"]);if(e!==void 0&&Q!=null){let me=Vu(Q);Array.isArray(me)&&(me=me.map(ve=>uT(zu(ve)))),C(e,["setup","tools"],me)}const re=b(t,["sessionResumption"]);e!==void 0&&re!=null&&C(e,["setup","sessionResumption"],cT(re));const ce=b(t,["inputAudioTranscription"]);e!==void 0&&ce!=null&&C(e,["setup","inputAudioTranscription"],ce);const ue=b(t,["outputAudioTranscription"]);e!==void 0&&ue!=null&&C(e,["setup","outputAudioTranscription"],ue);const te=b(t,["realtimeInputConfig"]);e!==void 0&&te!=null&&C(e,["setup","realtimeInputConfig"],te);const se=b(t,["contextWindowCompression"]);e!==void 0&&se!=null&&C(e,["setup","contextWindowCompression"],se);const le=b(t,["proactivity"]);return e!==void 0&&le!=null&&C(e,["setup","proactivity"],le),n}function eT(t,e){const n={},s=b(t,["generationConfig"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig"],WC(s));const a=b(t,["responseModalities"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","responseModalities"],a);const o=b(t,["temperature"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","temperature"],o);const u=b(t,["topP"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","topP"],u);const g=b(t,["topK"]);e!==void 0&&g!=null&&C(e,["setup","generationConfig","topK"],g);const v=b(t,["maxOutputTokens"]);e!==void 0&&v!=null&&C(e,["setup","generationConfig","maxOutputTokens"],v);const p=b(t,["mediaResolution"]);e!==void 0&&p!=null&&C(e,["setup","generationConfig","mediaResolution"],p);const N=b(t,["seed"]);e!==void 0&&N!=null&&C(e,["setup","generationConfig","seed"],N);const R=b(t,["speechConfig"]);e!==void 0&&R!=null&&C(e,["setup","generationConfig","speechConfig"],iw(Ay(R)));const U=b(t,["thinkingConfig"]);e!==void 0&&U!=null&&C(e,["setup","generationConfig","thinkingConfig"],U);const F=b(t,["enableAffectiveDialog"]);e!==void 0&&F!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],F);const L=b(t,["systemInstruction"]);e!==void 0&&L!=null&&C(e,["setup","systemInstruction"],$r(L));const Q=b(t,["tools"]);if(e!==void 0&&Q!=null){let me=Vu(Q);Array.isArray(me)&&(me=me.map(ve=>dT(zu(ve)))),C(e,["setup","tools"],me)}const re=b(t,["sessionResumption"]);e!==void 0&&re!=null&&C(e,["setup","sessionResumption"],re);const ce=b(t,["inputAudioTranscription"]);e!==void 0&&ce!=null&&C(e,["setup","inputAudioTranscription"],ce);const ue=b(t,["outputAudioTranscription"]);e!==void 0&&ue!=null&&C(e,["setup","outputAudioTranscription"],ue);const te=b(t,["realtimeInputConfig"]);e!==void 0&&te!=null&&C(e,["setup","realtimeInputConfig"],te);const se=b(t,["contextWindowCompression"]);e!==void 0&&se!=null&&C(e,["setup","contextWindowCompression"],se);const le=b(t,["proactivity"]);return e!==void 0&&le!=null&&C(e,["setup","proactivity"],le),n}function tT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["setup","model"],fn(t,s));const a=b(e,["config"]);return a!=null&&C(n,["config"],ZC(a,n)),n}function nT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["setup","model"],fn(t,s));const a=b(e,["config"]);return a!=null&&C(n,["config"],eT(a,n)),n}function rT(t){const e={},n=b(t,["musicGenerationConfig"]);return n!=null&&C(e,["musicGenerationConfig"],n),e}function sT(t){const e={},n=b(t,["weightedPrompts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),C(e,["weightedPrompts"],s)}return e}function iT(t){const e={},n=b(t,["media"]);if(n!=null){let p=Gb(n);Array.isArray(p)&&(p=p.map(N=>tg(N))),C(e,["mediaChunks"],p)}const s=b(t,["audio"]);s!=null&&C(e,["audio"],tg(Jb(s)));const a=b(t,["audioStreamEnd"]);a!=null&&C(e,["audioStreamEnd"],a);const o=b(t,["video"]);o!=null&&C(e,["video"],tg(Yb(o)));const u=b(t,["text"]);u!=null&&C(e,["text"],u);const g=b(t,["activityStart"]);g!=null&&C(e,["activityStart"],g);const v=b(t,["activityEnd"]);return v!=null&&C(e,["activityEnd"],v),e}function aT(t){const e={},n=b(t,["media"]);if(n!=null){let p=Gb(n);Array.isArray(p)&&(p=p.map(N=>N)),C(e,["mediaChunks"],p)}const s=b(t,["audio"]);s!=null&&C(e,["audio"],Jb(s));const a=b(t,["audioStreamEnd"]);a!=null&&C(e,["audioStreamEnd"],a);const o=b(t,["video"]);o!=null&&C(e,["video"],Yb(o));const u=b(t,["text"]);u!=null&&C(e,["text"],u);const g=b(t,["activityStart"]);g!=null&&C(e,["activityStart"],g);const v=b(t,["activityEnd"]);return v!=null&&C(e,["activityEnd"],v),e}function oT(t){const e={},n=b(t,["setupComplete"]);n!=null&&C(e,["setupComplete"],n);const s=b(t,["serverContent"]);s!=null&&C(e,["serverContent"],s);const a=b(t,["toolCall"]);a!=null&&C(e,["toolCall"],a);const o=b(t,["toolCallCancellation"]);o!=null&&C(e,["toolCallCancellation"],o);const u=b(t,["usageMetadata"]);u!=null&&C(e,["usageMetadata"],fT(u));const g=b(t,["goAway"]);g!=null&&C(e,["goAway"],g);const v=b(t,["sessionResumptionUpdate"]);return v!=null&&C(e,["sessionResumptionUpdate"],v),e}function lT(t){const e={},n=b(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const s=b(t,["codeExecutionResult"]);s!=null&&C(e,["codeExecutionResult"],s);const a=b(t,["executableCode"]);a!=null&&C(e,["executableCode"],a);const o=b(t,["fileData"]);o!=null&&C(e,["fileData"],JC(o));const u=b(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const g=b(t,["inlineData"]);g!=null&&C(e,["inlineData"],tg(g));const v=b(t,["text"]);v!=null&&C(e,["text"],v);const p=b(t,["thought"]);p!=null&&C(e,["thought"],p);const N=b(t,["thoughtSignature"]);N!=null&&C(e,["thoughtSignature"],N);const R=b(t,["videoMetadata"]);return R!=null&&C(e,["videoMetadata"],R),e}function cT(t){const e={},n=b(t,["handle"]);if(n!=null&&C(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function iw(t){const e={},n=b(t,["languageCode"]);n!=null&&C(e,["languageCode"],n);const s=b(t,["voiceConfig"]);if(s!=null&&C(e,["voiceConfig"],s),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function uT(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let N=n;Array.isArray(N)&&(N=N.map(R=>R)),C(e,["functionDeclarations"],N)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=b(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],s);const a=b(t,["computerUse"]);a!=null&&C(e,["computerUse"],a);const o=b(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const u=b(t,["codeExecution"]);if(u!=null&&C(e,["codeExecution"],u),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=b(t,["googleMaps"]);g!=null&&C(e,["googleMaps"],QC(g));const v=b(t,["googleSearch"]);v!=null&&C(e,["googleSearch"],XC(v));const p=b(t,["urlContext"]);return p!=null&&C(e,["urlContext"],p),e}function dT(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let R=n;Array.isArray(R)&&(R=R.map(U=>KC(U))),C(e,["functionDeclarations"],R)}const s=b(t,["retrieval"]);s!=null&&C(e,["retrieval"],s);const a=b(t,["googleSearchRetrieval"]);a!=null&&C(e,["googleSearchRetrieval"],a);const o=b(t,["computerUse"]);if(o!=null&&C(e,["computerUse"],o),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=b(t,["codeExecution"]);u!=null&&C(e,["codeExecution"],u);const g=b(t,["enterpriseWebSearch"]);g!=null&&C(e,["enterpriseWebSearch"],g);const v=b(t,["googleMaps"]);v!=null&&C(e,["googleMaps"],v);const p=b(t,["googleSearch"]);p!=null&&C(e,["googleSearch"],p);const N=b(t,["urlContext"]);return N!=null&&C(e,["urlContext"],N),e}function fT(t){const e={},n=b(t,["promptTokenCount"]);n!=null&&C(e,["promptTokenCount"],n);const s=b(t,["cachedContentTokenCount"]);s!=null&&C(e,["cachedContentTokenCount"],s);const a=b(t,["candidatesTokenCount"]);a!=null&&C(e,["responseTokenCount"],a);const o=b(t,["toolUsePromptTokenCount"]);o!=null&&C(e,["toolUsePromptTokenCount"],o);const u=b(t,["thoughtsTokenCount"]);u!=null&&C(e,["thoughtsTokenCount"],u);const g=b(t,["totalTokenCount"]);g!=null&&C(e,["totalTokenCount"],g);const v=b(t,["promptTokensDetails"]);if(v!=null){let F=v;Array.isArray(F)&&(F=F.map(L=>L)),C(e,["promptTokensDetails"],F)}const p=b(t,["cacheTokensDetails"]);if(p!=null){let F=p;Array.isArray(F)&&(F=F.map(L=>L)),C(e,["cacheTokensDetails"],F)}const N=b(t,["candidatesTokensDetails"]);if(N!=null){let F=N;Array.isArray(F)&&(F=F.map(L=>L)),C(e,["responseTokensDetails"],F)}const R=b(t,["toolUsePromptTokensDetails"]);if(R!=null){let F=R;Array.isArray(F)&&(F=F.map(L=>L)),C(e,["toolUsePromptTokensDetails"],F)}const U=b(t,["trafficType"]);return U!=null&&C(e,["trafficType"],U),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hT(t){const e={},n=b(t,["data"]);if(n!=null&&C(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function pT(t){const e={},n=b(t,["content"]);n!=null&&C(e,["content"],n);const s=b(t,["citationMetadata"]);s!=null&&C(e,["citationMetadata"],mT(s));const a=b(t,["tokenCount"]);a!=null&&C(e,["tokenCount"],a);const o=b(t,["finishReason"]);o!=null&&C(e,["finishReason"],o);const u=b(t,["avgLogprobs"]);u!=null&&C(e,["avgLogprobs"],u);const g=b(t,["groundingMetadata"]);g!=null&&C(e,["groundingMetadata"],g);const v=b(t,["index"]);v!=null&&C(e,["index"],v);const p=b(t,["logprobsResult"]);p!=null&&C(e,["logprobsResult"],p);const N=b(t,["safetyRatings"]);if(N!=null){let U=N;Array.isArray(U)&&(U=U.map(F=>F)),C(e,["safetyRatings"],U)}const R=b(t,["urlContextMetadata"]);return R!=null&&C(e,["urlContextMetadata"],R),e}function mT(t){const e={},n=b(t,["citationSources"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>a)),C(e,["citations"],s)}return e}function gT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let o=Qs(a);Array.isArray(o)&&(o=o.map(u=>u)),C(n,["contents"],o)}return n}function yT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["tokensInfo"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["tokensInfo"],a)}return e}function vT(t){const e={},n=b(t,["values"]);n!=null&&C(e,["values"],n);const s=b(t,["statistics"]);return s!=null&&C(e,["statistics"],xT(s)),e}function xT(t){const e={},n=b(t,["truncated"]);n!=null&&C(e,["truncated"],n);const s=b(t,["token_count"]);return s!=null&&C(e,["tokenCount"],s),e}function bg(t){const e={},n=b(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>EA(o))),C(e,["parts"],a)}const s=b(t,["role"]);return s!=null&&C(e,["role"],s),e}function bT(t){const e={},n=b(t,["controlType"]);n!=null&&C(e,["controlType"],n);const s=b(t,["enableControlImageComputation"]);return s!=null&&C(e,["computeControl"],s),e}function wT(t){const e={};if(b(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(b(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(b(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function _T(t,e){const n={},s=b(t,["systemInstruction"]);e!==void 0&&s!=null&&C(e,["systemInstruction"],$r(s));const a=b(t,["tools"]);if(e!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(g=>uw(g))),C(e,["tools"],u)}const o=b(t,["generationConfig"]);return e!==void 0&&o!=null&&C(e,["generationConfig"],dA(o)),n}function ST(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let u=Qs(a);Array.isArray(u)&&(u=u.map(g=>bg(g))),C(n,["contents"],u)}const o=b(e,["config"]);return o!=null&&wT(o),n}function ET(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let u=Qs(a);Array.isArray(u)&&(u=u.map(g=>g)),C(n,["contents"],u)}const o=b(e,["config"]);return o!=null&&_T(o,n),n}function CT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["totalTokens"]);s!=null&&C(e,["totalTokens"],s);const a=b(t,["cachedContentTokenCount"]);return a!=null&&C(e,["cachedContentTokenCount"],a),e}function TT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["totalTokens"]);return s!=null&&C(e,["totalTokens"],s),e}function AT(t,e){const n={},s=b(e,["model"]);return s!=null&&C(n,["_url","name"],fn(t,s)),n}function NT(t,e){const n={},s=b(e,["model"]);return s!=null&&C(n,["_url","name"],fn(t,s)),n}function kT(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function IT(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}function RT(t,e){const n={},s=b(t,["outputGcsUri"]);e!==void 0&&s!=null&&C(e,["parameters","storageUri"],s);const a=b(t,["negativePrompt"]);e!==void 0&&a!=null&&C(e,["parameters","negativePrompt"],a);const o=b(t,["numberOfImages"]);e!==void 0&&o!=null&&C(e,["parameters","sampleCount"],o);const u=b(t,["aspectRatio"]);e!==void 0&&u!=null&&C(e,["parameters","aspectRatio"],u);const g=b(t,["guidanceScale"]);e!==void 0&&g!=null&&C(e,["parameters","guidanceScale"],g);const v=b(t,["seed"]);e!==void 0&&v!=null&&C(e,["parameters","seed"],v);const p=b(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&C(e,["parameters","safetySetting"],p);const N=b(t,["personGeneration"]);e!==void 0&&N!=null&&C(e,["parameters","personGeneration"],N);const R=b(t,["includeSafetyAttributes"]);e!==void 0&&R!=null&&C(e,["parameters","includeSafetyAttributes"],R);const U=b(t,["includeRaiReason"]);e!==void 0&&U!=null&&C(e,["parameters","includeRaiReason"],U);const F=b(t,["language"]);e!==void 0&&F!=null&&C(e,["parameters","language"],F);const L=b(t,["outputMimeType"]);e!==void 0&&L!=null&&C(e,["parameters","outputOptions","mimeType"],L);const Q=b(t,["outputCompressionQuality"]);e!==void 0&&Q!=null&&C(e,["parameters","outputOptions","compressionQuality"],Q);const re=b(t,["addWatermark"]);e!==void 0&&re!=null&&C(e,["parameters","addWatermark"],re);const ce=b(t,["labels"]);e!==void 0&&ce!=null&&C(e,["labels"],ce);const ue=b(t,["editMode"]);e!==void 0&&ue!=null&&C(e,["parameters","editMode"],ue);const te=b(t,["baseSteps"]);return e!==void 0&&te!=null&&C(e,["parameters","editConfig","baseSteps"],te),n}function DT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["prompt"]);a!=null&&C(n,["instances[0]","prompt"],a);const o=b(e,["referenceImages"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>IA(v))),C(n,["instances[0]","referenceImages"],g)}const u=b(e,["config"]);return u!=null&&RT(u,n),n}function PT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>wg(o))),C(e,["generatedImages"],a)}return e}function MT(t,e){const n={},s=b(t,["taskType"]);e!==void 0&&s!=null&&C(e,["requests[]","taskType"],s);const a=b(t,["title"]);e!==void 0&&a!=null&&C(e,["requests[]","title"],a);const o=b(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&C(e,["requests[]","outputDimensionality"],o),b(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(b(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function OT(t,e){const n={},s=b(t,["taskType"]);e!==void 0&&s!=null&&C(e,["instances[]","task_type"],s);const a=b(t,["title"]);e!==void 0&&a!=null&&C(e,["instances[]","title"],a);const o=b(t,["outputDimensionality"]);e!==void 0&&o!=null&&C(e,["parameters","outputDimensionality"],o);const u=b(t,["mimeType"]);e!==void 0&&u!=null&&C(e,["instances[]","mimeType"],u);const g=b(t,["autoTruncate"]);return e!==void 0&&g!=null&&C(e,["parameters","autoTruncate"],g),n}function UT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let g=Ey(t,a);Array.isArray(g)&&(g=g.map(v=>v)),C(n,["requests[]","content"],g)}const o=b(e,["config"]);o!=null&&MT(o,n);const u=b(e,["model"]);return u!==void 0&&C(n,["requests[]","model"],fn(t,u)),n}function jT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let u=Ey(t,a);Array.isArray(u)&&(u=u.map(g=>g)),C(n,["instances[]","content"],u)}const o=b(e,["config"]);return o!=null&&OT(o,n),n}function LT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["embeddings"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["embeddings"],o)}const a=b(t,["metadata"]);return a!=null&&C(e,["metadata"],a),e}function BT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["predictions[]","embeddings"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>vT(u))),C(e,["embeddings"],o)}const a=b(t,["metadata"]);return a!=null&&C(e,["metadata"],a),e}function qT(t){const e={},n=b(t,["endpoint"]);n!=null&&C(e,["name"],n);const s=b(t,["deployedModelId"]);return s!=null&&C(e,["deployedModelId"],s),e}function $T(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function zT(t){const e={};if(b(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=b(t,["description"]);n!=null&&C(e,["description"],n);const s=b(t,["name"]);s!=null&&C(e,["name"],s);const a=b(t,["parameters"]);a!=null&&C(e,["parameters"],a);const o=b(t,["parametersJsonSchema"]);o!=null&&C(e,["parametersJsonSchema"],o);const u=b(t,["response"]);u!=null&&C(e,["response"],u);const g=b(t,["responseJsonSchema"]);return g!=null&&C(e,["responseJsonSchema"],g),e}function VT(t,e,n){const s={},a=b(e,["systemInstruction"]);n!==void 0&&a!=null&&C(n,["systemInstruction"],bg($r(a)));const o=b(e,["temperature"]);o!=null&&C(s,["temperature"],o);const u=b(e,["topP"]);u!=null&&C(s,["topP"],u);const g=b(e,["topK"]);g!=null&&C(s,["topK"],g);const v=b(e,["candidateCount"]);v!=null&&C(s,["candidateCount"],v);const p=b(e,["maxOutputTokens"]);p!=null&&C(s,["maxOutputTokens"],p);const N=b(e,["stopSequences"]);N!=null&&C(s,["stopSequences"],N);const R=b(e,["responseLogprobs"]);R!=null&&C(s,["responseLogprobs"],R);const U=b(e,["logprobs"]);U!=null&&C(s,["logprobs"],U);const F=b(e,["presencePenalty"]);F!=null&&C(s,["presencePenalty"],F);const L=b(e,["frequencyPenalty"]);L!=null&&C(s,["frequencyPenalty"],L);const Q=b(e,["seed"]);Q!=null&&C(s,["seed"],Q);const re=b(e,["responseMimeType"]);re!=null&&C(s,["responseMimeType"],re);const ce=b(e,["responseSchema"]);ce!=null&&C(s,["responseSchema"],Cy(ce));const ue=b(e,["responseJsonSchema"]);if(ue!=null&&C(s,["responseJsonSchema"],ue),b(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(b(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const te=b(e,["safetySettings"]);if(n!==void 0&&te!=null){let He=te;Array.isArray(He)&&(He=He.map(pt=>RA(pt))),C(n,["safetySettings"],He)}const se=b(e,["tools"]);if(n!==void 0&&se!=null){let He=Vu(se);Array.isArray(He)&&(He=He.map(pt=>jA(zu(pt)))),C(n,["tools"],He)}const le=b(e,["toolConfig"]);if(n!==void 0&&le!=null&&C(n,["toolConfig"],le),b(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const me=b(e,["cachedContent"]);n!==void 0&&me!=null&&C(n,["cachedContent"],Oa(t,me));const ve=b(e,["responseModalities"]);ve!=null&&C(s,["responseModalities"],ve);const Re=b(e,["mediaResolution"]);Re!=null&&C(s,["mediaResolution"],Re);const Ne=b(e,["speechConfig"]);if(Ne!=null&&C(s,["speechConfig"],Ty(Ne)),b(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=b(e,["thinkingConfig"]);fe!=null&&C(s,["thinkingConfig"],fe);const Me=b(e,["imageConfig"]);return Me!=null&&C(s,["imageConfig"],Me),s}function FT(t,e,n){const s={},a=b(e,["systemInstruction"]);n!==void 0&&a!=null&&C(n,["systemInstruction"],$r(a));const o=b(e,["temperature"]);o!=null&&C(s,["temperature"],o);const u=b(e,["topP"]);u!=null&&C(s,["topP"],u);const g=b(e,["topK"]);g!=null&&C(s,["topK"],g);const v=b(e,["candidateCount"]);v!=null&&C(s,["candidateCount"],v);const p=b(e,["maxOutputTokens"]);p!=null&&C(s,["maxOutputTokens"],p);const N=b(e,["stopSequences"]);N!=null&&C(s,["stopSequences"],N);const R=b(e,["responseLogprobs"]);R!=null&&C(s,["responseLogprobs"],R);const U=b(e,["logprobs"]);U!=null&&C(s,["logprobs"],U);const F=b(e,["presencePenalty"]);F!=null&&C(s,["presencePenalty"],F);const L=b(e,["frequencyPenalty"]);L!=null&&C(s,["frequencyPenalty"],L);const Q=b(e,["seed"]);Q!=null&&C(s,["seed"],Q);const re=b(e,["responseMimeType"]);re!=null&&C(s,["responseMimeType"],re);const ce=b(e,["responseSchema"]);ce!=null&&C(s,["responseSchema"],Cy(ce));const ue=b(e,["responseJsonSchema"]);ue!=null&&C(s,["responseJsonSchema"],ue);const te=b(e,["routingConfig"]);te!=null&&C(s,["routingConfig"],te);const se=b(e,["modelSelectionConfig"]);se!=null&&C(s,["modelConfig"],se);const le=b(e,["safetySettings"]);if(n!==void 0&&le!=null){let ie=le;Array.isArray(ie)&&(ie=ie.map(ye=>ye)),C(n,["safetySettings"],ie)}const me=b(e,["tools"]);if(n!==void 0&&me!=null){let ie=Vu(me);Array.isArray(ie)&&(ie=ie.map(ye=>uw(zu(ye)))),C(n,["tools"],ie)}const ve=b(e,["toolConfig"]);n!==void 0&&ve!=null&&C(n,["toolConfig"],ve);const Re=b(e,["labels"]);n!==void 0&&Re!=null&&C(n,["labels"],Re);const Ne=b(e,["cachedContent"]);n!==void 0&&Ne!=null&&C(n,["cachedContent"],Oa(t,Ne));const fe=b(e,["responseModalities"]);fe!=null&&C(s,["responseModalities"],fe);const Me=b(e,["mediaResolution"]);Me!=null&&C(s,["mediaResolution"],Me);const He=b(e,["speechConfig"]);He!=null&&C(s,["speechConfig"],cw(Ty(He)));const pt=b(e,["audioTimestamp"]);pt!=null&&C(s,["audioTimestamp"],pt);const it=b(e,["thinkingConfig"]);it!=null&&C(s,["thinkingConfig"],it);const Rt=b(e,["imageConfig"]);return Rt!=null&&C(s,["imageConfig"],Rt),s}function Ux(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let u=Qs(a);Array.isArray(u)&&(u=u.map(g=>bg(g))),C(n,["contents"],u)}const o=b(e,["config"]);return o!=null&&C(n,["generationConfig"],VT(t,o,n)),n}function jx(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["contents"]);if(a!=null){let u=Qs(a);Array.isArray(u)&&(u=u.map(g=>g)),C(n,["contents"],u)}const o=b(e,["config"]);return o!=null&&C(n,["generationConfig"],FT(t,o,n)),n}function Lx(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(p=>pT(p))),C(e,["candidates"],v)}const a=b(t,["modelVersion"]);a!=null&&C(e,["modelVersion"],a);const o=b(t,["promptFeedback"]);o!=null&&C(e,["promptFeedback"],o);const u=b(t,["responseId"]);u!=null&&C(e,["responseId"],u);const g=b(t,["usageMetadata"]);return g!=null&&C(e,["usageMetadata"],g),e}function Bx(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(N=>N)),C(e,["candidates"],p)}const a=b(t,["createTime"]);a!=null&&C(e,["createTime"],a);const o=b(t,["modelVersion"]);o!=null&&C(e,["modelVersion"],o);const u=b(t,["promptFeedback"]);u!=null&&C(e,["promptFeedback"],u);const g=b(t,["responseId"]);g!=null&&C(e,["responseId"],g);const v=b(t,["usageMetadata"]);return v!=null&&C(e,["usageMetadata"],v),e}function HT(t,e){const n={};if(b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=b(t,["numberOfImages"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const a=b(t,["aspectRatio"]);e!==void 0&&a!=null&&C(e,["parameters","aspectRatio"],a);const o=b(t,["guidanceScale"]);if(e!==void 0&&o!=null&&C(e,["parameters","guidanceScale"],o),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=b(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&C(e,["parameters","safetySetting"],u);const g=b(t,["personGeneration"]);e!==void 0&&g!=null&&C(e,["parameters","personGeneration"],g);const v=b(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&C(e,["parameters","includeSafetyAttributes"],v);const p=b(t,["includeRaiReason"]);e!==void 0&&p!=null&&C(e,["parameters","includeRaiReason"],p);const N=b(t,["language"]);e!==void 0&&N!=null&&C(e,["parameters","language"],N);const R=b(t,["outputMimeType"]);e!==void 0&&R!=null&&C(e,["parameters","outputOptions","mimeType"],R);const U=b(t,["outputCompressionQuality"]);if(e!==void 0&&U!=null&&C(e,["parameters","outputOptions","compressionQuality"],U),b(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=b(t,["imageSize"]);if(e!==void 0&&F!=null&&C(e,["parameters","sampleImageSize"],F),b(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function GT(t,e){const n={},s=b(t,["outputGcsUri"]);e!==void 0&&s!=null&&C(e,["parameters","storageUri"],s);const a=b(t,["negativePrompt"]);e!==void 0&&a!=null&&C(e,["parameters","negativePrompt"],a);const o=b(t,["numberOfImages"]);e!==void 0&&o!=null&&C(e,["parameters","sampleCount"],o);const u=b(t,["aspectRatio"]);e!==void 0&&u!=null&&C(e,["parameters","aspectRatio"],u);const g=b(t,["guidanceScale"]);e!==void 0&&g!=null&&C(e,["parameters","guidanceScale"],g);const v=b(t,["seed"]);e!==void 0&&v!=null&&C(e,["parameters","seed"],v);const p=b(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&C(e,["parameters","safetySetting"],p);const N=b(t,["personGeneration"]);e!==void 0&&N!=null&&C(e,["parameters","personGeneration"],N);const R=b(t,["includeSafetyAttributes"]);e!==void 0&&R!=null&&C(e,["parameters","includeSafetyAttributes"],R);const U=b(t,["includeRaiReason"]);e!==void 0&&U!=null&&C(e,["parameters","includeRaiReason"],U);const F=b(t,["language"]);e!==void 0&&F!=null&&C(e,["parameters","language"],F);const L=b(t,["outputMimeType"]);e!==void 0&&L!=null&&C(e,["parameters","outputOptions","mimeType"],L);const Q=b(t,["outputCompressionQuality"]);e!==void 0&&Q!=null&&C(e,["parameters","outputOptions","compressionQuality"],Q);const re=b(t,["addWatermark"]);e!==void 0&&re!=null&&C(e,["parameters","addWatermark"],re);const ce=b(t,["labels"]);e!==void 0&&ce!=null&&C(e,["labels"],ce);const ue=b(t,["imageSize"]);e!==void 0&&ue!=null&&C(e,["parameters","sampleImageSize"],ue);const te=b(t,["enhancePrompt"]);return e!==void 0&&te!=null&&C(e,["parameters","enhancePrompt"],te),n}function YT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["prompt"]);a!=null&&C(n,["instances[0]","prompt"],a);const o=b(e,["config"]);return o!=null&&HT(o,n),n}function JT(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["prompt"]);a!=null&&C(n,["instances[0]","prompt"],a);const o=b(e,["config"]);return o!=null&&GT(o,n),n}function KT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>oA(u))),C(e,["generatedImages"],o)}const a=b(t,["positivePromptSafetyAttributes"]);return a!=null&&C(e,["positivePromptSafetyAttributes"],ow(a)),e}function WT(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["predictions"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>wg(u))),C(e,["generatedImages"],o)}const a=b(t,["positivePromptSafetyAttributes"]);return a!=null&&C(e,["positivePromptSafetyAttributes"],lw(a)),e}function QT(t,e){const n={},s=b(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s),b(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(b(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=b(t,["durationSeconds"]);if(e!==void 0&&a!=null&&C(e,["parameters","durationSeconds"],a),b(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=b(t,["aspectRatio"]);e!==void 0&&o!=null&&C(e,["parameters","aspectRatio"],o);const u=b(t,["resolution"]);e!==void 0&&u!=null&&C(e,["parameters","resolution"],u);const g=b(t,["personGeneration"]);if(e!==void 0&&g!=null&&C(e,["parameters","personGeneration"],g),b(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const v=b(t,["negativePrompt"]);e!==void 0&&v!=null&&C(e,["parameters","negativePrompt"],v);const p=b(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&C(e,["parameters","enhancePrompt"],p),b(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const N=b(t,["lastFrame"]);e!==void 0&&N!=null&&C(e,["instances[0]","lastFrame"],_g(N));const R=b(t,["referenceImages"]);if(e!==void 0&&R!=null){let U=R;Array.isArray(U)&&(U=U.map(F=>WA(F))),C(e,["instances[0]","referenceImages"],U)}if(b(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(b(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function XT(t,e){const n={},s=b(t,["numberOfVideos"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const a=b(t,["outputGcsUri"]);e!==void 0&&a!=null&&C(e,["parameters","storageUri"],a);const o=b(t,["fps"]);e!==void 0&&o!=null&&C(e,["parameters","fps"],o);const u=b(t,["durationSeconds"]);e!==void 0&&u!=null&&C(e,["parameters","durationSeconds"],u);const g=b(t,["seed"]);e!==void 0&&g!=null&&C(e,["parameters","seed"],g);const v=b(t,["aspectRatio"]);e!==void 0&&v!=null&&C(e,["parameters","aspectRatio"],v);const p=b(t,["resolution"]);e!==void 0&&p!=null&&C(e,["parameters","resolution"],p);const N=b(t,["personGeneration"]);e!==void 0&&N!=null&&C(e,["parameters","personGeneration"],N);const R=b(t,["pubsubTopic"]);e!==void 0&&R!=null&&C(e,["parameters","pubsubTopic"],R);const U=b(t,["negativePrompt"]);e!==void 0&&U!=null&&C(e,["parameters","negativePrompt"],U);const F=b(t,["enhancePrompt"]);e!==void 0&&F!=null&&C(e,["parameters","enhancePrompt"],F);const L=b(t,["generateAudio"]);e!==void 0&&L!=null&&C(e,["parameters","generateAudio"],L);const Q=b(t,["lastFrame"]);e!==void 0&&Q!=null&&C(e,["instances[0]","lastFrame"],Ei(Q));const re=b(t,["referenceImages"]);if(e!==void 0&&re!=null){let te=re;Array.isArray(te)&&(te=te.map(se=>QA(se))),C(e,["instances[0]","referenceImages"],te)}const ce=b(t,["mask"]);e!==void 0&&ce!=null&&C(e,["instances[0]","mask"],KA(ce));const ue=b(t,["compressionQuality"]);return e!==void 0&&ue!=null&&C(e,["parameters","compressionQuality"],ue),n}function ZT(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response","generateVideoResponse"]);return u!=null&&C(e,["response"],rA(u)),e}function eA(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response"]);return u!=null&&C(e,["response"],sA(u)),e}function tA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["prompt"]);a!=null&&C(n,["instances[0]","prompt"],a);const o=b(e,["image"]);o!=null&&C(n,["instances[0]","image"],_g(o));const u=b(e,["video"]);u!=null&&C(n,["instances[0]","video"],dw(u));const g=b(e,["source"]);g!=null&&iA(g,n);const v=b(e,["config"]);return v!=null&&QT(v,n),n}function nA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["prompt"]);a!=null&&C(n,["instances[0]","prompt"],a);const o=b(e,["image"]);o!=null&&C(n,["instances[0]","image"],Ei(o));const u=b(e,["video"]);u!=null&&C(n,["instances[0]","video"],fw(u));const g=b(e,["source"]);g!=null&&aA(g,n);const v=b(e,["config"]);return v!=null&&XT(v,n),n}function rA(t){const e={},n=b(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>cA(u))),C(e,["generatedVideos"],o)}const s=b(t,["raiMediaFilteredCount"]);s!=null&&C(e,["raiMediaFilteredCount"],s);const a=b(t,["raiMediaFilteredReasons"]);return a!=null&&C(e,["raiMediaFilteredReasons"],a),e}function sA(t){const e={},n=b(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>uA(u))),C(e,["generatedVideos"],o)}const s=b(t,["raiMediaFilteredCount"]);s!=null&&C(e,["raiMediaFilteredCount"],s);const a=b(t,["raiMediaFilteredReasons"]);return a!=null&&C(e,["raiMediaFilteredReasons"],a),e}function iA(t,e){const n={},s=b(t,["prompt"]);e!==void 0&&s!=null&&C(e,["instances[0]","prompt"],s);const a=b(t,["image"]);e!==void 0&&a!=null&&C(e,["instances[0]","image"],_g(a));const o=b(t,["video"]);return e!==void 0&&o!=null&&C(e,["instances[0]","video"],dw(o)),n}function aA(t,e){const n={},s=b(t,["prompt"]);e!==void 0&&s!=null&&C(e,["instances[0]","prompt"],s);const a=b(t,["image"]);e!==void 0&&a!=null&&C(e,["instances[0]","image"],Ei(a));const o=b(t,["video"]);return e!==void 0&&o!=null&&C(e,["instances[0]","video"],fw(o)),n}function oA(t){const e={},n=b(t,["_self"]);n!=null&&C(e,["image"],gA(n));const s=b(t,["raiFilteredReason"]);s!=null&&C(e,["raiFilteredReason"],s);const a=b(t,["_self"]);return a!=null&&C(e,["safetyAttributes"],ow(a)),e}function wg(t){const e={},n=b(t,["_self"]);n!=null&&C(e,["image"],aw(n));const s=b(t,["raiFilteredReason"]);s!=null&&C(e,["raiFilteredReason"],s);const a=b(t,["_self"]);a!=null&&C(e,["safetyAttributes"],lw(a));const o=b(t,["prompt"]);return o!=null&&C(e,["enhancedPrompt"],o),e}function lA(t){const e={},n=b(t,["_self"]);n!=null&&C(e,["mask"],aw(n));const s=b(t,["labels"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>o)),C(e,["labels"],a)}return e}function cA(t){const e={},n=b(t,["video"]);return n!=null&&C(e,["video"],YA(n)),e}function uA(t){const e={},n=b(t,["_self"]);return n!=null&&C(e,["video"],JA(n)),e}function dA(t){const e={},n=b(t,["modelSelectionConfig"]);n!=null&&C(e,["modelConfig"],n);const s=b(t,["responseJsonSchema"]);s!=null&&C(e,["responseJsonSchema"],s);const a=b(t,["audioTimestamp"]);a!=null&&C(e,["audioTimestamp"],a);const o=b(t,["candidateCount"]);o!=null&&C(e,["candidateCount"],o);const u=b(t,["enableAffectiveDialog"]);u!=null&&C(e,["enableAffectiveDialog"],u);const g=b(t,["frequencyPenalty"]);g!=null&&C(e,["frequencyPenalty"],g);const v=b(t,["logprobs"]);v!=null&&C(e,["logprobs"],v);const p=b(t,["maxOutputTokens"]);p!=null&&C(e,["maxOutputTokens"],p);const N=b(t,["mediaResolution"]);N!=null&&C(e,["mediaResolution"],N);const R=b(t,["presencePenalty"]);R!=null&&C(e,["presencePenalty"],R);const U=b(t,["responseLogprobs"]);U!=null&&C(e,["responseLogprobs"],U);const F=b(t,["responseMimeType"]);F!=null&&C(e,["responseMimeType"],F);const L=b(t,["responseModalities"]);L!=null&&C(e,["responseModalities"],L);const Q=b(t,["responseSchema"]);Q!=null&&C(e,["responseSchema"],Q);const re=b(t,["routingConfig"]);re!=null&&C(e,["routingConfig"],re);const ce=b(t,["seed"]);ce!=null&&C(e,["seed"],ce);const ue=b(t,["speechConfig"]);ue!=null&&C(e,["speechConfig"],cw(ue));const te=b(t,["stopSequences"]);te!=null&&C(e,["stopSequences"],te);const se=b(t,["temperature"]);se!=null&&C(e,["temperature"],se);const le=b(t,["thinkingConfig"]);le!=null&&C(e,["thinkingConfig"],le);const me=b(t,["topK"]);me!=null&&C(e,["topK"],me);const ve=b(t,["topP"]);if(ve!=null&&C(e,["topP"],ve),b(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function fA(t,e){const n={},s=b(e,["model"]);return s!=null&&C(n,["_url","name"],fn(t,s)),n}function hA(t,e){const n={},s=b(e,["model"]);return s!=null&&C(n,["_url","name"],fn(t,s)),n}function pA(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function mA(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function gA(t){const e={},n=b(t,["bytesBase64Encoded"]);n!=null&&C(e,["imageBytes"],Uo(n));const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function aw(t){const e={},n=b(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const s=b(t,["bytesBase64Encoded"]);s!=null&&C(e,["imageBytes"],Uo(s));const a=b(t,["mimeType"]);return a!=null&&C(e,["mimeType"],a),e}function _g(t){const e={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=b(t,["imageBytes"]);n!=null&&C(e,["bytesBase64Encoded"],Uo(n));const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function Ei(t){const e={},n=b(t,["gcsUri"]);n!=null&&C(e,["gcsUri"],n);const s=b(t,["imageBytes"]);s!=null&&C(e,["bytesBase64Encoded"],Uo(s));const a=b(t,["mimeType"]);return a!=null&&C(e,["mimeType"],a),e}function yA(t,e,n){const s={},a=b(e,["pageSize"]);n!==void 0&&a!=null&&C(n,["_query","pageSize"],a);const o=b(e,["pageToken"]);n!==void 0&&o!=null&&C(n,["_query","pageToken"],o);const u=b(e,["filter"]);n!==void 0&&u!=null&&C(n,["_query","filter"],u);const g=b(e,["queryBase"]);return n!==void 0&&g!=null&&C(n,["_url","models_url"],Xb(t,g)),s}function vA(t,e,n){const s={},a=b(e,["pageSize"]);n!==void 0&&a!=null&&C(n,["_query","pageSize"],a);const o=b(e,["pageToken"]);n!==void 0&&o!=null&&C(n,["_query","pageToken"],o);const u=b(e,["filter"]);n!==void 0&&u!=null&&C(n,["_query","filter"],u);const g=b(e,["queryBase"]);return n!==void 0&&g!=null&&C(n,["_url","models_url"],Xb(t,g)),s}function xA(t,e){const n={},s=b(e,["config"]);return s!=null&&yA(t,s,n),n}function bA(t,e){const n={},s=b(e,["config"]);return s!=null&&vA(t,s,n),n}function wA(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["_self"]);if(a!=null){let o=Zb(a);Array.isArray(o)&&(o=o.map(u=>Y0(u))),C(e,["models"],o)}return e}function _A(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["_self"]);if(a!=null){let o=Zb(a);Array.isArray(o)&&(o=o.map(u=>J0(u))),C(e,["models"],o)}return e}function SA(t){const e={},n=b(t,["maskMode"]);n!=null&&C(e,["maskMode"],n);const s=b(t,["segmentationClasses"]);s!=null&&C(e,["maskClasses"],s);const a=b(t,["maskDilation"]);return a!=null&&C(e,["dilation"],a),e}function Y0(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["displayName"]);s!=null&&C(e,["displayName"],s);const a=b(t,["description"]);a!=null&&C(e,["description"],a);const o=b(t,["version"]);o!=null&&C(e,["version"],o);const u=b(t,["_self"]);u!=null&&C(e,["tunedModelInfo"],LA(u));const g=b(t,["inputTokenLimit"]);g!=null&&C(e,["inputTokenLimit"],g);const v=b(t,["outputTokenLimit"]);v!=null&&C(e,["outputTokenLimit"],v);const p=b(t,["supportedGenerationMethods"]);p!=null&&C(e,["supportedActions"],p);const N=b(t,["temperature"]);N!=null&&C(e,["temperature"],N);const R=b(t,["maxTemperature"]);R!=null&&C(e,["maxTemperature"],R);const U=b(t,["topP"]);U!=null&&C(e,["topP"],U);const F=b(t,["topK"]);F!=null&&C(e,["topK"],F);const L=b(t,["thinking"]);return L!=null&&C(e,["thinking"],L),e}function J0(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["displayName"]);s!=null&&C(e,["displayName"],s);const a=b(t,["description"]);a!=null&&C(e,["description"],a);const o=b(t,["versionId"]);o!=null&&C(e,["version"],o);const u=b(t,["deployedModels"]);if(u!=null){let R=u;Array.isArray(R)&&(R=R.map(U=>qT(U))),C(e,["endpoints"],R)}const g=b(t,["labels"]);g!=null&&C(e,["labels"],g);const v=b(t,["_self"]);v!=null&&C(e,["tunedModelInfo"],BA(v));const p=b(t,["defaultCheckpointId"]);p!=null&&C(e,["defaultCheckpointId"],p);const N=b(t,["checkpoints"]);if(N!=null){let R=N;Array.isArray(R)&&(R=R.map(U=>U)),C(e,["checkpoints"],R)}return e}function EA(t){const e={},n=b(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const s=b(t,["codeExecutionResult"]);s!=null&&C(e,["codeExecutionResult"],s);const a=b(t,["executableCode"]);a!=null&&C(e,["executableCode"],a);const o=b(t,["fileData"]);o!=null&&C(e,["fileData"],$T(o));const u=b(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const g=b(t,["inlineData"]);g!=null&&C(e,["inlineData"],hT(g));const v=b(t,["text"]);v!=null&&C(e,["text"],v);const p=b(t,["thought"]);p!=null&&C(e,["thought"],p);const N=b(t,["thoughtSignature"]);N!=null&&C(e,["thoughtSignature"],N);const R=b(t,["videoMetadata"]);return R!=null&&C(e,["videoMetadata"],R),e}function CA(t){const e={},n=b(t,["productImage"]);return n!=null&&C(e,["image"],Ei(n)),e}function TA(t,e){const n={},s=b(t,["numberOfImages"]);e!==void 0&&s!=null&&C(e,["parameters","sampleCount"],s);const a=b(t,["baseSteps"]);e!==void 0&&a!=null&&C(e,["parameters","baseSteps"],a);const o=b(t,["outputGcsUri"]);e!==void 0&&o!=null&&C(e,["parameters","storageUri"],o);const u=b(t,["seed"]);e!==void 0&&u!=null&&C(e,["parameters","seed"],u);const g=b(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&C(e,["parameters","safetySetting"],g);const v=b(t,["personGeneration"]);e!==void 0&&v!=null&&C(e,["parameters","personGeneration"],v);const p=b(t,["addWatermark"]);e!==void 0&&p!=null&&C(e,["parameters","addWatermark"],p);const N=b(t,["outputMimeType"]);e!==void 0&&N!=null&&C(e,["parameters","outputOptions","mimeType"],N);const R=b(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&C(e,["parameters","outputOptions","compressionQuality"],R);const U=b(t,["enhancePrompt"]);e!==void 0&&U!=null&&C(e,["parameters","enhancePrompt"],U);const F=b(t,["labels"]);return e!==void 0&&F!=null&&C(e,["labels"],F),n}function AA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["source"]);a!=null&&kA(a,n);const o=b(e,["config"]);return o!=null&&TA(o,n),n}function NA(t){const e={},n=b(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>wg(a))),C(e,["generatedImages"],s)}return e}function kA(t,e){const n={},s=b(t,["prompt"]);e!==void 0&&s!=null&&C(e,["instances[0]","prompt"],s);const a=b(t,["personImage"]);e!==void 0&&a!=null&&C(e,["instances[0]","personImage","image"],Ei(a));const o=b(t,["productImages"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(g=>CA(g))),C(e,["instances[0]","productImages"],u)}return n}function IA(t){const e={},n=b(t,["referenceImage"]);n!=null&&C(e,["referenceImage"],Ei(n));const s=b(t,["referenceId"]);s!=null&&C(e,["referenceId"],s);const a=b(t,["referenceType"]);a!=null&&C(e,["referenceType"],a);const o=b(t,["maskImageConfig"]);o!=null&&C(e,["maskImageConfig"],SA(o));const u=b(t,["controlImageConfig"]);u!=null&&C(e,["controlImageConfig"],bT(u));const g=b(t,["styleImageConfig"]);g!=null&&C(e,["styleImageConfig"],g);const v=b(t,["subjectImageConfig"]);return v!=null&&C(e,["subjectImageConfig"],v),e}function ow(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const s=b(t,["safetyAttributes","scores"]);s!=null&&C(e,["scores"],s);const a=b(t,["contentType"]);return a!=null&&C(e,["contentType"],a),e}function lw(t){const e={},n=b(t,["safetyAttributes","categories"]);n!=null&&C(e,["categories"],n);const s=b(t,["safetyAttributes","scores"]);s!=null&&C(e,["scores"],s);const a=b(t,["contentType"]);return a!=null&&C(e,["contentType"],a),e}function RA(t){const e={},n=b(t,["category"]);if(n!=null&&C(e,["category"],n),b(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=b(t,["threshold"]);return s!=null&&C(e,["threshold"],s),e}function DA(t){const e={},n=b(t,["image"]);return n!=null&&C(e,["image"],Ei(n)),e}function PA(t,e){const n={},s=b(t,["mode"]);e!==void 0&&s!=null&&C(e,["parameters","mode"],s);const a=b(t,["maxPredictions"]);e!==void 0&&a!=null&&C(e,["parameters","maxPredictions"],a);const o=b(t,["confidenceThreshold"]);e!==void 0&&o!=null&&C(e,["parameters","confidenceThreshold"],o);const u=b(t,["maskDilation"]);e!==void 0&&u!=null&&C(e,["parameters","maskDilation"],u);const g=b(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&C(e,["parameters","binaryColorThreshold"],g);const v=b(t,["labels"]);return e!==void 0&&v!=null&&C(e,["labels"],v),n}function MA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["source"]);a!=null&&UA(a,n);const o=b(e,["config"]);return o!=null&&PA(o,n),n}function OA(t){const e={},n=b(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(a=>lA(a))),C(e,["generatedMasks"],s)}return e}function UA(t,e){const n={},s=b(t,["prompt"]);e!==void 0&&s!=null&&C(e,["instances[0]","prompt"],s);const a=b(t,["image"]);e!==void 0&&a!=null&&C(e,["instances[0]","image"],Ei(a));const o=b(t,["scribbleImage"]);return e!==void 0&&o!=null&&C(e,["instances[0]","scribble"],DA(o)),n}function cw(t){const e={},n=b(t,["languageCode"]);n!=null&&C(e,["languageCode"],n);const s=b(t,["voiceConfig"]);if(s!=null&&C(e,["voiceConfig"],s),b(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function jA(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let N=n;Array.isArray(N)&&(N=N.map(R=>R)),C(e,["functionDeclarations"],N)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=b(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],s);const a=b(t,["computerUse"]);a!=null&&C(e,["computerUse"],a);const o=b(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const u=b(t,["codeExecution"]);if(u!=null&&C(e,["codeExecution"],u),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=b(t,["googleMaps"]);g!=null&&C(e,["googleMaps"],pA(g));const v=b(t,["googleSearch"]);v!=null&&C(e,["googleSearch"],mA(v));const p=b(t,["urlContext"]);return p!=null&&C(e,["urlContext"],p),e}function uw(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let R=n;Array.isArray(R)&&(R=R.map(U=>zT(U))),C(e,["functionDeclarations"],R)}const s=b(t,["retrieval"]);s!=null&&C(e,["retrieval"],s);const a=b(t,["googleSearchRetrieval"]);a!=null&&C(e,["googleSearchRetrieval"],a);const o=b(t,["computerUse"]);if(o!=null&&C(e,["computerUse"],o),b(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=b(t,["codeExecution"]);u!=null&&C(e,["codeExecution"],u);const g=b(t,["enterpriseWebSearch"]);g!=null&&C(e,["enterpriseWebSearch"],g);const v=b(t,["googleMaps"]);v!=null&&C(e,["googleMaps"],v);const p=b(t,["googleSearch"]);p!=null&&C(e,["googleSearch"],p);const N=b(t,["urlContext"]);return N!=null&&C(e,["urlContext"],N),e}function LA(t){const e={},n=b(t,["baseModel"]);n!=null&&C(e,["baseModel"],n);const s=b(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=b(t,["updateTime"]);return a!=null&&C(e,["updateTime"],a),e}function BA(t){const e={},n=b(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&C(e,["baseModel"],n);const s=b(t,["createTime"]);s!=null&&C(e,["createTime"],s);const a=b(t,["updateTime"]);return a!=null&&C(e,["updateTime"],a),e}function qA(t,e){const n={},s=b(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const a=b(t,["description"]);e!==void 0&&a!=null&&C(e,["description"],a);const o=b(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&C(e,["defaultCheckpointId"],o),n}function $A(t,e){const n={},s=b(t,["displayName"]);e!==void 0&&s!=null&&C(e,["displayName"],s);const a=b(t,["description"]);e!==void 0&&a!=null&&C(e,["description"],a);const o=b(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&C(e,["defaultCheckpointId"],o),n}function zA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","name"],fn(t,s));const a=b(e,["config"]);return a!=null&&qA(a,n),n}function VA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["config"]);return a!=null&&$A(a,n),n}function FA(t,e){const n={},s=b(t,["outputGcsUri"]);e!==void 0&&s!=null&&C(e,["parameters","storageUri"],s);const a=b(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&C(e,["parameters","safetySetting"],a);const o=b(t,["personGeneration"]);e!==void 0&&o!=null&&C(e,["parameters","personGeneration"],o);const u=b(t,["includeRaiReason"]);e!==void 0&&u!=null&&C(e,["parameters","includeRaiReason"],u);const g=b(t,["outputMimeType"]);e!==void 0&&g!=null&&C(e,["parameters","outputOptions","mimeType"],g);const v=b(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&C(e,["parameters","outputOptions","compressionQuality"],v);const p=b(t,["enhanceInputImage"]);e!==void 0&&p!=null&&C(e,["parameters","upscaleConfig","enhanceInputImage"],p);const N=b(t,["imagePreservationFactor"]);e!==void 0&&N!=null&&C(e,["parameters","upscaleConfig","imagePreservationFactor"],N);const R=b(t,["labels"]);e!==void 0&&R!=null&&C(e,["labels"],R);const U=b(t,["numberOfImages"]);e!==void 0&&U!=null&&C(e,["parameters","sampleCount"],U);const F=b(t,["mode"]);return e!==void 0&&F!=null&&C(e,["parameters","mode"],F),n}function HA(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["_url","model"],fn(t,s));const a=b(e,["image"]);a!=null&&C(n,["instances[0]","image"],Ei(a));const o=b(e,["upscaleFactor"]);o!=null&&C(n,["parameters","upscaleConfig","upscaleFactor"],o);const u=b(e,["config"]);return u!=null&&FA(u,n),n}function GA(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>wg(o))),C(e,["generatedImages"],a)}return e}function YA(t){const e={},n=b(t,["uri"]);n!=null&&C(e,["uri"],n);const s=b(t,["encodedVideo"]);s!=null&&C(e,["videoBytes"],Uo(s));const a=b(t,["encoding"]);return a!=null&&C(e,["mimeType"],a),e}function JA(t){const e={},n=b(t,["gcsUri"]);n!=null&&C(e,["uri"],n);const s=b(t,["bytesBase64Encoded"]);s!=null&&C(e,["videoBytes"],Uo(s));const a=b(t,["mimeType"]);return a!=null&&C(e,["mimeType"],a),e}function KA(t){const e={},n=b(t,["image"]);n!=null&&C(e,["_self"],Ei(n));const s=b(t,["maskMode"]);return s!=null&&C(e,["maskMode"],s),e}function WA(t){const e={},n=b(t,["image"]);n!=null&&C(e,["image"],_g(n));const s=b(t,["referenceType"]);return s!=null&&C(e,["referenceType"],s),e}function QA(t){const e={},n=b(t,["image"]);n!=null&&C(e,["image"],Ei(n));const s=b(t,["referenceType"]);return s!=null&&C(e,["referenceType"],s),e}function dw(t){const e={},n=b(t,["uri"]);n!=null&&C(e,["uri"],n);const s=b(t,["videoBytes"]);s!=null&&C(e,["encodedVideo"],Uo(s));const a=b(t,["mimeType"]);return a!=null&&C(e,["encoding"],a),e}function fw(t){const e={},n=b(t,["uri"]);n!=null&&C(e,["gcsUri"],n);const s=b(t,["videoBytes"]);s!=null&&C(e,["bytesBase64Encoded"],Uo(s));const a=b(t,["mimeType"]);return a!=null&&C(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XA="Content-Type",ZA="X-Server-Timeout",e2="User-Agent",K0="x-goog-api-client",t2="1.29.1",n2=`google-genai-sdk/${t2}`,r2="v1beta1",s2="v1beta",qx=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class i2{constructor(e){var n,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:r2,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:s2,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,s){const a=[this.getRequestUrlInternal(n)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,s);if(e.queryParams)for(const[u,g]of Object.entries(e.queryParams))a.searchParams.append(u,String(g));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,a.toString(),e.abortSignal),this.unaryApiCall(a,o,e.httpMethod)}patchHttpOptions(e,n){const s=JSON.parse(JSON.stringify(e));for(const[a,o]of Object.entries(n))typeof o=="object"?s[a]=Object.assign(Object.assign({},s[a]),o):o!==void 0&&(s[a]=o);return s}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,a.toString(),e.abortSignal),this.streamApiCall(a,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,s,a){if(n&&n.timeout||a){const o=new AbortController,u=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const g=setTimeout(()=>o.abort(),n.timeout);g&&typeof g.unref=="function"&&g.unref()}a&&a.addEventListener("abort",()=>{o.abort()}),e.signal=u}return n&&n.extraBody!==null&&a2(e,n.extraBody),e.headers=await this.getHeadersInternal(n,s),e}async unaryApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await $x(a),new F0(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:s})).then(async a=>(await $x(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return Ou(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let u="";for(;;){const{done:g,value:v}=yield Bn(a.read());if(g){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(v,{stream:!0});try{const R=JSON.parse(p);if("error"in R){const U=JSON.parse(JSON.stringify(R.error)),F=U.status,L=U.code,Q=`got status: ${F}. ${JSON.stringify(R)}`;if(L>=400&&L<600)throw new xg({message:Q,status:L})}}catch(R){if(R.name==="ApiError")throw R}u+=p;let N=u.match(qx);for(;N;){const R=N[1];try{const U=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Bn(new F0(U)),u=u.slice(N[0].length),N=u.match(qx)}catch(U){throw new Error(`exception parsing stream chunk ${R}. ${U}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},n=n2+" "+this.clientOptions.userAgentExtra;return e[e2]=n,e[K0]=n,e[XA]="application/json",e}async getHeadersInternal(e,n){const s=new Headers;if(e&&e.headers){for(const[a,o]of Object.entries(e.headers))s.append(a,o);e.timeout&&e.timeout>0&&s.append(ZA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,n),s}getFileName(e){var n;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(n=s.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),s}async uploadFile(e,n){var s;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const o=this.clientOptions.uploader,u=await o.stat(e);a.sizeBytes=String(u.size);const g=(s=n==null?void 0:n.mimeType)!==null&&s!==void 0?s:u.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=g;const v={file:a},p=this.getFileName(e),N=ot("upload/v1beta/files",v._url),R=await this.fetchUploadUrl(N,a.sizeBytes,a.mimeType,p,v,n==null?void 0:n.httpOptions);return o.upload(e,R,this)}async uploadFileToFileSearchStore(e,n,s){var a;const o=this.clientOptions.uploader,u=await o.stat(n),g=String(u.size),v=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:u.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,N=this.getFileName(n),R={};s!=null&&s.customMetadata&&(R.customMetadata=s.customMetadata),s!=null&&s.chunkingConfig&&(R.chunkingConfig=s.chunkingConfig);const U=await this.fetchUploadUrl(p,g,v,N,R,s==null?void 0:s.httpOptions);return o.uploadToFileSearchStore(n,U,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,s,a,o,u){var g;let v={};u?v=u:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:v});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const N=(g=p==null?void 0:p.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(N===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return N}}async function $x(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(s);throw n>=400&&n<600?new xg({message:a,status:n}):new Error(a)}}function a2(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(o,u){const g=Object.assign({},o);for(const v in u)if(Object.prototype.hasOwnProperty.call(u,v)){const p=u[v],N=g[v];p&&typeof p=="object"&&!Array.isArray(p)&&N&&typeof N=="object"&&!Array.isArray(N)?g[v]=s(N,p):(N&&p&&typeof N!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof N}, New type: ${typeof p}. Overwriting.`),g[v]=p)}return g}const a=s(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o2="mcp_used/unknown";let l2=!1;function hw(t){for(const e of t)if(c2(e)||typeof e=="object"&&"inputSchema"in e)return!0;return l2}function pw(t){var e;const n=(e=t[K0])!==null&&e!==void 0?e:"";t[K0]=(n+` ${o2}`).trimStart()}function c2(t){return t!==null&&typeof t=="object"&&t instanceof Ny}function u2(t,e=100){return Ou(this,arguments,function*(){let s,a=0;for(;a<e;){const o=yield Bn(t.listTools({cursor:s}));for(const u of o.tools)yield yield Bn(u),a++;if(!o.nextCursor)break;s=o.nextCursor}})}class Ny{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ny(e,n)}async initialize(){var e,n,s,a;if(this.mcpTools.length>0)return;const o={},u=[];for(const N of this.mcpClients)try{for(var g=!0,v=(n=void 0,lh(u2(N))),p;p=await v.next(),e=p.done,!e;g=!0){a=p.value,g=!1;const R=a;u.push(R);const U=R.name;if(o[U])throw new Error(`Duplicate function name ${U} found in MCP tools. Please ensure function names are unique.`);o[U]=N}}catch(R){n={error:R}}finally{try{!g&&!e&&(s=v.return)&&await s.call(v)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),mE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const u=await a.callTool({name:s.name,arguments:s.args},void 0,o);n.push({functionResponse:{name:s.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function d2(t,e,n){const s=new oE;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(s,a),e(s)}class f2{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s}async connect(e){var n,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),u=m2(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${a}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const N=new Promise(te=>{p=te}),R=e.callbacks,U=function(){p({})},F=this.apiClient,L={onopen:U,onmessage:te=>{d2(F,R.onmessage,te)},onerror:(n=R==null?void 0:R.onerror)!==null&&n!==void 0?n:function(te){},onclose:(s=R==null?void 0:R.onclose)!==null&&s!==void 0?s:function(te){}},Q=this.webSocketFactory.create(v,p2(u),L);Q.connect(),await N;const ue={setup:{model:fn(this.apiClient,e.model)}};return Q.send(JSON.stringify(ue)),new h2(Q,this.apiClient)}}class h2{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=sT(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=rT(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Pu.PLAY)}pause(){this.sendPlaybackControl(Pu.PAUSE)}stop(){this.sendPlaybackControl(Pu.STOP)}resetContext(){this.sendPlaybackControl(Pu.RESET_CONTEXT)}close(){this.conn.close()}}function p2(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function m2(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g2="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function y2(t,e,n){const s=new aE;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const o=JSON.parse(a);if(t.isVertexAI()){const u=oT(o);Object.assign(s,u)}else Object.assign(s,o);e(s)}class v2{constructor(e,n,s){this.apiClient=e,this.auth=n,this.webSocketFactory=s,this.music=new f2(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,s,a,o,u,g;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let N;const R=this.apiClient.getHeaders();e.config&&e.config.tools&&hw(e.config.tools)&&pw(R);const U=_2(R);if(this.apiClient.isVertexAI())N=`${v}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(U,N);else{const Ne=this.apiClient.getApiKey();let fe="BidiGenerateContent",Me="key";Ne!=null&&Ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),fe="BidiGenerateContentConstrained",Me="access_token"),N=`${v}/ws/google.ai.generativelanguage.${p}.GenerativeService.${fe}?${Me}=${Ne}`}let F=()=>{};const L=new Promise(Ne=>{F=Ne}),Q=e.callbacks,re=function(){var Ne;(Ne=Q==null?void 0:Q.onopen)===null||Ne===void 0||Ne.call(Q),F({})},ce=this.apiClient,ue={onopen:re,onmessage:Ne=>{y2(ce,Q.onmessage,Ne)},onerror:(n=Q==null?void 0:Q.onerror)!==null&&n!==void 0?n:function(Ne){},onclose:(s=Q==null?void 0:Q.onclose)!==null&&s!==void 0?s:function(Ne){}},te=this.webSocketFactory.create(N,w2(U),ue);te.connect(),await L;let se=fn(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&se.startsWith("publishers/")){const Ne=this.apiClient.getProject(),fe=this.apiClient.getLocation();se=`projects/${Ne}/locations/${fe}/`+se}let le={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[sg.AUDIO]}:e.config.responseModalities=[sg.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const me=(g=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&g!==void 0?g:[],ve=[];for(const Ne of me)if(this.isCallableTool(Ne)){const fe=Ne;ve.push(await fe.tool())}else ve.push(Ne);ve.length>0&&(e.config.tools=ve);const Re={model:se,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?le=nT(this.apiClient,Re):le=tT(this.apiClient,Re),delete le.config,te.send(JSON.stringify(le)),new b2(te,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const x2={turnComplete:!0};class b2{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let s=[];try{s=Qs(n.turns),e.isVertexAI()||(s=s.map(a=>bg(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:s,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let s=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?s=n.functionResponses:s=[n.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const o of s){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(g2)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},x2),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aT(e)}:n={realtimeInput:iT(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function w2(t){const e={};return t.forEach((n,s)=>{e[s]=n}),e}function _2(t){const e=new Headers;for(const[n,s]of Object.entries(t))e.append(n,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zx=10;function Vx(t){var e,n,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Uu(u)){a=!0;break}if(!a)return!0;const o=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Uu(t){return"callTool"in t&&typeof t.callTool=="function"}function S2(t){var e,n,s;return(s=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>Uu(a)))!==null&&s!==void 0?s:!1}function Fx(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((s,a)=>{if(Uu(s))return;const o=s;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(a)}),n}function Hx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E2 extends Ma{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var s,a,o,u,g;const v=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!S2(n)||Vx(n.config))return await this.generateContentInternal(v);const p=Fx(n);if(p.length>0){const Q=p.map(re=>`tools[${re}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${Q}.`)}let N,R;const U=Qs(v.contents),F=(o=(a=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&o!==void 0?o:zx;let L=0;for(;L<F&&(N=await this.generateContentInternal(v),!(!N.functionCalls||N.functionCalls.length===0));){const Q=N.candidates[0].content,re=[];for(const ce of(g=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&g!==void 0?g:[])if(Uu(ce)){const te=await ce.callTool(N.functionCalls);re.push(...te)}L++,R={role:"user",parts:re},v.contents=Qs(v.contents),v.contents.push(Q),v.contents.push(R),Hx(v.config)&&(U.push(Q),U.push(R))}return Hx(v.config)&&(N.automaticFunctionCallingHistory=U),N},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),Vx(n.config)){const a=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(a)}const s=Fx(n);if(s.length>0){const a=s.map(o=>`tools[${o}]`).join(", ");throw new Error(`Incompatible tools found at ${a}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(s=>{var a;let o;const u=[];if(s!=null&&s.generatedImages)for(const v of s.generatedImages)v&&(v!=null&&v.safetyAttributes)&&((a=v==null?void 0:v.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?o=v==null?void 0:v.safetyAttributes:u.push(v);let g;return o?g={generatedImages:u,positivePromptSafetyAttributes:o,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:u,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async n=>{var s;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((s=u.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Wl(Da.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(u),u)},this.editImage=async n=>{const s={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(s.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async n=>{let s={numberOfImages:1,mode:"upscale"};n.config&&(s=Object.assign(Object.assign({},s),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var s,a,o,u,g,v;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=n.video)===null||s===void 0)&&s.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(o=n.source)===null||o===void 0?void 0:o.video)===null||u===void 0)&&u.uri&&(!((v=(g=n.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,s,a;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const u=await Promise.all(o.map(async v=>Uu(v)?await v.tool():v)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(g.config.tools=u,e.config&&e.config.tools&&hw(e.config.tools)){const v=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},v);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),pw(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var n,s,a;const o=new Map;for(const u of(s=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&s!==void 0?s:[])if(Uu(u)){const g=u,v=await g.tool();for(const p of(a=v.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(o.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);o.set(p.name,g)}}return o}async processAfcStream(e){var n,s,a;const o=(a=(s=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:zx;let u=!1,g=0;const v=await this.initAfcToolsMap(e);return(function(p,N,R){var U,F;return Ou(this,arguments,function*(){for(var L,Q,re,ce;g<o;){u&&(g++,u=!1);const le=yield Bn(p.processParamsMaybeAddMcpUsage(R)),me=yield Bn(p.generateContentStreamInternal(le)),ve=[],Re=[];try{for(var ue=!0,te=(Q=void 0,lh(me)),se;se=yield Bn(te.next()),L=se.done,!L;ue=!0){ce=se.value,ue=!1;const Ne=ce;if(yield yield Bn(Ne),Ne.candidates&&(!((U=Ne.candidates[0])===null||U===void 0)&&U.content)){Re.push(Ne.candidates[0].content);for(const fe of(F=Ne.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(g<o&&fe.functionCall){if(!fe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(N.has(fe.functionCall.name)){const Me=yield Bn(N.get(fe.functionCall.name).callTool([fe.functionCall]));ve.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${N.keys()}, mising tool: ${fe.functionCall.name}`)}}}}catch(Ne){Q={error:Ne}}finally{try{!ue&&!L&&(re=te.return)&&(yield Bn(re.call(te)))}finally{if(Q)throw Q.error}}if(ve.length>0){u=!0;const Ne=new ah;Ne.candidates=[{content:{role:"user",parts:ve}}],yield yield Bn(Ne);const fe=[];fe.push(...Re),fe.push({role:"user",parts:ve});const Me=Qs(R.contents).concat(fe);R.contents=Me}else break}})})(this,v,e)}async generateContentInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=jx(this.apiClient,e);return g=ot("{model}:generateContent",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=Bx(N),U=new ah;return Object.assign(U,R),U})}else{const p=Ux(this.apiClient,e);return g=ot("{model}:generateContent",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=Lx(N),U=new ah;return Object.assign(U,R),U})}}async generateContentStreamInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=jx(this.apiClient,e);return g=ot("{model}:streamGenerateContent?alt=sse",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),u.then(function(R){return Ou(this,arguments,function*(){var U,F,L,Q;try{for(var re=!0,ce=lh(R),ue;ue=yield Bn(ce.next()),U=ue.done,!U;re=!0){Q=ue.value,re=!1;const te=Q,se=Bx(yield Bn(te.json()));se.sdkHttpResponse={headers:te.headers};const le=new ah;Object.assign(le,se),yield yield Bn(le)}}catch(te){F={error:te}}finally{try{!re&&!U&&(L=ce.return)&&(yield Bn(L.call(ce)))}finally{if(F)throw F.error}}})})}else{const p=Ux(this.apiClient,e);return g=ot("{model}:streamGenerateContent?alt=sse",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(R){return Ou(this,arguments,function*(){var U,F,L,Q;try{for(var re=!0,ce=lh(R),ue;ue=yield Bn(ce.next()),U=ue.done,!U;re=!0){Q=ue.value,re=!1;const te=Q,se=Lx(yield Bn(te.json()));se.sdkHttpResponse={headers:te.headers};const le=new ah;Object.assign(le,se),yield yield Bn(le)}}catch(te){F={error:te}}finally{try{!re&&!U&&(L=ce.return)&&(yield Bn(L.call(ce)))}finally{if(F)throw F.error}}})})}}async embedContent(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=jT(this.apiClient,e);return g=ot("{model}:predict",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=BT(N),U=new bx;return Object.assign(U,R),U})}else{const p=UT(this.apiClient,e);return g=ot("{model}:batchEmbedContents",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=LT(N),U=new bx;return Object.assign(U,R),U})}}async generateImagesInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=JT(this.apiClient,e);return g=ot("{model}:predict",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=WT(N),U=new wx;return Object.assign(U,R),U})}else{const p=YT(this.apiClient,e);return g=ot("{model}:predict",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=KT(N),U=new wx;return Object.assign(U,R),U})}}async editImageInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=DT(this.apiClient,e);return o=ot("{model}:predict",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>{const p=PT(v),N=new KS;return Object.assign(N,p),N})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=HA(this.apiClient,e);return o=ot("{model}:predict",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>{const p=GA(v),N=new WS;return Object.assign(N,p),N})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=AA(this.apiClient,e);return o=ot("{model}:predict",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=NA(v),N=new QS;return Object.assign(N,p),N})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=MA(this.apiClient,e);return o=ot("{model}:predict",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=OA(v),N=new XS;return Object.assign(N,p),N})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=hA(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>J0(N))}else{const p=fA(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>Y0(N))}}async listInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=bA(this.apiClient,e);return g=ot("{models_url}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=_A(N),U=new _x;return Object.assign(U,R),U})}else{const p=xA(this.apiClient,e);return g=ot("{models_url}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=wA(N),U=new _x;return Object.assign(U,R),U})}}async update(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=VA(this.apiClient,e);return g=ot("{model}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>J0(N))}else{const p=zA(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>Y0(N))}}async delete(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=NT(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=IT(N),U=new Sx;return Object.assign(U,R),U})}else{const p=AT(this.apiClient,e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=kT(N),U=new Sx;return Object.assign(U,R),U})}}async countTokens(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=ET(this.apiClient,e);return g=ot("{model}:countTokens",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=TT(N),U=new Ex;return Object.assign(U,R),U})}else{const p=ST(this.apiClient,e);return g=ot("{model}:countTokens",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=CT(N),U=new Ex;return Object.assign(U,R),U})}}async computeTokens(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=gT(this.apiClient,e);return o=ot("{model}:computeTokens",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>{const p=yT(v),N=new ZS;return Object.assign(N,p),N})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=nA(this.apiClient,e);return g=ot("{model}:predictLongRunning",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u.then(N=>{const R=eA(N),U=new ig;return Object.assign(U,R),U})}else{const p=tA(this.apiClient,e);return g=ot("{model}:predictLongRunning",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u.then(N=>{const R=ZT(N),U=new ig;return Object.assign(U,R),U})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C2 extends Ma{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let o;s&&"httpOptions"in s&&(o=s.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const n=e.operation,s=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let o;s&&"httpOptions"in s&&(o=s.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:s});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=VS(e);return g=ot("{operationName}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json()),u}else{const p=zS(e);return g=ot("{operationName}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json()),u}}async fetchPredictVideosOperationInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=OS(e);return o=ot("{resourceName}:fetchPredictOperation",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T2(t){const e={},n=b(t,["data"]);if(n!=null&&C(e,["data"],n),b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function A2(t){const e={},n=b(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>O2(o))),C(e,["parts"],a)}const s=b(t,["role"]);return s!=null&&C(e,["role"],s),e}function N2(t,e,n){const s={},a=b(e,["expireTime"]);n!==void 0&&a!=null&&C(n,["expireTime"],a);const o=b(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&C(n,["newSessionExpireTime"],o);const u=b(e,["uses"]);n!==void 0&&u!=null&&C(n,["uses"],u);const g=b(e,["liveConnectConstraints"]);n!==void 0&&g!=null&&C(n,["bidiGenerateContentSetup"],M2(t,g));const v=b(e,["lockAdditionalFields"]);return n!==void 0&&v!=null&&C(n,["fieldMask"],v),s}function k2(t,e){const n={},s=b(e,["config"]);return s!=null&&C(n,["config"],N2(t,s,n)),n}function I2(t){const e={};if(b(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=b(t,["fileUri"]);n!=null&&C(e,["fileUri"],n);const s=b(t,["mimeType"]);return s!=null&&C(e,["mimeType"],s),e}function R2(t){const e={};if(b(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=b(t,["enableWidget"]);return n!=null&&C(e,["enableWidget"],n),e}function D2(t){const e={};if(b(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(b(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=b(t,["timeRangeFilter"]);return n!=null&&C(e,["timeRangeFilter"],n),e}function P2(t,e){const n={},s=b(t,["generationConfig"]);e!==void 0&&s!=null&&C(e,["setup","generationConfig"],s);const a=b(t,["responseModalities"]);e!==void 0&&a!=null&&C(e,["setup","generationConfig","responseModalities"],a);const o=b(t,["temperature"]);e!==void 0&&o!=null&&C(e,["setup","generationConfig","temperature"],o);const u=b(t,["topP"]);e!==void 0&&u!=null&&C(e,["setup","generationConfig","topP"],u);const g=b(t,["topK"]);e!==void 0&&g!=null&&C(e,["setup","generationConfig","topK"],g);const v=b(t,["maxOutputTokens"]);e!==void 0&&v!=null&&C(e,["setup","generationConfig","maxOutputTokens"],v);const p=b(t,["mediaResolution"]);e!==void 0&&p!=null&&C(e,["setup","generationConfig","mediaResolution"],p);const N=b(t,["seed"]);e!==void 0&&N!=null&&C(e,["setup","generationConfig","seed"],N);const R=b(t,["speechConfig"]);e!==void 0&&R!=null&&C(e,["setup","generationConfig","speechConfig"],Ay(R));const U=b(t,["thinkingConfig"]);e!==void 0&&U!=null&&C(e,["setup","generationConfig","thinkingConfig"],U);const F=b(t,["enableAffectiveDialog"]);e!==void 0&&F!=null&&C(e,["setup","generationConfig","enableAffectiveDialog"],F);const L=b(t,["systemInstruction"]);e!==void 0&&L!=null&&C(e,["setup","systemInstruction"],A2($r(L)));const Q=b(t,["tools"]);if(e!==void 0&&Q!=null){let me=Vu(Q);Array.isArray(me)&&(me=me.map(ve=>j2(zu(ve)))),C(e,["setup","tools"],me)}const re=b(t,["sessionResumption"]);e!==void 0&&re!=null&&C(e,["setup","sessionResumption"],U2(re));const ce=b(t,["inputAudioTranscription"]);e!==void 0&&ce!=null&&C(e,["setup","inputAudioTranscription"],ce);const ue=b(t,["outputAudioTranscription"]);e!==void 0&&ue!=null&&C(e,["setup","outputAudioTranscription"],ue);const te=b(t,["realtimeInputConfig"]);e!==void 0&&te!=null&&C(e,["setup","realtimeInputConfig"],te);const se=b(t,["contextWindowCompression"]);e!==void 0&&se!=null&&C(e,["setup","contextWindowCompression"],se);const le=b(t,["proactivity"]);return e!==void 0&&le!=null&&C(e,["setup","proactivity"],le),n}function M2(t,e){const n={},s=b(e,["model"]);s!=null&&C(n,["setup","model"],fn(t,s));const a=b(e,["config"]);return a!=null&&C(n,["config"],P2(a,n)),n}function O2(t){const e={},n=b(t,["functionCall"]);n!=null&&C(e,["functionCall"],n);const s=b(t,["codeExecutionResult"]);s!=null&&C(e,["codeExecutionResult"],s);const a=b(t,["executableCode"]);a!=null&&C(e,["executableCode"],a);const o=b(t,["fileData"]);o!=null&&C(e,["fileData"],I2(o));const u=b(t,["functionResponse"]);u!=null&&C(e,["functionResponse"],u);const g=b(t,["inlineData"]);g!=null&&C(e,["inlineData"],T2(g));const v=b(t,["text"]);v!=null&&C(e,["text"],v);const p=b(t,["thought"]);p!=null&&C(e,["thought"],p);const N=b(t,["thoughtSignature"]);N!=null&&C(e,["thoughtSignature"],N);const R=b(t,["videoMetadata"]);return R!=null&&C(e,["videoMetadata"],R),e}function U2(t){const e={},n=b(t,["handle"]);if(n!=null&&C(e,["handle"],n),b(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function j2(t){const e={},n=b(t,["functionDeclarations"]);if(n!=null){let N=n;Array.isArray(N)&&(N=N.map(R=>R)),C(e,["functionDeclarations"],N)}if(b(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=b(t,["googleSearchRetrieval"]);s!=null&&C(e,["googleSearchRetrieval"],s);const a=b(t,["computerUse"]);a!=null&&C(e,["computerUse"],a);const o=b(t,["fileSearch"]);o!=null&&C(e,["fileSearch"],o);const u=b(t,["codeExecution"]);if(u!=null&&C(e,["codeExecution"],u),b(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=b(t,["googleMaps"]);g!=null&&C(e,["googleMaps"],R2(g));const v=b(t,["googleSearch"]);v!=null&&C(e,["googleSearch"],D2(v));const p=b(t,["urlContext"]);return p!=null&&C(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L2(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const s=t[n];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(o=>`${n}.${o}`);e.push(...a)}else e.push(n)}return e.join(",")}function B2(t,e){let n=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const o=s.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const o=L2(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];a.length>0&&(g=a.map(p=>u.includes(p)?`generationConfig.${p}`:p));const v=[];o&&v.push(o),g.length>0&&v.push(...g),v.length>0?t.fieldMask=v.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class q2 extends Ma{constructor(e){super(),this.apiClient=e}async create(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=k2(this.apiClient,e);o=ot("auth_tokens",g._url),u=g._query,delete g.config,delete g._url,delete g._query;const v=B2(g,e.config);return a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $2(t,e){const n={},s=b(t,["displayName"]);return e!==void 0&&s!=null&&C(e,["displayName"],s),n}function z2(t){const e={},n=b(t,["config"]);return n!=null&&$2(n,e),e}function V2(t,e){const n={},s=b(t,["force"]);return e!==void 0&&s!=null&&C(e,["_query","force"],s),n}function F2(t){const e={},n=b(t,["name"]);n!=null&&C(e,["_url","name"],n);const s=b(t,["config"]);return s!=null&&V2(s,e),e}function H2(t){const e={},n=b(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function G2(t,e){const n={},s=b(t,["customMetadata"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["customMetadata"],o)}const a=b(t,["chunkingConfig"]);return e!==void 0&&a!=null&&C(e,["chunkingConfig"],a),n}function Y2(t){const e={},n=b(t,["name"]);n!=null&&C(e,["name"],n);const s=b(t,["metadata"]);s!=null&&C(e,["metadata"],s);const a=b(t,["done"]);a!=null&&C(e,["done"],a);const o=b(t,["error"]);o!=null&&C(e,["error"],o);const u=b(t,["response"]);return u!=null&&C(e,["response"],K2(u)),e}function J2(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const s=b(t,["fileName"]);s!=null&&C(e,["fileName"],s);const a=b(t,["config"]);return a!=null&&G2(a,e),e}function K2(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["parent"]);s!=null&&C(e,["parent"],s);const a=b(t,["documentName"]);return a!=null&&C(e,["documentName"],a),e}function W2(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);return e!==void 0&&a!=null&&C(e,["_query","pageToken"],a),n}function Q2(t){const e={},n=b(t,["config"]);return n!=null&&W2(n,e),e}function X2(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["fileSearchStores"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["fileSearchStores"],o)}return e}function Z2(t,e){const n={},s=b(t,["mimeType"]);e!==void 0&&s!=null&&C(e,["mimeType"],s);const a=b(t,["displayName"]);e!==void 0&&a!=null&&C(e,["displayName"],a);const o=b(t,["customMetadata"]);if(e!==void 0&&o!=null){let g=o;Array.isArray(g)&&(g=g.map(v=>v)),C(e,["customMetadata"],g)}const u=b(t,["chunkingConfig"]);return e!==void 0&&u!=null&&C(e,["chunkingConfig"],u),n}function eN(t){const e={},n=b(t,["fileSearchStoreName"]);n!=null&&C(e,["_url","file_search_store_name"],n);const s=b(t,["config"]);return s!=null&&Z2(s,e),e}function tN(t){const e={},n=b(t,["sdkHttpResponse"]);return n!=null&&C(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nN(t,e){const n={},s=b(t,["force"]);return e!==void 0&&s!=null&&C(e,["_query","force"],s),n}function rN(t){const e={},n=b(t,["name"]);n!=null&&C(e,["_url","name"],n);const s=b(t,["config"]);return s!=null&&nN(s,e),e}function sN(t){const e={},n=b(t,["name"]);return n!=null&&C(e,["_url","name"],n),e}function iN(t,e){const n={},s=b(t,["pageSize"]);e!==void 0&&s!=null&&C(e,["_query","pageSize"],s);const a=b(t,["pageToken"]);return e!==void 0&&a!=null&&C(e,["_query","pageToken"],a),n}function aN(t){const e={},n=b(t,["parent"]);n!=null&&C(e,["_url","parent"],n);const s=b(t,["config"]);return s!=null&&iN(s,e),e}function oN(t){const e={},n=b(t,["sdkHttpResponse"]);n!=null&&C(e,["sdkHttpResponse"],n);const s=b(t,["nextPageToken"]);s!=null&&C(e,["nextPageToken"],s);const a=b(t,["documents"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>u)),C(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lN extends Ma{constructor(e){super(),this.apiClient=e,this.list=async n=>new Wl(Da.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:n.parent,config:s.config}),await this.listInternal(n),n)}async get(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sN(e);return o=ot("{name}",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var n,s;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=rN(e);a=ot("{name}",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=aN(e);return o=ot("{parent}/documents",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=oN(v),N=new eE;return Object.assign(N,p),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cN extends Ma{constructor(e,n=new lN(e)){super(),this.apiClient=e,this.documents=n,this.list=async(s={})=>new Wl(Da.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=z2(e);return o=ot("fileSearchStores",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async get(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=H2(e);return o=ot("{name}",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>v)}}async delete(e){var n,s;let a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=F2(e);a=ot("{name}",u._url),o=u._query,delete u._url,delete u._query,await this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Q2(e);return o=ot("fileSearchStores",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=X2(v),N=new tE;return Object.assign(N,p),N})}}async uploadToFileSearchStoreInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eN(e);return o=ot("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=tN(v),N=new nE;return Object.assign(N,p),N})}}async importFile(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=J2(e);return o=ot("{file_search_store_name}:importFile",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),a.then(v=>{const p=Y2(v),N=new _y;return Object.assign(N,p),N})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uN(t,e){const n={},s=b(t,["name"]);return s!=null&&C(n,["_url","name"],s),n}function dN(t,e){const n={},s=b(t,["name"]);return s!=null&&C(n,["_url","name"],s),n}function fN(t,e,n){const s={};if(b(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=b(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&C(e,["displayName"],a),b(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=b(t,["epochCount"]);e!==void 0&&o!=null&&C(e,["tuningTask","hyperparameters","epochCount"],o);const u=b(t,["learningRateMultiplier"]);if(u!=null&&C(s,["tuningTask","hyperparameters","learningRateMultiplier"],u),b(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(b(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(b(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=b(t,["batchSize"]);e!==void 0&&g!=null&&C(e,["tuningTask","hyperparameters","batchSize"],g);const v=b(t,["learningRate"]);if(e!==void 0&&v!=null&&C(e,["tuningTask","hyperparameters","learningRate"],v),b(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(b(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function hN(t,e,n){const s={};let a=b(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const F=b(t,["validationDataset"]);e!==void 0&&F!=null&&C(e,["supervisedTuningSpec"],Gx(F))}else if(a==="PREFERENCE_TUNING"){const F=b(t,["validationDataset"]);e!==void 0&&F!=null&&C(e,["preferenceOptimizationSpec"],Gx(F))}const o=b(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&C(e,["tunedModelDisplayName"],o);const u=b(t,["description"]);e!==void 0&&u!=null&&C(e,["description"],u);let g=b(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const F=b(t,["epochCount"]);e!==void 0&&F!=null&&C(e,["supervisedTuningSpec","hyperParameters","epochCount"],F)}else if(g==="PREFERENCE_TUNING"){const F=b(t,["epochCount"]);e!==void 0&&F!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],F)}let v=b(n,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const F=b(t,["learningRateMultiplier"]);e!==void 0&&F!=null&&C(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],F)}else if(v==="PREFERENCE_TUNING"){const F=b(t,["learningRateMultiplier"]);e!==void 0&&F!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],F)}let p=b(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const F=b(t,["exportLastCheckpointOnly"]);e!==void 0&&F!=null&&C(e,["supervisedTuningSpec","exportLastCheckpointOnly"],F)}else if(p==="PREFERENCE_TUNING"){const F=b(t,["exportLastCheckpointOnly"]);e!==void 0&&F!=null&&C(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],F)}let N=b(n,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const F=b(t,["adapterSize"]);e!==void 0&&F!=null&&C(e,["supervisedTuningSpec","hyperParameters","adapterSize"],F)}else if(N==="PREFERENCE_TUNING"){const F=b(t,["adapterSize"]);e!==void 0&&F!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],F)}if(b(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(b(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const R=b(t,["labels"]);e!==void 0&&R!=null&&C(e,["labels"],R);const U=b(t,["beta"]);return e!==void 0&&U!=null&&C(e,["preferenceOptimizationSpec","hyperParameters","beta"],U),s}function pN(t,e){const n={},s=b(t,["baseModel"]);s!=null&&C(n,["baseModel"],s);const a=b(t,["preTunedModel"]);a!=null&&C(n,["preTunedModel"],a);const o=b(t,["trainingDataset"]);o!=null&&CN(o);const u=b(t,["config"]);return u!=null&&fN(u,n),n}function mN(t,e){const n={},s=b(t,["baseModel"]);s!=null&&C(n,["baseModel"],s);const a=b(t,["preTunedModel"]);a!=null&&C(n,["preTunedModel"],a);const o=b(t,["trainingDataset"]);o!=null&&TN(o,n,e);const u=b(t,["config"]);return u!=null&&hN(u,n,e),n}function gN(t,e){const n={},s=b(t,["name"]);return s!=null&&C(n,["_url","name"],s),n}function yN(t,e){const n={},s=b(t,["name"]);return s!=null&&C(n,["_url","name"],s),n}function vN(t,e,n){const s={},a=b(t,["pageSize"]);e!==void 0&&a!=null&&C(e,["_query","pageSize"],a);const o=b(t,["pageToken"]);e!==void 0&&o!=null&&C(e,["_query","pageToken"],o);const u=b(t,["filter"]);return e!==void 0&&u!=null&&C(e,["_query","filter"],u),s}function xN(t,e,n){const s={},a=b(t,["pageSize"]);e!==void 0&&a!=null&&C(e,["_query","pageSize"],a);const o=b(t,["pageToken"]);e!==void 0&&o!=null&&C(e,["_query","pageToken"],o);const u=b(t,["filter"]);return e!==void 0&&u!=null&&C(e,["_query","filter"],u),s}function bN(t,e){const n={},s=b(t,["config"]);return s!=null&&vN(s,n),n}function wN(t,e){const n={},s=b(t,["config"]);return s!=null&&xN(s,n),n}function _N(t,e){const n={},s=b(t,["sdkHttpResponse"]);s!=null&&C(n,["sdkHttpResponse"],s);const a=b(t,["nextPageToken"]);a!=null&&C(n,["nextPageToken"],a);const o=b(t,["tunedModels"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(g=>mw(g))),C(n,["tuningJobs"],u)}return n}function SN(t,e){const n={},s=b(t,["sdkHttpResponse"]);s!=null&&C(n,["sdkHttpResponse"],s);const a=b(t,["nextPageToken"]);a!=null&&C(n,["nextPageToken"],a);const o=b(t,["tuningJobs"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(g=>W0(g))),C(n,["tuningJobs"],u)}return n}function EN(t,e){const n={},s=b(t,["name"]);s!=null&&C(n,["model"],s);const a=b(t,["name"]);return a!=null&&C(n,["endpoint"],a),n}function CN(t,e){const n={};if(b(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(b(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=b(t,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(o=>o)),C(n,["examples","examples"],a)}return n}function TN(t,e,n){const s={};let a=b(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const u=b(t,["gcsUri"]);e!==void 0&&u!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(a==="PREFERENCE_TUNING"){const u=b(t,["gcsUri"]);e!==void 0&&u!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let o=b(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=b(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&C(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=b(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&C(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(b(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function mw(t,e){const n={},s=b(t,["sdkHttpResponse"]);s!=null&&C(n,["sdkHttpResponse"],s);const a=b(t,["name"]);a!=null&&C(n,["name"],a);const o=b(t,["state"]);o!=null&&C(n,["state"],Wb(o));const u=b(t,["createTime"]);u!=null&&C(n,["createTime"],u);const g=b(t,["tuningTask","startTime"]);g!=null&&C(n,["startTime"],g);const v=b(t,["tuningTask","completeTime"]);v!=null&&C(n,["endTime"],v);const p=b(t,["updateTime"]);p!=null&&C(n,["updateTime"],p);const N=b(t,["description"]);N!=null&&C(n,["description"],N);const R=b(t,["baseModel"]);R!=null&&C(n,["baseModel"],R);const U=b(t,["_self"]);return U!=null&&C(n,["tunedModel"],EN(U)),n}function W0(t,e){const n={},s=b(t,["sdkHttpResponse"]);s!=null&&C(n,["sdkHttpResponse"],s);const a=b(t,["name"]);a!=null&&C(n,["name"],a);const o=b(t,["state"]);o!=null&&C(n,["state"],Wb(o));const u=b(t,["createTime"]);u!=null&&C(n,["createTime"],u);const g=b(t,["startTime"]);g!=null&&C(n,["startTime"],g);const v=b(t,["endTime"]);v!=null&&C(n,["endTime"],v);const p=b(t,["updateTime"]);p!=null&&C(n,["updateTime"],p);const N=b(t,["error"]);N!=null&&C(n,["error"],N);const R=b(t,["description"]);R!=null&&C(n,["description"],R);const U=b(t,["baseModel"]);U!=null&&C(n,["baseModel"],U);const F=b(t,["tunedModel"]);F!=null&&C(n,["tunedModel"],F);const L=b(t,["preTunedModel"]);L!=null&&C(n,["preTunedModel"],L);const Q=b(t,["supervisedTuningSpec"]);Q!=null&&C(n,["supervisedTuningSpec"],Q);const re=b(t,["preferenceOptimizationSpec"]);re!=null&&C(n,["preferenceOptimizationSpec"],re);const ce=b(t,["tuningDataStats"]);ce!=null&&C(n,["tuningDataStats"],ce);const ue=b(t,["encryptionSpec"]);ue!=null&&C(n,["encryptionSpec"],ue);const te=b(t,["partnerModelTuningSpec"]);te!=null&&C(n,["partnerModelTuningSpec"],te);const se=b(t,["customBaseModel"]);se!=null&&C(n,["customBaseModel"],se);const le=b(t,["experiment"]);le!=null&&C(n,["experiment"],le);const me=b(t,["labels"]);me!=null&&C(n,["labels"],me);const ve=b(t,["outputUri"]);ve!=null&&C(n,["outputUri"],ve);const Re=b(t,["pipelineJob"]);Re!=null&&C(n,["pipelineJob"],Re);const Ne=b(t,["serviceAccount"]);Ne!=null&&C(n,["serviceAccount"],Ne);const fe=b(t,["tunedModelDisplayName"]);fe!=null&&C(n,["tunedModelDisplayName"],fe);const Me=b(t,["veoTuningSpec"]);return Me!=null&&C(n,["veoTuningSpec"],Me),n}function AN(t,e){const n={},s=b(t,["sdkHttpResponse"]);s!=null&&C(n,["sdkHttpResponse"],s);const a=b(t,["name"]);a!=null&&C(n,["name"],a);const o=b(t,["metadata"]);o!=null&&C(n,["metadata"],o);const u=b(t,["done"]);u!=null&&C(n,["done"],u);const g=b(t,["error"]);return g!=null&&C(n,["error"],g),n}function Gx(t,e){const n={},s=b(t,["gcsUri"]);s!=null&&C(n,["validationDatasetUri"],s);const a=b(t,["vertexDatasetResource"]);return a!=null&&C(n,["validationDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NN extends Ma{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Wl(Da.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(n),n),this.tune=async n=>{var s;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((s=n.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:a});return o.baseModel=void 0,await this.tuneInternal(o)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),o=await this.tuneMldevInternal(a);let u="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?u=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(u=o.name.split("/operations/")[0]),{name:u,state:V0.JOB_STATE_QUEUED}}}}async getInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=yN(e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>W0(N))}else{const p=gN(e);return g=ot("{name}",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>mw(N))}}async listInternal(e){var n,s,a,o;let u,g="",v={};if(this.apiClient.isVertexAI()){const p=wN(e);return g=ot("tuningJobs",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=SN(N),U=new Cx;return Object.assign(U,R),U})}else{const p=bN(e);return g=ot("tunedModels",p._url),v=p._query,delete p._url,delete p._query,u=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(N=>N.json().then(R=>{const U=R;return U.sdkHttpResponse={headers:N.headers},U})),u.then(N=>{const R=_N(N),U=new Cx;return Object.assign(U,R),U})}}async cancel(e){var n,s,a,o;let u="",g={};if(this.apiClient.isVertexAI()){const v=dN(e);u=ot("{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:u,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=uN(e);u=ot("{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:u,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI()){const g=mN(e,e);return o=ot("tuningJobs",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>W0(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,s;let a,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=pN(e);return o=ot("tunedModels",g._url),u=g._query,delete g._url,delete g._query,a=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(p=>{const N=p;return N.sdkHttpResponse={headers:v.headers},N})),a.then(v=>AN(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IN=1024*1024*8,RN=3,DN=1e3,PN=2,og="x-goog-upload-status";async function MN(t,e,n){var s;const a=await gw(t,e,n),o=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[og])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function ON(t,e,n){var s;const a=await gw(t,e,n),o=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[og])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=Fb(o),g=new Sy;return Object.assign(g,u),g}async function gw(t,e,n){var s,a;let o=0,u=0,g=new F0(new Response),v="upload";for(o=t.size;u<o;){const p=Math.min(IN,o-u),N=t.slice(u,u+p);u+p>=o&&(v+=", finalize");let R=0,U=DN;for(;R<RN&&(g=await n.request({path:"",body:N,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[og]));)R++,await jN(U),U=U*PN;if(u+=p,((a=g==null?void 0:g.headers)===null||a===void 0?void 0:a[og])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function UN(t){return{size:t.size,type:t.type}}function jN(t){return new Promise(e=>setTimeout(e,t))}class LN{async upload(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MN(e,n,s)}async uploadToFileSearchStore(e,n,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ON(e,n,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await UN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BN{create(e,n,s){return new qN(e,n,s)}}class qN{constructor(e,n,s){this.url=e,this.headers=n,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yx="x-goog-api-key";class $N{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Yx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Yx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zN="gl-node/";class ls{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const s=PS(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const a=new $N(this.apiKey);this.apiClient=new i2({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:zN+"web",uploader:new LN,downloader:new kN}),this.models=new E2(this.apiClient),this.live=new v2(this.apiClient,a,new BN),this.batches=new sC(this.apiClient),this.chats=new UC(this.models,this.apiClient),this.caches=new PC(this.apiClient),this.files=new GC(this.apiClient),this.operations=new C2(this.apiClient),this.authTokens=new q2(this.apiClient),this.tunings=new NN(this.apiClient),this.fileSearchStores=new cN(this.apiClient)}}const yw="text-embedding-004",Oo=768,VN=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=()=>{const o=s.result.split(",")[1];e({inlineData:{data:o,mimeType:t.type}})},s.onerror=a=>n(a)}),Ci=async t=>{var e,n;if(!t||t.trim()==="")return new Array(Oo).fill(0);try{const a=await new ls({apiKey:"AIzaSyBHhPZpibYHsSLYsCGHiavENU_zu2ccR3c"}).models.embedContent({model:yw,contents:[{parts:[{text:t}]}]});if((n=(e=a.embeddings)==null?void 0:e[0])!=null&&n.values)return a.embeddings[0].values;throw new Error("No embedding values returned from embedding service.")}catch(s){return console.error("Error generating embedding:",s),new Array(Oo).fill(0)}},FN=async t=>{var e,n;try{const s=new ls({apiKey:"AIzaSyBHhPZpibYHsSLYsCGHiavENU_zu2ccR3c"}),a=await VN(t),o=await s.models.embedContent({model:yw,contents:[{parts:[a]}]});if((n=(e=o.embeddings)==null?void 0:e[0])!=null&&n.values)return o.embeddings[0].values;throw new Error("No embedding values returned from image embedding service.")}catch(s){return console.error("Error generating image embedding:",s),new Array(Oo).fill(0)}},HN=async(t,e,n=.7,s=.3)=>{const a=await Ci(t);if(!e)return a;const o=await FN(e);return a.map((u,g)=>u*n+o[g]*s)},E0=["users","shops","customers","suppliers","products","items","inventory","batches","sales","drivers","visual","marketplace","dan_inventory"],GN="58fc3ff2-2f13-11ef-b75e-0242ac110002",lg={size:Oo,distance:"Cosine"},YN=t=>{var n,s,a;let e=t.trim();for(;e.endsWith("/");)e=e.slice(0,-1);if((e.includes(":6333")||e.includes("localhost:6333")||e.includes("127.0.0.1:6333"))&&console.warn("[Qdrant Core] Detected port 6333 in URL - this is the default Qdrant port and may not work in production:",e),e&&!e.startsWith("http://")&&!e.startsWith("https://"))if(typeof window<"u"&&window.location){const o=window.location.origin,u=e.startsWith("/")?e:`/${e}`;e=`${o}${u}`,console.log("[Qdrant Core] Converted relative URL to absolute:",t,"->",e)}else if(console.warn("[Qdrant Core] Relative URL detected but window.location not available. Raw URL:",t),typeof window<"u")try{const o=((n=window.location)==null?void 0:n.origin)||((s=window.location)!=null&&s.protocol&&((a=window.location)!=null&&a.host)?`${window.location.protocol}//${window.location.host}`:"https://localhost"),u=e.startsWith("/")?e:`/${e}`;e=`${o}${u}`,console.log("[Qdrant Core] Fallback URL conversion:",t,"->",e)}catch(o){console.error("[Qdrant Core] Failed to convert relative URL, using localhost fallback:",o),e=`http://localhost:8787${e.startsWith("/")?e:`/${e}`}`}else e=`http://localhost:8787${e.startsWith("/")?e:`/${e}`}`;return e},JN=()=>"/qdrant";let zm=null,Jx=!1;const C0=()=>{if(zm)return zm;if(Jx)return null;Jx=!0;const t=JN(),e=YN(t);if(!e)return console.error("[Qdrant Core] No Qdrant URL provided"),null;if(!e.startsWith("http://")&&!e.startsWith("https://"))return console.error("[Qdrant Core] Invalid Qdrant URL - must start with http:// or https://:",e),null;try{const n=new URL(e);console.log("[Qdrant Core] Initializing Qdrant client with URL:",e),console.log("[Qdrant Core] URL breakdown - protocol:",n.protocol,"host:",n.host,"pathname:",n.pathname);let s=e;if(!s.endsWith("/qdrant")&&!s.endsWith("/qdrant/")){const a=new URL(e);a.pathname==="/"||a.pathname===""?a.pathname="/qdrant":a.pathname.endsWith("/qdrant")||(a.pathname=a.pathname.replace(/\/$/,"")+"/qdrant"),s=a.toString(),console.log("[Qdrant Core] Adjusted URL to ensure /qdrant path:",s)}return zm=new kS({url:s}),console.log("[Qdrant Core] QdrantClient created successfully with URL:",s),console.log("[Qdrant Core] Client will make requests to:",s+"/collections"),zm}catch(n){return console.error("[Qdrant Core] Failed to create Qdrant client - invalid URL:",e,n),null}},dt=new Proxy({},{get(t,e){const n=C0();if(!n)return;const s=n[e];return typeof s=="function"?s.bind(n):s},has(t,e){const n=C0();return n?e in n:!1},ownKeys(t){const e=C0();return e?Object.keys(e):[]}});let nt=null,Hu=null,bh=null;const Kx=t=>{const e=nt;nt=(t==null?void 0:t.id)||null,Hu=(t==null?void 0:t.name)||null,t!=null&&t.contactEmail,t!=null&&t.location,bh=(t==null?void 0:t.qdrantNamespace)||null,e!==nt&&console.log(`[Core] setActiveShopContext: ${e||"null"} -> ${nt||"null"}`)},KN={users:{userId:{type:"keyword"},displayName:{type:"keyword"},contactEmail:{type:"keyword"},email:{type:"keyword"},shopId:{type:"keyword"},isVerified:{type:"bool"},isDriverVerified:{type:"bool"}},shops:{shopId:{type:"keyword"},userId:{type:"keyword"},name:{type:"keyword"}},suppliers:{supplierId:{type:"keyword"},shopId:{type:"keyword"},linkedUserId:{type:"keyword"},name:{type:"keyword"}},products:{productId:{type:"keyword"},category:{type:"keyword"},manufacturer:{type:"keyword"},defaultSupplierId:{type:"keyword"}},items:{inventoryUuid:{type:"keyword"},shopId:{type:"keyword"},productId:{type:"keyword"},batchId:{type:"keyword"},supplierId:{type:"keyword"},status:{type:"keyword"},quantity:{type:"integer"},expiration:{type:"keyword"}},batches:{batchId:{type:"keyword"},shopId:{type:"keyword"},supplierId:{type:"keyword"},deliveryDate:{type:"keyword"},inventoryDate:{type:"keyword"}},sales:{saleId:{type:"keyword"},shopId:{type:"keyword"},timestamp:{type:"keyword"}},customers:{customerId:{type:"keyword"},userId:{type:"keyword"},name:{type:"keyword"}},drivers:{driverId:{type:"keyword"},userId:{type:"keyword"},status:{type:"keyword"}},visual:{shopId:{type:"keyword"},productId:{type:"keyword"},fieldName:{type:"keyword"}},marketplace:{listingId:{type:"keyword"},shopId:{type:"keyword"},productId:{type:"keyword"}},dan_inventory:{inventoryUuid:{type:"keyword"},shopId:{type:"keyword"},productId:{type:"keyword"},productName:{type:"keyword"},locationBucket:{type:"keyword"},shareScope:{type:"keyword"},expirationDate:{type:"keyword"}}},xi=new Map,ju=t=>t?typeof t=="string"?t:t.message||t.statusText||JSON.stringify(t):"Unknown error",Xr=(t,e)=>{new Date().toISOString();const n=`[Qdrant] ${e}`;t==="error"?console.error(n):t==="warn"?console.warn(n):console.info(n)},WN=t=>{if(!t)return{params:null,named:!1,vectorName:null};if(typeof t.size=="number")return{params:t,named:!1,vectorName:null};const e=Object.keys(t||{});if("default"in t&&t.default&&typeof t.default.size=="number"){const n=e.some(s=>s!=="default");return{params:t.default,named:n,vectorName:n?"default":null}}if(e.length>=1){const n=e.find(s=>t[s]&&typeof t[s].size=="number");if(n)return{params:t[n],named:n!=="default",vectorName:n}}return{params:null,named:!0,vectorName:null}},QN=async t=>{if(!dt)return!1;const e=KN[t];if(!e)return!0;try{const n=await dt.getCollection(t),s=(n==null?void 0:n.payload_schema)||{};for(const[a,o]of Object.entries(e)){const u=s==null?void 0:s[a],g=u==null?void 0:u.data_type;if(g!==o.type){if(u&&g!==o.type)try{await dt.deletePayloadIndex(t,a),Xr("info",`Deleted existing index '${t}.${a}' (wrong type)`)}catch(v){Xr("warn",`Failed to delete index '${t}.${a}': ${ju(v)}`)}try{await dt.createPayloadIndex(t,{field_name:a,field_schema:o}),Xr("info",`Created index '${t}.${a}' (${o.type})`)}catch(v){Xr("error",`Failed to create index '${t}.${a}': ${ju(v)}`)}}}return!0}catch(n){return Xr("error",`Failed to ensure indexes for '${t}': ${ju(n)}`),!1}},XN=async t=>{var e,n;if(!dt)return{exists:!1,valid:!1,vectorConfig:null};try{const s=await dt.getCollection(t),{params:a,named:o,vectorName:u}=WN((n=(e=s==null?void 0:s.config)==null?void 0:e.params)==null?void 0:n.vectors),g=(a==null?void 0:a.size)===lg.size&&(a==null?void 0:a.distance)===lg.distance;return{exists:!0,valid:g,vectorConfig:g?{named:o,vectorName:o?u||"default":null}:null}}catch(s){return s.status===404?{exists:!1,valid:!1,vectorConfig:null}:(Xr("error",`Error verifying collection '${t}': ${ju(s)}`),{exists:!1,valid:!1,vectorConfig:null})}},vw=async t=>{if(!dt)return!1;const e=xi.get(t);if(e!=null&&e.ready)return!0;if(e!=null&&e.promise)return e.promise;e||xi.set(t,{ready:!1,promise:null,vectorConfig:null});const n=(async()=>{try{const{exists:s,valid:a,vectorConfig:o}=await XN(t);return s?a?(xi.set(t,{ready:!1,promise:null,vectorConfig:o}),await QN(t)?(xi.set(t,{ready:!0,promise:null,vectorConfig:o}),Xr("info",`Collection '${t}' is ready`),!0):(xi.set(t,{ready:!1,promise:null,vectorConfig:o}),!1)):(Xr("error",`Collection '${t}' has invalid configuration. Expected: size=${lg.size}, distance=${lg.distance}`),xi.set(t,{ready:!1,promise:null,vectorConfig:null}),!1):(Xr("error",`Collection '${t}' does not exist. Please run setup script first.`),xi.set(t,{ready:!1,promise:null,vectorConfig:null}),!1)}catch(s){return Xr("error",`Failed to ensure collection '${t}': ${ju(s)}`),xi.set(t,{ready:!1,promise:null,vectorConfig:null}),!1}finally{const s=xi.get(t);s&&(s.promise=null)}})();return xi.set(t,{ready:!1,promise:n,vectorConfig:null}),n},xw=async()=>{if(!dt){Xr("warn","Qdrant client not available");return}Xr("info","Ensuring all base collections are ready...");const t=await Promise.allSettled(E0.map(s=>vw(s))),e=[],n=[];t.forEach((s,a)=>{const o=E0[a];if(s.status==="fulfilled"&&s.value)e.push(o);else{n.push(o);const u=s.status==="rejected"?ju(s.reason):"Not ready";Xr("warn",`Collection '${o}' failed: ${u}`)}}),Xr("info",`Collections ready: ${e.length}/${E0.length}. Ready: ${e.join(", ")}${n.length>0?` | Failed: ${n.join(", ")}`:""}`)},bw=t=>{var e;return((e=xi.get(t))==null?void 0:e.vectorConfig)||null},Nn=async t=>{const e=await vw(t);return e||Xr("warn",`Collection '${t}' is not ready  operation will be skipped`),e},ZN=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function ek(t){return typeof t=="string"&&ZN.test(t)}function Wx(t){if(!ek(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}const wr=[];for(let t=0;t<256;++t)wr.push((t+256).toString(16).slice(1));function ww(t,e=0){return(wr[t[e+0]]+wr[t[e+1]]+wr[t[e+2]]+wr[t[e+3]]+"-"+wr[t[e+4]]+wr[t[e+5]]+"-"+wr[t[e+6]]+wr[t[e+7]]+"-"+wr[t[e+8]]+wr[t[e+9]]+"-"+wr[t[e+10]]+wr[t[e+11]]+wr[t[e+12]]+wr[t[e+13]]+wr[t[e+14]]+wr[t[e+15]]).toLowerCase()}let T0;const tk=new Uint8Array(16);function nk(){if(!T0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T0=crypto.getRandomValues.bind(crypto)}return T0(tk)}function rk(t){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e}const sk="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ik="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ak(t,e,n,s,a,o){const u=typeof n=="string"?rk(n):n,g=typeof s=="string"?Wx(s):s;if(typeof s=="string"&&(s=Wx(s)),(s==null?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+u.length);if(v.set(g),v.set(u,g.length),v=e(v),v[6]=v[6]&15|t,v[8]=v[8]&63|128,a){o=o||0;for(let p=0;p<16;++p)a[o+p]=v[p];return a}return ww(v)}const ok=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Qx={randomUUID:ok};function lk(t,e,n){var a;t=t||{};const s=t.random??((a=t.rng)==null?void 0:a.call(t))??nk();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,ww(s)}function Kn(t,e,n){return Qx.randomUUID&&!t?Qx.randomUUID():lk(t)}function ck(t,e,n,s){switch(t){case 0:return e&n^~e&s;case 1:return e^n^s;case 2:return e&n^e&s^n&s;case 3:return e^n^s}}function A0(t,e){return t<<e|t>>>32-e}function uk(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520],s=new Uint8Array(t.length+1);s.set(t),s[t.length]=128,t=s;const a=t.length/4+2,o=Math.ceil(a/16),u=new Array(o);for(let g=0;g<o;++g){const v=new Uint32Array(16);for(let p=0;p<16;++p)v[p]=t[g*64+p*4]<<24|t[g*64+p*4+1]<<16|t[g*64+p*4+2]<<8|t[g*64+p*4+3];u[g]=v}u[o-1][14]=(t.length-1)*8/Math.pow(2,32),u[o-1][14]=Math.floor(u[o-1][14]),u[o-1][15]=(t.length-1)*8&4294967295;for(let g=0;g<o;++g){const v=new Uint32Array(80);for(let L=0;L<16;++L)v[L]=u[g][L];for(let L=16;L<80;++L)v[L]=A0(v[L-3]^v[L-8]^v[L-14]^v[L-16],1);let p=n[0],N=n[1],R=n[2],U=n[3],F=n[4];for(let L=0;L<80;++L){const Q=Math.floor(L/20),re=A0(p,5)+ck(Q,N,R,U)+F+e[Q]+v[L]>>>0;F=U,U=R,R=A0(N,30)>>>0,N=p,p=re}n[0]=n[0]+p>>>0,n[1]=n[1]+N>>>0,n[2]=n[2]+R>>>0,n[3]=n[3]+U>>>0,n[4]=n[4]+F>>>0}return Uint8Array.of(n[0]>>24,n[0]>>16,n[0]>>8,n[0],n[1]>>24,n[1]>>16,n[1]>>8,n[1],n[2]>>24,n[2]>>16,n[2]>>8,n[2],n[3]>>24,n[3]>>16,n[3]>>8,n[3],n[4]>>24,n[4]>>16,n[4]>>8,n[4])}function ky(t,e,n,s){return ak(80,uk,t,e,n,s)}ky.DNS=sk;ky.URL=ik;const Zr=(t,e)=>ky(`${t}:${e}`,GN),Ji=t=>{const e=String(t||"default"),n=new Array(Oo).fill(0);for(let s=0;s<Oo;s++)n[s]=(e.charCodeAt(s%e.length)||0)%100/1e3;return n},es=(t,e,n)=>{const s=()=>Ji(e);if(!Array.isArray(t))return s();if(t.length!==Oo)return console.warn(`[Qdrant] ${n}: Vector length ${t.length} != ${Oo}. Using placeholder.`),s();for(let a=0;a<t.length;a++){const o=t[a];if(typeof o!="number"||!Number.isFinite(o))return console.warn(`[Qdrant] ${n}: Invalid vector value at index ${a}: ${o}. Using placeholder.`),s()}return t},As=(t,e)=>{const n=bw(t);return n!=null&&n.named?{vectors:{[n.vectorName||"default"]:e}}:{vector:e}},dk=(t,e)=>{const n=bw(t);return n!=null&&n.named?{name:n.vectorName||"default",vector:e}:e},_w=(t,e)=>!e||t==="items"?null:{key:"shopId",match:{value:e}},tr=async(t,e)=>{if(!dt)return[];if(!await Nn(t))return[];const n=[];let s,a=3,o=null;if(e&&(typeof e=="string"?o=e:typeof e=="object"&&e!==null&&"id"in e?(o=e.id||null,console.warn(`[Qdrant] fetchAllPoints received shopFilter as object instead of string. Extracted id: ${o}`)):console.warn(`[Qdrant] fetchAllPoints received invalid shopFilter type: ${typeof e}`)),o&&t==="items"){const v=[];let p;do try{const R=await dt.scroll(t,{with_payload:!0,limit:100,offset:p??void 0});v.push(...(R==null?void 0:R.points)??[]),p=(R==null?void 0:R.next_page_offset)??void 0}catch(R){console.error("[Qdrant] Error fetching items for JavaScript filter:",R);break}while(p);return v.filter(R=>{var F;const U=(F=R.payload)==null?void 0:F.shopId;return typeof U=="string"?U===o:U&&typeof U=="object"&&"id"in U?U.id===o:!1})}const u=_w(t,o),g=u?{must:[u]}:void 0;do{try{const v=await dt.scroll(t,{with_payload:!0,limit:100,offset:s??void 0,filter:g}),p=(v==null?void 0:v.points)??[];n.push(...p),s=(v==null?void 0:v.next_page_offset)??void 0}catch(v){if(console.error(`[Qdrant] Scroll error in '${t}' (Retry ${a}, Filter: ${JSON.stringify(g)}):`,v),(v==null?void 0:v.status)===400&&a>0){console.info(`[Qdrant] Retrying scroll in '${t}'...`),a--,await new Promise(p=>setTimeout(p,1e3));continue}s=void 0}if(!s||n.length>1e5)break}while(s);return n},fk=async(t,e,n,s=10)=>{if(!dt)return[];if(!await Nn(t))return[];const a=[];if(n.shopId){const o=typeof n.shopId=="string"?n.shopId:n.shopId&&typeof n.shopId=="object"&&n.shopId!==null&&"id"in n.shopId?n.shopId.id:null;if(o){const u=_w(t,o);u&&a.push(u)}}n.status&&a.push({key:"status",match:{value:n.status}}),n.quantityMin!==void 0&&a.push({key:"quantity",range:{gt:n.quantityMin}}),Object.entries(n).forEach(([o,u])=>{!["shopId","status","quantityMin"].includes(o)&&u!==void 0&&a.push({key:o,match:{value:u}})});try{const o=await dt.search(t,{vector:e,limit:s,with_payload:!0,filter:a.length>0?{must:a}:void 0});return Array.isArray(o)?o:(o==null?void 0:o.points)??[]}catch(o){return console.error(`[Qdrant] Search failed in '${t}':`,o),[]}},Sw=t=>{const e=t.payload;return{id:(e==null?void 0:e.productId)||String(t.id),name:(e==null?void 0:e.name)||"Unnamed Product",manufacturer:(e==null?void 0:e.manufacturer)||"",category:(e==null?void 0:e.category)||"",description:(e==null?void 0:e.description)||"",defaultSupplierId:(e==null?void 0:e.defaultSupplierId)||null,images:(e==null?void 0:e.images)||[],audit:(e==null?void 0:e.audit)||[],embeddings:(e==null?void 0:e.embeddings)||void 0}},wh=async()=>dt?(await tr("products",null)).map(Sw):[],Iy=async(t,e)=>{if(!dt||!await Nn("products"))return;const n=Array.isArray(t.embeddings)&&t.embeddings.length>0,s=es(n?t.embeddings:null,t.id,`products:${t.id}`),a=n&&s===t.embeddings?s:void 0,o=Zr("products",t.id),u={productId:t.id,name:t.name,manufacturer:t.manufacturer,category:t.category,description:t.description||"",defaultSupplierId:t.defaultSupplierId||null,images:t.images||[],audit:e?[...t.audit||[],e]:t.audit||[],embeddings:a};await dt.upsert("products",{wait:!0,points:[{id:o,...As("products",s),payload:u}]})},Gu=async t=>{var s;const e={id:Kn(),name:t.name.trim(),manufacturer:t.manufacturer.trim(),category:t.category.trim(),description:((s=t.description)==null?void 0:s.trim())||"",defaultSupplierId:t.defaultSupplierId||null,images:t.images||[],audit:[],embeddings:t.embeddings||(t.name?await Ci(t.name):Ji(Kn()))},n=nt?{userId:nt,shopId:nt,action:"create",timestamp:new Date().toISOString()}:void 0;return await Iy(e,n),e},Ew=async(t,e)=>{var g,v,p;const s=(await wh()).find(N=>N.id===t);if(!s)throw new Error(`Product with ID ${t} not found`);const a=e.embeddings||(e.name&&e.name!==s.name?await Ci(e.name):s.embeddings),o={...s,name:((g=e.name)==null?void 0:g.trim())||s.name,manufacturer:((v=e.manufacturer)==null?void 0:v.trim())||s.manufacturer,category:((p=e.category)==null?void 0:p.trim())||s.category,description:e.description!==void 0?e.description.trim():s.description,defaultSupplierId:e.defaultSupplierId!==void 0?e.defaultSupplierId:s.defaultSupplierId,images:e.images!==void 0?e.images:s.images,embeddings:a},u=nt?{userId:nt,shopId:nt,action:"update",timestamp:new Date().toISOString()}:void 0;return await Iy(o,u),o},Cw=async t=>{dt&&await Nn("products")&&await dt.delete("products",{wait:!0,points:[Zr("products",t)]})},Tw=async(t,e=24)=>{if(!dt)return[];const n=t.trim();if(!n)return(await wh()).slice(0,e);if(!await Nn("products"))return[];const s=await Ci(n),a=es(s,`products:search:${n}`,`products-search:${Date.now()}`);return(await dt.search("products",{vector:a,limit:e,with_payload:!0})).map(Sw).filter(u=>!!u.name)},Aw=async t=>dt?(await tr("batches",t)).map(n=>{const s=n.payload;return{id:(s==null?void 0:s.batchId)||String(n.id),shopId:s==null?void 0:s.shopId,supplierId:s==null?void 0:s.supplierId,deliveryDate:s==null?void 0:s.deliveryDate,inventoryDate:s==null?void 0:s.inventoryDate,invoiceNumber:s==null?void 0:s.invoiceNumber,documents:(s==null?void 0:s.documents)||[],lineItems:(s==null?void 0:s.lineItems)||[],createdAt:s==null?void 0:s.createdAt,createdByUserId:s==null?void 0:s.createdByUserId}}):[],Nw=async()=>nt?Aw(nt):[],Ry=async t=>{if(!dt||!await Nn("batches"))return;const e=es(Ji(t.id),t.id,`batches:${t.id}`),n=Zr("batches",t.id),s={batchId:t.id,shopId:t.shopId,supplierId:t.supplierId||null,deliveryDate:t.deliveryDate,inventoryDate:t.inventoryDate||null,invoiceNumber:t.invoiceNumber||null,documents:t.documents||[],lineItems:t.lineItems||[],createdAt:t.createdAt,createdByUserId:t.createdByUserId};await dt.upsert("batches",{wait:!0,points:[{id:n,...As("batches",e),payload:s}]})},Ql=async t=>{if(!dt||!await Nn("users"))return;const e=t.qdrantUserId||t.userId,n=Zr("users",e);let s={};try{const u=await dt.retrieve("users",{ids:[n],with_payload:!0});if(u.points&&u.points.length>0){const g=u.points[0].payload;s={isVerified:g.isVerified,isDriverVerified:g.isDriverVerified}}}catch{}const a={userId:t.userId,displayName:t.displayName||t.email||t.userId,contactEmail:t.contactEmail||t.email||"",email:t.email||t.contactEmail||"",shopId:t.shopId||nt||null,isVerified:t.isVerified!==void 0?t.isVerified:s.isVerified,isDriverVerified:t.isDriverVerified!==void 0?t.isDriverVerified:s.isDriverVerified},o=es(Ji(e),e,`users:${e}`);await dt.upsert("users",{wait:!0,points:[{id:n,payload:a,...As("users",o)}]})},kw=async()=>{},Iw=async t=>{if(!dt||!await Nn("shops"))return;const e=es(Ji(t.id),t.id,`shops:${t.id}`),n=Zr("shops",t.id),s={shopId:t.id,userId:t.userId||"",name:t.name,contact:t.contactEmail||"",contactEmail:t.contactEmail||"",qdrantNamespace:t.qdrantNamespace||null,metadata:t.location?{location:t.location}:{}};await dt.upsert("shops",{wait:!0,points:[{id:n,...As("shops",e),payload:s}]})},Rw=async t=>{if(!dt||!await Nn("customers"))return;const e=es(Ji(t.id),t.id,`customers:${t.id}`),n=Zr("customers",t.id);await dt.upsert("customers",{wait:!0,points:[{id:n,...As("customers",e),payload:{customerId:t.id,userId:t.userId||null,name:t.fullName,contact:t.contactEmail||""}}]})},Sg=async t=>{if(!dt||!await Nn("drivers"))return;const e=es(Ji(t.id),t.id,`drivers:${t.id}`),n=Zr("drivers",t.id);await dt.upsert("drivers",{wait:!0,points:[{id:n,...As("drivers",e),payload:{driverId:t.id,userId:t.userId||null,name:t.fullName,contact:t.contactEmail||"",status:t.status||"pending"}}]})},Dy=async t=>{if(!dt||!await Nn("suppliers"))return;const e=t.name?await Ci(t.name):null,n=es(e,t.id,`suppliers:${t.id}`),s=Zr("suppliers",t.id),a={supplierId:t.id,name:t.name,contact:t.contactEmail||"",contactEmail:t.contactEmail||"",shopId:t.shopId||null,linkedUserId:t.linkedUserId||t.userId||null,metadata:t.metadata||{},embeddings:n};await dt.upsert("suppliers",{wait:!0,points:[{id:s,...As("suppliers",n),payload:a}]})},jo=async()=>!dt||!nt?[]:(await tr("suppliers",null)).map(e=>{const n=e.payload;return{id:(n==null?void 0:n.supplierId)||String(e.id),shopId:(n==null?void 0:n.shopId)||null,linkedUserId:(n==null?void 0:n.linkedUserId)||(n==null?void 0:n.userId)||null,name:(n==null?void 0:n.name)||"Supplier",contact:(n==null?void 0:n.contact)||"",contactEmail:(n==null?void 0:n.contact)||(n==null?void 0:n.contactEmail)||"",metadata:(n==null?void 0:n.metadata)||{}}}).filter(e=>e.shopId===nt||e.linkedUserId!==null),Yu=async t=>{if(!nt)throw new Error("No shop selected.");const e=Kn();return await Dy({id:e,name:t.name,contactEmail:t.contactEmail,shopId:nt,linkedUserId:null}),{id:e,shopId:nt,linkedUserId:null,name:t.name,contact:t.contactEmail,contactEmail:t.contactEmail,metadata:{}}},Dw=async()=>dt?await Nn("shops")?(await tr("shops",null)).map(e=>{const n=e.payload;return{id:n.shopId,name:n.name,contactEmail:n.contactEmail||n.contact}}):[]:[],Pw=async t=>{if(!dt||!await Nn("shops"))return null;try{const e=Zr("shops",t),n=await dt.retrieve("shops",{ids:[e],with_payload:!0});if(n.points&&n.points.length>0){const s=n.points[0].payload;return{id:s.shopId,name:s.name,contactEmail:s.contactEmail||s.contact}}return null}catch(e){return console.error("[Users] Error validating shop:",e),null}},N0=new Map,Mw=async t=>{if(N0.has(t))return N0.get(t).name;const n=(await tr("products",null)).find(s=>{var a;return((a=s.payload)==null?void 0:a.productId)===t});if(n){const s=n.payload;return N0.set(t,{name:s.name||"unknown product",manufacturer:s.manufacturer||"",category:s.category||""}),s.name||"unknown product"}return"unknown product"},Xl=async(t,e)=>{if(!dt||!nt||!await Nn("items"))return;const n=t.inventoryUuid||t.qdrantId||Kn();t.inventoryUuid||(t.inventoryUuid=n),t.qdrantId||(t.qdrantId=n);const s=new Date().toISOString(),a=t.status||(t.quantity>0?"ACTIVE":"EMPTY"),o=await Mw(t.productId),u=await Ci(o),g=es(u,n,`items:${n}`),v=e||t.scanMetadata||null,p=t.buyPrice??t.costPerUnit??null,N=t.sellPrice??(p?p*1.4:null),R=t.shareScope||["local"],U={inventoryUuid:n,shopId:nt,productId:t.productId,batchId:t.batchId||"",supplierId:t.supplierId||void 0,buyPrice:p??void 0,sellPrice:N??void 0,quantity:t.quantity||0,expiration:t.expirationDate||s,location:t.location||void 0,status:a,images:t.images||[],scanMetadata:v,createdByUserId:nt,createdAt:t.createdAt||s,updatedAt:t.updatedAt||s,embeddings:g,shareScope:R,shareProofHash:t.shareProofHash};await dt.upsert("items",{wait:!0,points:[{id:n,...As("items",g),payload:U}]})},Py=async t=>{if(!dt)return;const e=t.inventoryUuid||t.qdrantId;if(e){await dt.delete("items",{wait:!0,points:[e]});return}nt&&await dt.delete("items",{wait:!0,filter:{must:[{key:"shopId",match:{value:nt}},{key:"productId",match:{value:t.productId}}]}})},Ow=async(t,e,n)=>{if(!dt||!nt||!await Nn("items"))return;const s=new Date().toISOString(),a=new Date(t.deliveryDate),o=new Date(a.setFullYear(a.getFullYear()+1)).toISOString().split("T")[0],u=await Promise.all(e.filter(g=>g.productId&&g.quantity>0).map(async g=>{const v=Kn(),p=g.cost||0,N=p*1.4,R=await Mw(g.productId),U=await Ci(R),F=es(U,v,`items:${v}`),L=n==null?void 0:n.get(g.productId),Q={inventoryUuid:v,shopId:nt,productId:g.productId,batchId:t.id,supplierId:t.supplierId||void 0,buyPrice:p,sellPrice:N,quantity:g.quantity,expiration:o,location:void 0,status:"ACTIVE",images:(L==null?void 0:L.images)||[],scanMetadata:(L==null?void 0:L.scanMetadata)||null,createdByUserId:nt,createdAt:s,updatedAt:s,embeddings:F,shareScope:["local"]};return{id:v,...As("items",F),payload:Q}}));u.length>0&&(await dt.upsert("items",{wait:!0,points:u}),console.log(`[Inventory] Added ${u.length} inventory items from batch ${t.id}`))},My=async(t,e,n=10)=>{if(!dt||!e)return[];if(!await Nn("items"))return[];const s=es(t,`${e}-query`,`search:${e}`),a=dk("items",s);return(await fk("items",a,{shopId:e,quantityMin:0,status:"ACTIVE"},n)).map(u=>{const g=u.payload,v=g==null?void 0:g.shopId,p=typeof v=="string"?v:v&&typeof v=="object"&&v!==null&&"id"in v?v.id:e;return{id:Date.now()+Math.random(),inventoryUuid:g.inventoryUuid||String(u.id),shopId:p,productId:g.productId,batchId:g.batchId,expirationDate:g.expiration,quantity:g.quantity,costPerUnit:g.buyPrice||0,location:g.location||void 0,supplierId:g.supplierId||void 0,buyPrice:g.buyPrice,sellPrice:g.sellPrice,images:g.images||[],scanMetadata:g.scanMetadata,qdrantId:g.inventoryUuid||String(u.id),status:g.status,createdByUserId:g.createdByUserId,createdAt:g.createdAt,updatedAt:g.updatedAt,shareScope:g.shareScope||["local"],shareProofHash:g.shareProofHash}})},Uw=async t=>(await tr("items",t)).map(n=>{const s=n.payload,a=s==null?void 0:s.shopId,o=typeof a=="string"?a:a&&typeof a=="object"&&a!==null&&"id"in a?a.id:t;return{id:Date.now()+Math.random(),inventoryUuid:s.inventoryUuid||String(n.id),shopId:o,productId:s.productId,batchId:s.batchId,expirationDate:s.expiration,quantity:s.quantity,costPerUnit:s.buyPrice||0,location:s.location||void 0,supplierId:s.supplierId||void 0,buyPrice:s.buyPrice,sellPrice:s.sellPrice,images:s.images||[],scanMetadata:s.scanMetadata,qdrantId:s.inventoryUuid||String(n.id),status:s.status,createdByUserId:s.createdByUserId,createdAt:s.createdAt,updatedAt:s.updatedAt,shareScope:s.shareScope||["local"],shareProofHash:s.shareProofHash}}).filter(n=>n.quantity>0&&n.status!=="EMPTY"&&n.status!=="EXPIRED"),Oy=async t=>{if(!dt||!nt||!await Nn("sales"))return;const e=es(Ji(t.id),t.id,`sales:${t.id}`),n=Zr("sales",t.id),s=As("sales",e);await dt.upsert("sales",{wait:!0,points:[{id:n,...s,payload:{saleId:t.id,shopId:nt,timestamp:t.timestamp,lineItems:t.items,totalAmount:t.totalAmount}}]})},hk=async(t,e)=>{if(!nt)throw new Error("No shop selected.");const n=[];let s=0;const a=1.4,o=[],u=[],g=await Uw(nt);for(const p of t){let N=p.quantity;const R=e.get(p.productName);if(!R)continue;const U=g.filter(F=>F.productId===R.id&&F.quantity>0).sort((F,L)=>new Date(F.expirationDate).getTime()-new Date(L.expirationDate).getTime());for(const F of U){if(N<=0)break;const L=Math.min(F.quantity,N);F.quantity-=L,N-=L;const Q=F.costPerUnit*a;n.push({productId:R.id,quantity:L,priceAtSale:Q}),s+=L*Q,F.quantity===0?u.push(F):o.push(F)}}const v={id:Date.now(),timestamp:new Date().toISOString(),items:n,totalAmount:s};for(const p of o)await Xl(p);return await Promise.all(u.map(Py)),await Oy(v),console.log(`[Sales] Recorded sale ${v.id} with total $${s.toFixed(2)}.`),v},jw=async t=>(await tr("sales",t)).map(n=>{const s=n.payload;return{id:s.saleId,timestamp:s.timestamp,items:s.lineItems||[],totalAmount:s.totalAmount||0}}),Q0=new Map,pk=async t=>{if(!dt||!nt||!await Nn("marketplace"))return;const e=es(Ji(t.id),t.id,`marketplace:${t.id}`),n=Zr("marketplace",t.id);await dt.upsert("marketplace",{wait:!0,points:[{id:n,...As("marketplace",e),payload:{shopId:nt,listingId:t.id,productId:t.productId,productName:t.productName,quantity:t.quantity,price:t.price}}]})},Lw=async t=>{if(!nt)throw new Error("No shop selected.");const e={...t,id:Date.now()};Q0.set(e.id,e),await pk(e),console.info(`[Marketplace] Listed ${e.quantity} of ${e.productName}.`)},Bw=async()=>Q0.size>0?Array.from(Q0.values()):nt?(await tr("marketplace",nt)).map(e=>{const n=e.payload;return{id:n.listingId||Date.now(),productId:n.productId,productName:n.productName,quantity:n.quantity,price:n.price}}):[],mk=async(t,e,n,s)=>{if(!nt)throw new Error("No shop selected.");const a=new Date().toISOString().split("T")[0],o={supplier:t.seller.name,deliveryDate:a,inventoryDate:a},u={productName:t.productName,manufacturer:t.manufacturer,category:t.category,expirationDate:"2025-12-31",quantity:e,quantityType:t.quantityType,costPerUnit:t.price,location:"Marketplace Intake"};await n(o,[u]);const g={id:Date.now(),timestamp:new Date().toISOString(),items:[{productId:t.productName.toLowerCase().trim().replace(/\s+/g,"-"),quantity:e,priceAtSale:t.price}],totalAmount:t.price*e,source:{type:"marketplace",supplierName:t.seller.name,listingId:t.listingId}};await s(g),console.info(`[Marketplace] Purchased ${e} of ${t.productName} from ${t.seller.name}.`)},gk=new Map,qw=t=>t.toLowerCase().trim().replace(/\s+/g,"-"),yk=t=>`${nt||"global"}:${t}`,vk=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=()=>e(s.result.split(",")[1]),s.onerror=a=>n(a)}),xk=(t,e)=>t&&t.trim().length>0?t.trim():e?qw(e):"unlabeled-product",Uy=async(t,e,n,s)=>{const a=xk(s==null?void 0:s.productId,t),o=yk(a),u=await vk(n),g=`${o}-${e}`;if(gk.set(g,{imageBase64:u,mimeType:n.type}),!dt||!nt||!await Nn("visual"))return g;const v=es(Ji(g),g,`visual:${g}`);try{await dt.upsert("visual",{wait:!0,points:[{id:Zr("visual",g),...As("visual",v),payload:{shopId:nt,productId:o,fieldName:e,imageBase64:u,mimeType:n.type,source:(s==null?void 0:s.source)||"manual",batchId:(s==null?void 0:s.batchId)||null,metadata:(s==null?void 0:s.metadata)||null,capturedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}]})}catch(p){console.error("[Qdrant] Failed to upsert visual feature:",p)}return g},Xx=t=>{const e=nt||"global";return t.startsWith(`${e}:`)?t:`${e}:${t}`},$w=async t=>{const e=new Map;if(!nt||!dt)return e;const n=new Set;t.includes(":")?n.add(t):(n.add(Xx(t)),n.add(Xx(qw(t))));const s=async a=>{let o;do{const u=await dt.scroll("visual",{filter:{must:[{key:"shopId",match:{value:nt}},{key:"productId",match:{value:a}}]},with_payload:!0,limit:50,offset:o??void 0});((u==null?void 0:u.points)??[]).forEach(v=>{const p=v.payload;p!=null&&p.fieldName&&(p!=null&&p.imageBase64)&&(p!=null&&p.mimeType)&&e.set(p.fieldName,{imageBase64:p.imageBase64,mimeType:p.mimeType})}),o=(u==null?void 0:u.next_page_offset)??void 0}while(o)};for(const a of n)if(await s(a),e.size>0)break;return e},Gl="dan_inventory",zw=async t=>{if(!dt||!await Nn(Gl))return;const e=t.vector||await Ci(`${t.productName} ${t.locationBucket||""} ${t.quantity}`),n=es(e,t.inventoryUuid,`${Gl}:${t.inventoryUuid}`),s={inventoryUuid:t.inventoryUuid,productId:t.productId,productName:t.productName,quantity:t.quantity,expirationDate:t.expirationDate,locationBucket:t.locationBucket||null,sellPrice:t.sellPrice??null,shopId:t.shopId,shopName:t.shopName||null,shareScope:t.shareScope,proofHash:t.proofHash,updatedAt:t.updatedAt||new Date().toISOString()};await dt.upsert(Gl,{wait:!0,points:[{id:t.inventoryUuid,...As(Gl,n),payload:s}]})},bk=async t=>{dt&&await Nn(Gl)&&await dt.delete(Gl,{wait:!0,points:[t]})},wk=async()=>(await tr(Gl,null)).map(e=>{var s;const n=e.payload;return{inventoryUuid:(n==null?void 0:n.inventoryUuid)||String(e.id),shopId:(n==null?void 0:n.shopId)||"",shopName:(n==null?void 0:n.shopName)||null,productId:(n==null?void 0:n.productId)||"",productName:(n==null?void 0:n.productName)||"",quantity:(n==null?void 0:n.quantity)||0,expirationDate:(n==null?void 0:n.expirationDate)||"",locationBucket:(n==null?void 0:n.locationBucket)||null,sellPrice:(n==null?void 0:n.sellPrice)??null,shareScope:(n==null?void 0:n.shareScope)||["local"],proofHash:n==null?void 0:n.proofHash,updatedAt:(n==null?void 0:n.updatedAt)||((s=e.payload)==null?void 0:s.updatedAt)||""}}).filter(e=>e.quantity>0).sort((e,n)=>{const s=new Date(e.expirationDate).getTime(),a=new Date(n.expirationDate).getTime();return s-a}),sn={products:new Map,batches:new Map,stockItems:new Map,salesTransactions:new Map,productVisualFeatures:new Map,marketplaceListings:new Map};let X0=!1;const Vw=t=>{X0=t},Z0=t=>t.toLowerCase().trim().replace(/\s+/g,"-"),_k=async(t,e)=>{const n=new Map,s=await t();for(const g of s){if(g.quantity<=0||g.status==="EMPTY"||g.status==="EXPIRED"||g.status&&g.status!=="ACTIVE")continue;const v=sn.products.get(g.productId);if(!v)continue;const p=n.get(v.id);if(p)p.totalQuantity+=g.quantity,g.expirationDate<p.earliestExpiration&&(p.earliestExpiration=g.expirationDate),g.supplierId&&p.supplierIdsSet.add(g.supplierId),p.batches.push({batchId:String(g.batchId),quantity:g.quantity,expirationDate:g.expirationDate}),p.totalCost+=g.costPerUnit*g.quantity,p.itemCount+=g.quantity;else{const N=new Set;g.supplierId&&N.add(g.supplierId),n.set(v.id,{productId:v.id,productName:v.name,manufacturer:v.manufacturer,category:v.category,totalQuantity:g.quantity,quantityType:"units",earliestExpiration:g.expirationDate,supplierIdsSet:N,batches:[{batchId:String(g.batchId),quantity:g.quantity,expirationDate:g.expirationDate}],totalCost:g.costPerUnit*g.quantity,itemCount:g.quantity,averageCostPerUnit:0})}}const a=await e(),o=new Set(a.map(g=>g.id)),u=[];return n.forEach(g=>{if(!(g.supplierIdsSet.size===0||Array.from(g.supplierIdsSet).some(F=>o.has(F))))return;const{totalCost:p,itemCount:N,supplierIdsSet:R,...U}=g;u.push({...U,supplierIds:Array.from(R).filter(F=>o.has(F)),averageCostPerUnit:N>0?p/N:0})}),u.sort((g,v)=>g.productName.localeCompare(v.productName))},Fw=()=>{sn.products.clear(),sn.batches.clear(),sn.stockItems.clear(),sn.salesTransactions.clear(),sn.marketplaceListings.clear(),sn.productVisualFeatures.clear()},cg=async()=>{if(console.log("[DataLoader] loadDataFromQdrant called, activeShopId:",nt),!nt){console.warn("[DataLoader] activeShopId is not set, cannot load data");return}const t=typeof nt=="string"?nt:nt&&typeof nt=="object"&&nt!==null&&"id"in nt?(()=>{const N=nt;return console.warn(`[DataLoader] activeShopId is an object instead of string. Extracting id: ${N.id}`),N.id})():null;if(!t){console.warn("[DataLoader] Could not extract shopIdString from activeShopId");return}console.log(`[DataLoader] Loading data for shopId: ${t}`);const[e,n,s,a,o,u]=await Promise.all([tr("suppliers",t),tr("products",null),tr("batches",t),tr("items",t),tr("sales",t),tr("marketplace",t)]);if(console.log(`[DataLoader] Fetched from Qdrant: ${a.length} items, ${n.length} products, ${s.length} batches`),a.length===0){console.warn(`[DataLoader] No items found for shopId: ${t}. Checking all items in Qdrant...`);try{const N=await tr("items",null),R=new Set;N.forEach(U=>{var Q;const F=(Q=U.payload)==null?void 0:Q.shopId,L=typeof F=="string"?F:F&&typeof F=="object"&&"id"in F?F.id:null;L&&R.add(L)}),console.warn(`[DataLoader] Found ${N.length} total items in Qdrant. ShopIds present:`,Array.from(R)),N.length>0&&!R.has(t)&&(console.error(`[DataLoader] CRITICAL: Items exist but none have shopId "${t}". Items have shopIds:`,Array.from(R)),console.error(`[DataLoader] Expected shopId: ${t}`),console.error("[DataLoader] Found shopIds:",Array.from(R)))}catch(N){console.error("[DataLoader] Error checking all items:",N)}}Fw(),n.forEach(N=>{const R=N.payload,U=(R==null?void 0:R.productId)||String(N.id);U&&sn.products.set(U,{id:U,name:(R==null?void 0:R.name)||"Unnamed Product",manufacturer:(R==null?void 0:R.manufacturer)||"",category:(R==null?void 0:R.category)||""})}),s.forEach(N=>{const R=N.payload,U=(R==null?void 0:R.batchId)||String(N.id);U&&sn.batches.set(String(U),{id:String(U),supplier:(R==null?void 0:R.supplierId)||"Unknown Supplier",deliveryDate:(R==null?void 0:R.deliveryDate)||"",inventoryDate:(R==null?void 0:R.inventoryDate)||(R==null?void 0:R.deliveryDate)||""})});let g=0,v=0;const p={};a.forEach(N=>{const R=N.payload,U=(R==null?void 0:R.productId)||(R==null?void 0:R.itemId),F=(R==null?void 0:R.inventoryUuid)||String(N.id);if(!F||!U){v++,p.missing_uuid_or_productId=(p.missing_uuid_or_productId||0)+1;return}const L=R.quantity||0,Q=R.status||(L>0?"ACTIVE":"EMPTY");if(L<=0||Q==="EMPTY"||Q==="EXPIRED"){v++;const te=L<=0?"quantity_zero":Q.toLowerCase();p[te]=(p[te]||0)+1;return}const re=typeof R.shopId=="string"?R.shopId:R.shopId&&typeof R.shopId=="object"&&"id"in R.shopId?R.shopId.id:null;re&&re!==t&&console.warn(`[DataLoader] Item ${F} has shopId "${re}" but expected "${t}"`);const ue={id:R.inventoryId||Date.now()+Math.random(),inventoryUuid:F,shopId:re||t||"",productId:U,batchId:R.batchId,expirationDate:R.expiration||R.expirationDate||"",quantity:L,costPerUnit:R.costPerUnit||R.buyPrice||0,location:R.location||void 0,supplierId:R.supplierId||void 0,buyPrice:R.buyPrice??R.costPerUnit,sellPrice:R.sellPrice??void 0,images:R.images||[],scanMetadata:R.scanMetadata||null,createdByUserId:R.createdByUserId||void 0,createdAt:R.createdAt,updatedAt:R.updatedAt,qdrantId:F,status:Q};sn.stockItems.set(ue.id,ue),g++}),console.log(`[DataLoader] Loaded ${g} items into cache, skipped ${v} items:`,p),o.forEach(N=>{const R=N.payload;R!=null&&R.saleId&&sn.salesTransactions.set(R.saleId,{id:R.saleId,timestamp:R.timestamp,items:R.lineItems||[],totalAmount:R.totalAmount||0})}),u.forEach(N=>{const R=N.payload;R!=null&&R.listingId&&sn.marketplaceListings.set(R.listingId,{id:R.listingId,productId:R.productId,productName:R.productName,quantity:R.quantity,price:R.price})})};var ey=function(t,e){return ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},ey(t,e)};function Hw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ey(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ug=function(){return ug=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ug.apply(this,arguments)};function Ju(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function Gw(t,e,n,s){var a=arguments.length,o=a<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,s);else for(var g=t.length-1;g>=0;g--)(u=t[g])&&(o=(a<3?u(o):a>3?u(e,n,o):u(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o}function Yw(t,e){return function(n,s){e(n,s,t)}}function Jw(t,e,n,s,a,o){function u(ce){if(ce!==void 0&&typeof ce!="function")throw new TypeError("Function expected");return ce}for(var g=s.kind,v=g==="getter"?"get":g==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,N=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),R,U=!1,F=n.length-1;F>=0;F--){var L={};for(var Q in s)L[Q]=Q==="access"?{}:s[Q];for(var Q in s.access)L.access[Q]=s.access[Q];L.addInitializer=function(ce){if(U)throw new TypeError("Cannot add initializers after decoration has completed");o.push(u(ce||null))};var re=(0,n[F])(g==="accessor"?{get:N.get,set:N.set}:N[v],L);if(g==="accessor"){if(re===void 0)continue;if(re===null||typeof re!="object")throw new TypeError("Object expected");(R=u(re.get))&&(N.get=R),(R=u(re.set))&&(N.set=R),(R=u(re.init))&&a.unshift(R)}else(R=u(re))&&(g==="field"?a.unshift(R):N[v]=R)}p&&Object.defineProperty(p,s.name,N),U=!0}function Kw(t,e,n){for(var s=arguments.length>2,a=0;a<e.length;a++)n=s?e[a].call(t,n):e[a].call(t);return s?n:void 0}function Ww(t){return typeof t=="symbol"?t:"".concat(t)}function Qw(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Xw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _t(t,e,n,s){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function g(N){try{p(s.next(N))}catch(R){u(R)}}function v(N){try{p(s.throw(N))}catch(R){u(R)}}function p(N){N.done?o(N.value):a(N.value).then(g,v)}p((s=s.apply(t,e||[])).next())})}function Zw(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,a,o,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=g(0),u.throw=g(1),u.return=g(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function g(p){return function(N){return v([p,N])}}function v(p){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(s=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(N){p=[6,N],a=0}finally{s=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var Eg=Object.create?(function(t,e,n,s){s===void 0&&(s=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,s,a)}):(function(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]});function e1(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Eg(e,t,n)}function dg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jy(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),a,o=[],u;try{for(;(e===void 0||e-- >0)&&!(a=s.next()).done;)o.push(a.value)}catch(g){u={error:g}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(u)throw u.error}}return o}function t1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jy(arguments[e]));return t}function n1(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),a=0,e=0;e<n;e++)for(var o=arguments[e],u=0,g=o.length;u<g;u++,a++)s[a]=o[u];return s}function r1(t,e,n){if(n||arguments.length===2)for(var s=0,a=e.length,o;s<a;s++)(o||!(s in e))&&(o||(o=Array.prototype.slice.call(e,0,s)),o[s]=e[s]);return t.concat(o||Array.prototype.slice.call(e))}function $u(t){return this instanceof $u?(this.v=t,this):new $u(t)}function s1(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",u),a[Symbol.asyncIterator]=function(){return this},a;function u(F){return function(L){return Promise.resolve(L).then(F,R)}}function g(F,L){s[F]&&(a[F]=function(Q){return new Promise(function(re,ce){o.push([F,Q,re,ce])>1||v(F,Q)})},L&&(a[F]=L(a[F])))}function v(F,L){try{p(s[F](L))}catch(Q){U(o[0][3],Q)}}function p(F){F.value instanceof $u?Promise.resolve(F.value.v).then(N,R):U(o[0][2],F)}function N(F){v("next",F)}function R(F){v("throw",F)}function U(F,L){F(L),o.shift(),o.length&&v(o[0][0],o[0][1])}}function i1(t){var e,n;return e={},s("next"),s("throw",function(a){throw a}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(a,o){e[a]=t[a]?function(u){return(n=!n)?{value:$u(t[a](u)),done:!1}:o?o(u):u}:o}}function a1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dg=="function"?dg(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(o){n[o]=t[o]&&function(u){return new Promise(function(g,v){u=t[o](u),a(g,v,u.done,u.value)})}}function a(o,u,g,v){Promise.resolve(v).then(function(p){o({value:p,done:g})},u)}}function o1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Sk=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ty=function(t){return ty=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},ty(t)};function l1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=ty(t),s=0;s<n.length;s++)n[s]!=="default"&&Eg(e,t,n[s]);return Sk(e,t),e}function c1(t){return t&&t.__esModule?t:{default:t}}function u1(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function d1(t,e,n,s,a){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?a.call(t,n):a?a.value=n:e.set(t,n),n}function f1(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function h1(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(a=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");a&&(s=function(){try{a.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:s,async:n})}else n&&t.stack.push({async:!0});return e}var Ek=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function p1(t){function e(o){t.error=t.hasError?new Ek(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var n,s=0;function a(){for(;n=t.stack.pop();)try{if(!n.async&&s===1)return s=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var o=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(o).then(a,function(u){return e(u),a()})}else s|=1}catch(u){e(u)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function m1(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,a,o,u){return s?e?".jsx":".js":a&&(!o||!u)?n:a+o+"."+u.toLowerCase()+"js"}):t}const Ck={__extends:Hw,__assign:ug,__rest:Ju,__decorate:Gw,__param:Yw,__esDecorate:Jw,__runInitializers:Kw,__propKey:Ww,__setFunctionName:Qw,__metadata:Xw,__awaiter:_t,__generator:Zw,__createBinding:Eg,__exportStar:e1,__values:dg,__read:jy,__spread:t1,__spreadArrays:n1,__spreadArray:r1,__await:$u,__asyncGenerator:s1,__asyncDelegator:i1,__asyncValues:a1,__makeTemplateObject:o1,__importStar:l1,__importDefault:c1,__classPrivateFieldGet:u1,__classPrivateFieldSet:d1,__classPrivateFieldIn:f1,__addDisposableResource:h1,__disposeResources:p1,__rewriteRelativeImportExtension:m1},Tk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:h1,get __assign(){return ug},__asyncDelegator:i1,__asyncGenerator:s1,__asyncValues:a1,__await:$u,__awaiter:_t,__classPrivateFieldGet:u1,__classPrivateFieldIn:f1,__classPrivateFieldSet:d1,__createBinding:Eg,__decorate:Gw,__disposeResources:p1,__esDecorate:Jw,__exportStar:e1,__extends:Hw,__generator:Zw,__importDefault:c1,__importStar:l1,__makeTemplateObject:o1,__metadata:Xw,__param:Yw,__propKey:Ww,__read:jy,__rest:Ju,__rewriteRelativeImportExtension:m1,__runInitializers:Kw,__setFunctionName:Qw,__spread:t1,__spreadArray:r1,__spreadArrays:n1,__values:dg,default:Ck},Symbol.toStringTag,{value:"Module"})),Ak=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ly extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Nk extends Ly{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Zx extends Ly{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class eb extends Ly{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ny;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ny||(ny={}));class kk{constructor(e,{headers:n={},customFetch:s,region:a=ny.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=Ak(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _t(this,arguments,void 0,function*(n,s={}){var a;let o,u;try{const{headers:g,method:v,body:p,signal:N,timeout:R}=s;let U={},{region:F}=s;F||(F=this.region);const L=new URL(`${this.url}/${n}`);F&&F!=="any"&&(U["x-region"]=F,L.searchParams.set("forceFunctionRegion",F));let Q;p&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(U["Content-Type"]="application/octet-stream",Q=p):typeof p=="string"?(U["Content-Type"]="text/plain",Q=p):typeof FormData<"u"&&p instanceof FormData?Q=p:(U["Content-Type"]="application/json",Q=JSON.stringify(p)):Q=p;let re=N;R&&(u=new AbortController,o=setTimeout(()=>u.abort(),R),N?(re=u.signal,N.addEventListener("abort",()=>u.abort())):re=u.signal);const ce=yield this.fetch(L.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},U),this.headers),g),body:Q,signal:re}).catch(le=>{throw new Nk(le)}),ue=ce.headers.get("x-relay-error");if(ue&&ue==="true")throw new Zx(ce);if(!ce.ok)throw new eb(ce);let te=((a=ce.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),se;return te==="application/json"?se=yield ce.json():te==="application/octet-stream"||te==="application/pdf"?se=yield ce.blob():te==="text/event-stream"?se=ce:te==="multipart/form-data"?se=yield ce.formData():se=yield ce.text(),{data:se,error:null,response:ce}}catch(g){return{data:null,error:g,response:g instanceof eb||g instanceof Zx?g.context:void 0}}finally{o&&clearTimeout(o)}})}}var qr={};const Ku=K_(Tk);var Vm={},Fm={},Hm={},Gm={},Ym={},Jm={},tb;function g1(){if(tb)return Jm;tb=1,Object.defineProperty(Jm,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Jm.default=t,Jm}var nb;function y1(){if(nb)return Ym;nb=1,Object.defineProperty(Ym,"__esModule",{value:!0});const e=Ku.__importDefault(g1());class n{constructor(a){var o,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(o=a.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=new Headers(this.headers),this.headers.set(a,o),this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let g=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var p,N,R,U;let F=null,L=null,Q=null,re=v.status,ce=v.statusText;if(v.ok){if(this.method!=="HEAD"){const le=await v.text();le===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?L=le:L=JSON.parse(le))}const te=(N=this.headers.get("Prefer"))===null||N===void 0?void 0:N.match(/count=(exact|planned|estimated)/),se=(R=v.headers.get("content-range"))===null||R===void 0?void 0:R.split("/");te&&se&&se.length>1&&(Q=parseInt(se[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(L)&&(L.length>1?(F={code:"PGRST116",details:`Results contain ${L.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},L=null,Q=null,re=406,ce="Not Acceptable"):L.length===1?L=L[0]:L=null)}else{const te=await v.text();try{F=JSON.parse(te),Array.isArray(F)&&v.status===404&&(L=[],F=null,re=200,ce="OK")}catch{v.status===404&&te===""?(re=204,ce="No Content"):F={message:te}}if(F&&this.isMaybeSingle&&(!((U=F==null?void 0:F.details)===null||U===void 0)&&U.includes("0 rows"))&&(F=null,re=200,ce="OK"),F&&this.shouldThrowOnError)throw new e.default(F)}return{error:F,data:L,count:Q,status:re,statusText:ce}});return this.shouldThrowOnError||(g=g.catch(v=>{var p,N,R;return{error:{message:`${(p=v==null?void 0:v.name)!==null&&p!==void 0?p:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(N=v==null?void 0:v.stack)!==null&&N!==void 0?N:""}`,hint:"",code:`${(R=v==null?void 0:v.code)!==null&&R!==void 0?R:""}`},data:null,count:null,status:0,statusText:""}})),g.then(a,o)}returns(){return this}overrideTypes(){return this}}return Ym.default=n,Ym}var rb;function v1(){if(rb)return Gm;rb=1,Object.defineProperty(Gm,"__esModule",{value:!0});const e=Ku.__importDefault(y1());class n extends e.default{select(a){let o=!1;const u=(a??"*").split("").map(g=>/\s/.test(g)&&!o?"":(g==='"'&&(o=!o),g)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:o=!0,nullsFirst:u,foreignTable:g,referencedTable:v=g}={}){const p=v?`${v}.order`:"order",N=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${N?`${N},`:""}${a}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:u=o}={}){const g=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(g,`${a}`),this}range(a,o,{foreignTable:u,referencedTable:g=u}={}){const v=typeof g>"u"?"offset":`${g}.offset`,p=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(v,`${a}`),this.url.searchParams.set(p,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:o=!1,settings:u=!1,buffers:g=!1,wal:v=!1,format:p="text"}={}){var N;const R=[a?"analyze":null,o?"verbose":null,u?"settings":null,g?"buffers":null,v?"wal":null].filter(Boolean).join("|"),U=(N=this.headers.get("Accept"))!==null&&N!==void 0?N:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${U}"; options=${R};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Gm.default=n,Gm}var sb;function By(){if(sb)return Hm;sb=1,Object.defineProperty(Hm,"__esModule",{value:!0});const e=Ku.__importDefault(v1()),n=new RegExp("[,()]");class s extends e.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const g=Array.from(new Set(u)).map(v=>typeof v=="string"&&n.test(v)?`"${v}"`:`${v}`).join(",");return this.url.searchParams.append(o,`in.(${g})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:g,type:v}={}){let p="";v==="plain"?p="pl":v==="phrase"?p="ph":v==="websearch"&&(p="w");const N=g===void 0?"":`(${g})`;return this.url.searchParams.append(o,`${p}fts${N}.${u}`),this}match(o){return Object.entries(o).forEach(([u,g])=>{this.url.searchParams.append(u,`eq.${g}`)}),this}not(o,u,g){return this.url.searchParams.append(o,`not.${u}.${g}`),this}or(o,{foreignTable:u,referencedTable:g=u}={}){const v=g?`${g}.or`:"or";return this.url.searchParams.append(v,`(${o})`),this}filter(o,u,g){return this.url.searchParams.append(o,`${u}.${g}`),this}}return Hm.default=s,Hm}var ib;function x1(){if(ib)return Fm;ib=1,Object.defineProperty(Fm,"__esModule",{value:!0});const e=Ku.__importDefault(By());class n{constructor(a,{headers:o={},schema:u,fetch:g}){this.url=a,this.headers=new Headers(o),this.schema=u,this.fetch=g}select(a,o){const{head:u=!1,count:g}=o??{},v=u?"HEAD":"GET";let p=!1;const N=(a??"*").split("").map(R=>/\s/.test(R)&&!p?"":(R==='"'&&(p=!p),R)).join("");return this.url.searchParams.set("select",N),g&&this.headers.append("Prefer",`count=${g}`),new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:o,defaultToNull:u=!0}={}){var g;const v="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((N,R)=>N.concat(Object.keys(R)),[]);if(p.length>0){const N=[...new Set(p)].map(R=>`"${R}"`);this.url.searchParams.set("columns",N.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(a,{onConflict:o,ignoreDuplicates:u=!1,count:g,defaultToNull:v=!0}={}){var p;const N="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),g&&this.headers.append("Prefer",`count=${g}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const R=a.reduce((U,F)=>U.concat(Object.keys(F)),[]);if(R.length>0){const U=[...new Set(R)].map(F=>`"${F}"`);this.url.searchParams.set("columns",U.join(","))}}return new e.default({method:N,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:o}={}){var u;const g="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var o;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Fm.default=n,Fm}var ab;function Ik(){if(ab)return Vm;ab=1,Object.defineProperty(Vm,"__esModule",{value:!0});const t=Ku,e=t.__importDefault(x1()),n=t.__importDefault(By());class s{constructor(o,{headers:u={},schema:g,fetch:v}={}){this.url=o,this.headers=new Headers(u),this.schemaName=g,this.fetch=v}from(o){const u=new URL(`${this.url}/${o}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:g=!1,get:v=!1,count:p}={}){var N;let R;const U=new URL(`${this.url}/rpc/${o}`);let F;g||v?(R=g?"HEAD":"GET",Object.entries(u).filter(([Q,re])=>re!==void 0).map(([Q,re])=>[Q,Array.isArray(re)?`{${re.join(",")}}`:`${re}`]).forEach(([Q,re])=>{U.searchParams.append(Q,re)})):(R="POST",F=u);const L=new Headers(this.headers);return p&&L.set("Prefer",`count=${p}`),new n.default({method:R,url:U,headers:L,schema:this.schemaName,body:F,fetch:(N=this.fetch)!==null&&N!==void 0?N:fetch})}}return Vm.default=s,Vm}var ob;function Rk(){if(ob)return qr;ob=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.PostgrestError=qr.PostgrestBuilder=qr.PostgrestTransformBuilder=qr.PostgrestFilterBuilder=qr.PostgrestQueryBuilder=qr.PostgrestClient=void 0;const t=Ku,e=t.__importDefault(Ik());qr.PostgrestClient=e.default;const n=t.__importDefault(x1());qr.PostgrestQueryBuilder=n.default;const s=t.__importDefault(By());qr.PostgrestFilterBuilder=s.default;const a=t.__importDefault(v1());qr.PostgrestTransformBuilder=a.default;const o=t.__importDefault(y1());qr.PostgrestBuilder=o.default;const u=t.__importDefault(g1());return qr.PostgrestError=u.default,qr.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:u.default},qr}var b1=Rk();const w1=yy(b1),Dk=J_({__proto__:null,default:w1},[b1]),{PostgrestClient:Pk,PostgrestQueryBuilder:F4,PostgrestFilterBuilder:H4,PostgrestTransformBuilder:G4,PostgrestBuilder:Y4,PostgrestError:J4}=w1||Dk;class Mk{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ok="2.81.1",Uk=`realtime-js/${Ok}`,_1="1.0.0",jk="2.0.0",lb=_1,ry=1e4,Lk=1e3,Bk=100;var Vl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vl||(Vl={}));var ur;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ur||(ur={}));var Ks;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ks||(Ks={}));var sy;(function(t){t.websocket="websocket"})(sy||(sy={}));var Fl;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Fl||(Fl={}));class qk{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,n){if(this._isArrayBuffer(e.payload))return n(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:n,ref:s,event:a,topic:o,payload:u}=e,g=this.META_LENGTH+n.length+s.length+o.length+a.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let p=new DataView(v),N=0;p.setUint8(N++,this.KINDS.push),p.setUint8(N++,n.length),p.setUint8(N++,s.length),p.setUint8(N++,o.length),p.setUint8(N++,a.length),Array.from(n,U=>p.setUint8(N++,U.charCodeAt(0))),Array.from(s,U=>p.setUint8(N++,U.charCodeAt(0))),Array.from(o,U=>p.setUint8(N++,U.charCodeAt(0))),Array.from(a,U=>p.setUint8(N++,U.charCodeAt(0)));var R=new Uint8Array(v.byteLength+u.byteLength);return R.set(new Uint8Array(v),0),R.set(new Uint8Array(u),v.byteLength),R.buffer}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,s;const{join_ref:a,ref:o,topic:u}=e,g=e.payload.event,v=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),p=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+o.length+u.length+g.length,N=new ArrayBuffer(this.HEADER_LENGTH+p);let R=new DataView(N),U=0;R.setUint8(U++,this.KINDS.userBroadcastPush),R.setUint8(U++,a.length),R.setUint8(U++,o.length),R.setUint8(U++,u.length),R.setUint8(U++,g.length),R.setUint8(U++,this.BINARY_ENCODING),Array.from(a,L=>R.setUint8(U++,L.charCodeAt(0))),Array.from(o,L=>R.setUint8(U++,L.charCodeAt(0))),Array.from(u,L=>R.setUint8(U++,L.charCodeAt(0))),Array.from(g,L=>R.setUint8(U++,L.charCodeAt(0)));var F=new Uint8Array(N.byteLength+v.byteLength);return F.set(new Uint8Array(N),0),F.set(new Uint8Array(v),N.byteLength),F.buffer}_encodeJsonUserBroadcastPush(e){var n,s;const{join_ref:a,ref:o,topic:u}=e,g=e.payload.event,v=(s=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},N=new TextEncoder().encode(JSON.stringify(v)).buffer,R=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+o.length+u.length+g.length,U=new ArrayBuffer(this.HEADER_LENGTH+R);let F=new DataView(U),L=0;F.setUint8(L++,this.KINDS.userBroadcastPush),F.setUint8(L++,a.length),F.setUint8(L++,o.length),F.setUint8(L++,u.length),F.setUint8(L++,g.length),F.setUint8(L++,this.JSON_ENCODING),Array.from(a,re=>F.setUint8(L++,re.charCodeAt(0))),Array.from(o,re=>F.setUint8(L++,re.charCodeAt(0))),Array.from(u,re=>F.setUint8(L++,re.charCodeAt(0))),Array.from(g,re=>F.setUint8(L++,re.charCodeAt(0)));var Q=new Uint8Array(U.byteLength+N.byteLength);return Q.set(new Uint8Array(U),0),Q.set(new Uint8Array(N),U.byteLength),Q.buffer}decode(e,n){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return n(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,o,u,g,v]=s;return n({join_ref:a,ref:o,topic:u,event:g,payload:v})}return n({})}_binaryDecode(e){const n=new DataView(e),s=n.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,n,a);case this.KINDS.reply:return this._decodeReply(e,n,a);case this.KINDS.broadcast:return this._decodeBroadcast(e,n,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodePush(e,n,s){const a=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3);let g=this.HEADER_LENGTH+this.META_LENGTH-1;const v=s.decode(e.slice(g,g+a));g=g+a;const p=s.decode(e.slice(g,g+o));g=g+o;const N=s.decode(e.slice(g,g+u));g=g+u;const R=JSON.parse(s.decode(e.slice(g,e.byteLength)));return{join_ref:v,ref:null,topic:p,event:N,payload:R}}_decodeReply(e,n,s){const a=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),g=n.getUint8(4);let v=this.HEADER_LENGTH+this.META_LENGTH;const p=s.decode(e.slice(v,v+a));v=v+a;const N=s.decode(e.slice(v,v+o));v=v+o;const R=s.decode(e.slice(v,v+u));v=v+u;const U=s.decode(e.slice(v,v+g));v=v+g;const F=JSON.parse(s.decode(e.slice(v,e.byteLength))),L={status:U,response:F};return{join_ref:p,ref:N,topic:R,event:Ks.reply,payload:L}}_decodeBroadcast(e,n,s){const a=n.getUint8(1),o=n.getUint8(2);let u=this.HEADER_LENGTH+2;const g=s.decode(e.slice(u,u+a));u=u+a;const v=s.decode(e.slice(u,u+o));u=u+o;const p=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{join_ref:null,ref:null,topic:g,event:v,payload:p}}_decodeUserBroadcast(e,n,s){const a=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),g=n.getUint8(4);let v=this.HEADER_LENGTH+4;const p=s.decode(e.slice(v,v+a));v=v+a;const N=s.decode(e.slice(v,v+o));v=v+o;const R=s.decode(e.slice(v,v+u));v=v+u;const U=e.slice(v,e.byteLength),F=g===this.JSON_ENCODING?JSON.parse(s.decode(U)):U,L={type:this.BROADCAST,event:N,payload:F};return u>0&&(L.meta=JSON.parse(R)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST,payload:L}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class S1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Un;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Un||(Un={}));const cb=(t,e,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=$k(u,t,e,a),o),{}):{}},$k=(t,e,n,s)=>{const a=e.find(g=>g.name===t),o=a==null?void 0:a.type,u=n[t];return o&&!s.includes(o)?E1(o,u):iy(u)},E1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Hk(e,n)}switch(t){case Un.bool:return zk(e);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return Vk(e);case Un.json:case Un.jsonb:return Fk(e);case Un.timestamp:return Gk(e);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:return iy(e);default:return iy(e)}},iy=t=>t,zk=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vk=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Fk=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Hk=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(g=>E1(e,g))}return t},Gk=t=>typeof t=="string"?t.replace(" ","T"):t,C1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class k0{constructor(e,n,s={},a=ry){this.channel=e,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ub;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ub||(ub={}));class ch{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:o,onLeave:u,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ch.syncState(this.state,a,o,u),this.pendingDiffs.forEach(v=>{this.state=ch.syncDiff(this.state,v,o,u)}),this.pendingDiffs=[],g()}),this.channel._on(s.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ch.syncDiff(this.state,a,o,u),g())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,a){const o=this.cloneDeep(e),u=this.transformState(n),g={},v={};return this.map(o,(p,N)=>{u[p]||(v[p]=N)}),this.map(u,(p,N)=>{const R=o[p];if(R){const U=N.map(re=>re.presence_ref),F=R.map(re=>re.presence_ref),L=N.filter(re=>F.indexOf(re.presence_ref)<0),Q=R.filter(re=>U.indexOf(re.presence_ref)<0);L.length>0&&(g[p]=L),Q.length>0&&(v[p]=Q)}else g[p]=N}),this.syncDiff(o,{joins:g,leaves:v},s,a)}static syncDiff(e,n,s,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(o,(g,v)=>{var p;const N=(p=e[g])!==null&&p!==void 0?p:[];if(e[g]=this.cloneDeep(v),N.length>0){const R=e[g].map(F=>F.presence_ref),U=N.filter(F=>R.indexOf(F.presence_ref)<0);e[g].unshift(...U)}s(g,N,v)}),this.map(u,(g,v)=>{let p=e[g];if(!p)return;const N=v.map(R=>R.presence_ref);p=p.filter(R=>N.indexOf(R.presence_ref)<0),e[g]=p,a(g,p,v),p.length===0&&delete e[g]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const a=e[s];return"metas"in a?n[s]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[s]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var db;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(db||(db={}));var uh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uh||(uh={}));var Ia;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ia||(Ia={}));class qy{constructor(e,n={config:{}},s){var a,o;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new k0(this,Ks.join,this.params,this.timeout),this.rejoinTimer=new S1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ur.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ks.reply,{},(u,g)=>{this._trigger(this._replyEventName(g),u)}),this.presence=new ch(this),this.broadcastEndpointURL=C1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ur.closed){const{config:{broadcast:u,presence:g,private:v}}=this.params,p=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(F=>F.filter))!==null&&a!==void 0?a:[],N=!!this.bindings[uh.PRESENCE]&&this.bindings[uh.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,R={},U={broadcast:u,presence:Object.assign(Object.assign({},g),{enabled:N}),postgres_changes:p,private:v};this.socket.accessTokenValue&&(R.access_token=this.socket.accessTokenValue),this._onError(F=>e==null?void 0:e(Ia.CHANNEL_ERROR,F)),this._onClose(()=>e==null?void 0:e(Ia.CLOSED)),this.updateJoinPayload(Object.assign({config:U},R)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:F})=>{var L;if(this.socket.setAuth(),F===void 0){e==null||e(Ia.SUBSCRIBED);return}else{const Q=this.bindings.postgres_changes,re=(L=Q==null?void 0:Q.length)!==null&&L!==void 0?L:0,ce=[];for(let ue=0;ue<re;ue++){const te=Q[ue],{filter:{event:se,schema:le,table:me,filter:ve}}=te,Re=F&&F[ue];if(Re&&Re.event===se&&Re.schema===le&&Re.table===me&&Re.filter===ve)ce.push(Object.assign(Object.assign({},te),{id:Re.id}));else{this.unsubscribe(),this.state=ur.errored,e==null||e(Ia.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ce,e&&e(Ia.SUBSCRIBED);return}}).receive("error",F=>{this.state=ur.errored,e==null||e(Ia.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(F).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ia.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===ur.joined&&e===uh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var a;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(g.status===202)return{success:!0};let v=g.statusText;try{const p=await g.json();v=p.error||p.message||v}catch{}return Promise.reject(new Error(v))}async send(e,n={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,g,v;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((v=(g=(u=this.params)===null||u===void 0?void 0:u.config)===null||g===void 0?void 0:g.broadcast)===null||v===void 0)&&v.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ur.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ks.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new k0(this,Ks.leave,{},e),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ur.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const a=new AbortController,o=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new k0(this,e,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Bk){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var a,o;const u=e.toLocaleLowerCase(),{close:g,error:v,leave:p,join:N}=Ks;if(s&&[g,v,p,N].indexOf(u)>=0&&s!==this._joinRef())return;let U=this._onMessage(u,n,s);if(n&&!U)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(F=>{var L,Q,re;return((L=F.filter)===null||L===void 0?void 0:L.event)==="*"||((re=(Q=F.filter)===null||Q===void 0?void 0:Q.event)===null||re===void 0?void 0:re.toLocaleLowerCase())===u}).map(F=>F.callback(U,s)):(o=this.bindings[u])===null||o===void 0||o.filter(F=>{var L,Q,re,ce,ue,te;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in F){const se=F.id,le=(L=F.filter)===null||L===void 0?void 0:L.event;return se&&((Q=n.ids)===null||Q===void 0?void 0:Q.includes(se))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((re=n.data)===null||re===void 0?void 0:re.type.toLocaleLowerCase()))}else{const se=(ue=(ce=F==null?void 0:F.filter)===null||ce===void 0?void 0:ce.event)===null||ue===void 0?void 0:ue.toLocaleLowerCase();return se==="*"||se===((te=n==null?void 0:n.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return F.type.toLocaleLowerCase()===u}).map(F=>{if(typeof U=="object"&&"ids"in U){const L=U.data,{schema:Q,table:re,commit_timestamp:ce,type:ue,errors:te}=L;U=Object.assign(Object.assign({},{schema:Q,table:re,commit_timestamp:ce,eventType:ue,new:{},old:{},errors:te}),this._getPayloadRecords(L))}F.callback(U,s)})}_isClosed(){return this.state===ur.closed}_isJoined(){return this.state===ur.joined}_isJoining(){return this.state===ur.joining}_isLeaving(){return this.state===ur.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===s&&qy.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ks.close,{},e)}_onError(e){this._on(Ks.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ur.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=cb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=cb(e.columns,e.old_record)),n}}const I0=()=>{},Km={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yk=[1e3,2e3,5e3,1e4],Jk=1e4,Kk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wk{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ry,this.transport=null,this.heartbeatIntervalMs=Km.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=I0,this.ref=0,this.reconnectTimer=null,this.vsn=lb,this.logger=I0,this.conn=null,this.sendBuffer=[],this.serializer=new qk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sy.websocket}`,this.httpEndpoint=C1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mk.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Vl.connecting:return Fl.Connecting;case Vl.open:return Fl.Open;case Vl.closing:return Fl.Closing;default:return Fl.Closed}}isConnected(){return this.connectionState()===Fl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===s);if(a)return a;{const o=new qy(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:s,payload:a,ref:o}=e,u=()=>{this.encode(e,g=>{var v;(v=this.conn)===null||v===void 0||v.send(g)})};this.log("push",`${n} ${s} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Lk,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Km.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:o,ref:u}=n,g=u?`(${u})`:"",v=o.status||"";this.log("receive",`${v} ${s} ${a} ${g}`.trim(),o),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(a,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vl.open||this.conn.readyState===Vl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ks.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${s}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([Kk],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:Uk};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Ks.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new S1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Km.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,a,o,u,g,v,p,N,R,U,F;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:ry,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Km.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(g=e==null?void 0:e.heartbeatCallback)!==null&&g!==void 0?g:I0,this.vsn=(v=e==null?void 0:e.vsn)!==null&&v!==void 0?v:lb,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(L=>Yk[L-1]||Jk),this.vsn){case _1:this.encode=(N=e==null?void 0:e.encode)!==null&&N!==void 0?N:((L,Q)=>Q(JSON.stringify(L))),this.decode=(R=e==null?void 0:e.decode)!==null&&R!==void 0?R:((L,Q)=>Q(JSON.parse(L)));break;case jk:this.encode=(U=e==null?void 0:e.encode)!==null&&U!==void 0?U:this.serializer.encode.bind(this.serializer),this.decode=(F=e==null?void 0:e.decode)!==null&&F!==void 0?F:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $y extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qk extends $y{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ay extends $y{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const zy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xk=()=>Response,oy=t=>{if(Array.isArray(t))return t.map(n=>oy(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=oy(s)}),e},Zk=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},R0=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},eI=(t,e,n)=>_t(void 0,void 0,void 0,function*(){const s=yield Xk();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(a=>{const o=t.status||500,u=(a==null?void 0:a.statusCode)||o+"";e(new Qk(R0(a),o,u))}).catch(a=>{e(new ay(R0(a),a))}):e(new ay(R0(t),t))}),tI=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?a:(Zk(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function _h(t,e,n,s,a,o){return _t(this,void 0,void 0,function*(){return new Promise((u,g)=>{t(n,tI(e,s,a,o)).then(v=>{if(!v.ok)throw v;return s!=null&&s.noResolveJson?v:v.json()}).then(v=>u(v)).catch(v=>eI(v,g,s))})})}function hh(t,e,n,s){return _t(this,void 0,void 0,function*(){return _h(t,"GET",e,n,s)})}function _i(t,e,n,s,a){return _t(this,void 0,void 0,function*(){return _h(t,"POST",e,s,a,n)})}function ly(t,e,n,s,a){return _t(this,void 0,void 0,function*(){return _h(t,"PUT",e,s,a,n)})}function nI(t,e,n,s){return _t(this,void 0,void 0,function*(){return _h(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Vy(t,e,n,s,a){return _t(this,void 0,void 0,function*(){return _h(t,"DELETE",e,s,a,n)})}class rI{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return _t(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fn(e))return{data:null,error:e};throw e}})}}var T1;class sI{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[T1]="BlobDownloadBuilder",this.promise=null}asStream(){return new rI(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return _t(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Fn(e))return{data:null,error:e};throw e}})}}T1=Symbol.toStringTag;const iI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aI{constructor(e,n={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,a){return _t(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},fb),a);let g=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const v=u.metadata;typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),v&&o.append("metadata",this.encodeMetadata(v)),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),v&&!o.has("metadata")&&o.append("metadata",this.encodeMetadata(v))):(o=s,g["cache-control"]=`max-age=${u.cacheControl}`,g["content-type"]=u.contentType,v&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(v))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a!=null&&a.headers&&(g=Object.assign(Object.assign({},g),a.headers));const p=this._removeEmptyFolders(n),N=this._getFinalPath(p),R=yield(e=="PUT"?ly:_i)(this.fetch,`${this.url}/object/${N}`,o,Object.assign({headers:g},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:R.Id,fullPath:R.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Fn(o))return{data:null,error:o};throw o}})}upload(e,n,s){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,a){return _t(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),u=this._getFinalPath(o),g=new URL(this.url+`/object/upload/sign/${u}`);g.searchParams.set("token",n);try{let v;const p=Object.assign({upsert:fb.upsert},a),N=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",p.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",p.cacheControl)):(v=s,N["cache-control"]=`max-age=${p.cacheControl}`,N["content-type"]=p.contentType);const R=yield ly(this.fetch,g.toString(),v,{headers:N});return{data:{path:o,fullPath:R.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Fn(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(e,n){return _t(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const o=yield _i(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(this.url+o.url),g=u.searchParams.get("token");if(!g)throw new $y("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:g},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}update(e,n,s){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return _t(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fn(a))return{data:null,error:a};throw a}})}copy(e,n,s){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield _i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,s){return _t(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),o=yield _i(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,s){return _t(this,void 0,void 0,function*(){try{const a=yield _i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fn(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=o?`?${o}`:"",g=this._getFinalPath(e),v=()=>hh(this.fetch,`${this.url}/${a}/${g}${u}`,{headers:this.headers,noResolveJson:!0});return new sI(v,this.shouldThrowOnError)}info(e){return _t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield hh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:oy(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}exists(e){return _t(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield nI(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s)&&s instanceof ay){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),a=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&a.push(o);const g=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});v!==""&&a.push(v);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${s}${p}`)}}}remove(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}list(e,n,s){return _t(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},iI),n),{prefix:e||""});return{data:yield _i(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fn(a))return{data:null,error:a};throw a}})}listV2(e,n){return _t(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield _i(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const A1="2.81.1",N1={"X-Client-Info":`storage-js/${A1}`};class oI{constructor(e,n={},s,a){this.shouldThrowOnError=!1;const o=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N1),n),this.fetch=zy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return _t(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield hh(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield hh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}createBucket(e){return _t(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Fn(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return _t(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Fn(s))return{data:null,error:s};throw s}})}emptyBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class lI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},N1),n),this.fetch=zy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}listBuckets(e){return _t(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const s=n.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield hh(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Vy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fn(n))return{data:null,error:n};throw n}})}}const Fy={"X-Client-Info":`storage-js/${A1}`,"Content-Type":"application/json"};class k1 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Es(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class D0 extends k1{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cI extends k1{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var hb;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(hb||(hb={}));const Hy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),uI=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pb=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dI=(t,e,n)=>_t(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const a=t.status||500,o=t;if(typeof o.json=="function")o.json().then(u=>{const g=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||a+"";e(new D0(pb(u),a,g))}).catch(()=>{const u=a+"",g=o.statusText||`HTTP ${a} error`;e(new D0(g,a,u))});else{const u=a+"",g=o.statusText||`HTTP ${a} error`;e(new D0(g,a,u))}}else e(new cI(pb(t),t))}),fI=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(uI(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),n)):a};function hI(t,e,n,s,a,o){return _t(this,void 0,void 0,function*(){return new Promise((u,g)=>{t(n,fI(e,s,a,o)).then(v=>{if(!v.ok)throw v;if(s!=null&&s.noResolveJson)return v;const p=v.headers.get("content-type");return!p||!p.includes("application/json")?{}:v.json()}).then(v=>u(v)).catch(v=>dI(v,g,s))})})}function Cs(t,e,n,s,a){return _t(this,void 0,void 0,function*(){return hI(t,"POST",e,s,a,n)})}class pI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=Hy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Cs(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}getIndex(e,n){return _t(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Es(s))return{data:null,error:s};throw s}})}listIndexes(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return _t(this,void 0,void 0,function*(){try{return{data:(yield Cs(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Es(s))return{data:null,error:s};throw s}})}}class mI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=Hy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Cs(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}getVectors(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}listVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Cs(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}queryVectors(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}deleteVectors(e){return _t(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Cs(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}}class gI{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),n),this.fetch=Hy(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Cs(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}getBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}listBuckets(){return _t(this,arguments,void 0,function*(e={}){try{return{data:yield Cs(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _t(this,void 0,void 0,function*(){try{return{data:(yield Cs(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Es(n))return{data:null,error:n};throw n}})}}class yI extends gI{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new vI(this.url,this.headers,e,this.fetch)}}class vI extends pI{constructor(e,n,s,a){super(e,n,a),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return _t(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return _t(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return _t(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return _t(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new xI(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class xI extends mI{constructor(e,n,s,a,o){super(e,n,o),this.vectorBucketName=s,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return _t(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return _t(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return _t(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return _t(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return _t(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class bI extends oI{constructor(e,n={},s,a){super(e,n,s,a)}from(e){return new aI(this.url,this.headers,e,this.fetch)}get vectors(){return new yI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lI(this.url+"/iceberg",this.headers,this.fetch)}}const wI="2.81.1";let oh="";typeof Deno<"u"?oh="deno":typeof document<"u"?oh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oh="react-native":oh="node";const _I={"X-Client-Info":`supabase-js-${oh}/${wI}`},SI={headers:_I},EI={schema:"public"},CI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},TI={},AI=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),NI=()=>Headers,kI=(t,e,n)=>{const s=AI(n),a=NI();return async(o,u)=>{var g;const v=(g=await e())!==null&&g!==void 0?g:t;let p=new a(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${v}`),s(o,Object.assign(Object.assign({},u),{headers:p}))}};function II(t){return t.endsWith("/")?t:t+"/"}function RI(t,e){var n,s;const{db:a,auth:o,realtime:u,global:g}=t,{db:v,auth:p,realtime:N,global:R}=e,U={db:Object.assign(Object.assign({},v),a),auth:Object.assign(Object.assign({},p),o),realtime:Object.assign(Object.assign({},N),u),storage:{},global:Object.assign(Object.assign(Object.assign({},R),g),{headers:Object.assign(Object.assign({},(n=R==null?void 0:R.headers)!==null&&n!==void 0?n:{}),(s=g==null?void 0:g.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?U.accessToken=t.accessToken:delete U.accessToken,U}function DI(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(II(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const I1="2.81.1",Iu=30*1e3,cy=3,P0=cy*Iu,PI="http://localhost:9999",MI="supabase.auth.token",OI={"X-Client-Info":`gotrue-js/${I1}`},uy="X-Supabase-Api-Version",R1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jI=600*1e3;class ph extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Et(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class LI extends ph{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function BI(t){return Et(t)&&t.name==="AuthApiError"}class Hl extends ph{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Lo extends ph{constructor(e,n,s,a){super(e,s,a),this.name=n,this.status=s}}class bi extends Lo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qI(t){return Et(t)&&t.name==="AuthSessionMissingError"}class Eu extends Lo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wm extends Lo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qm extends Lo{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $I(t){return Et(t)&&t.name==="AuthImplicitGrantRedirectError"}class mb extends Lo{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dy extends Lo{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function M0(t){return Et(t)&&t.name==="AuthRetryableFetchError"}class gb extends Lo{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class fy extends Lo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const fg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yb=` 	
\r=`.split(""),zI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yb.length;e+=1)t[yb[e].charCodeAt(0)]=-2;for(let e=0;e<fg.length;e+=1)t[fg[e].charCodeAt(0)]=e;return t})();function vb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fg[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(fg[s]),e.queuedBits-=6}}function D1(t,e,n){const s=zI[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xb(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{HI(u,s,n)};for(let u=0;u<t.length;u+=1)D1(t.charCodeAt(u),a,o);return e.join("")}function VI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function FI(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}VI(s,e)}}function HI(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Lu(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)D1(t.charCodeAt(a),n,s);return new Uint8Array(e)}function GI(t){const e=[];return FI(t,n=>e.push(n)),new Uint8Array(e)}function Yl(t){const e=[],n={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>vb(a,n,s)),vb(null,n,s),e.join("")}function YI(t){return Math.round(Date.now()/1e3)+t}function JI(){return Symbol("auth-callback")}const _r=()=>typeof window<"u"&&typeof document<"u",Bl={tested:!1,writable:!1},P1=()=>{if(!_r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bl.tested)return Bl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bl.tested=!0,Bl.writable=!0}catch{Bl.tested=!0,Bl.writable=!1}return Bl.writable};function KI(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((s,a)=>{e[a]=s}),e}const M1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),WI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ru=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ql=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ro=async(t,e)=>{await t.removeItem(e)};class Cg{constructor(){this.promise=new Cg.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Cg.promiseConstructor=Promise;function O0(t){const e=t.split(".");if(e.length!==3)throw new fy("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!UI.test(e[s]))throw new fy("JWT not in base64url format");return{header:JSON.parse(xb(e[0])),payload:JSON.parse(xb(e[1])),signature:Lu(e[2]),raw:{header:e[0],payload:e[1]}}}async function QI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XI(t,e){return new Promise((s,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){s(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function ZI(t){return("0"+t.toString(16)).substr(-2)}function eR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,ZI).join("")}async function tR(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function nR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await tR(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cu(t,e,n=!1){const s=eR();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await Ru(t,`${e}-code-verifier`,a);const o=await nR(s);return[o,s===o?"plain":"s256"]}const rR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sR(t){const e=t.headers.get(uy);if(!e||!e.match(rR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function aR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tu(t){if(!oR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function U0(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lR(t,e){return new Proxy(t,{get:(n,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,s,a)}})}function bb(t){return JSON.parse(JSON.stringify(t))}const zl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cR=[502,503,504];async function wb(t){var e;if(!WI(t))throw new dy(zl(t),0);if(cR.includes(t.status))throw new dy(zl(t),t.status);let n;try{n=await t.json()}catch(o){throw new Hl(zl(o),o)}let s;const a=sR(t);if(a&&a.getTime()>=R1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new gb(zl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new bi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new gb(zl(n),t.status,n.weak_password.reasons);throw new LI(zl(n),t.status||500,s)}const uR=(t,e,n,s)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function Pt(t,e,n,s){var a;const o=Object.assign({},s==null?void 0:s.headers);o[uy]||(o[uy]=R1["2024-01-01"].name),s!=null&&s.jwt&&(o.Authorization=`Bearer ${s.jwt}`);const u=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const g=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",v=await dR(t,e,n+g,{headers:o,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(v):{data:Object.assign({},v),error:null}}async function dR(t,e,n,s,a,o){const u=uR(e,s,a,o);let g;try{g=await t(n,Object.assign({},u))}catch(v){throw console.error(v),new dy(zl(v),0)}if(g.ok||await wb(g),s!=null&&s.noResolveJson)return g;try{return await g.json()}catch(v){await wb(v)}}function wi(t){var e;let n=null;pR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=YI(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function _b(t){const e=wi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Po(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fR(t){return{data:t,error:null}}function hR(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:o}=t,u=Ju(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:e,email_otp:n,hashed_token:s,redirect_to:a,verification_type:o},v=Object.assign({},u);return{data:{properties:g,user:v},error:null}}function Sb(t){return t}function pR(t){return t.access_token&&t.refresh_token&&t.expires_in}const j0=["global","local","others"];class mR{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=M1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=j0[0]){if(j0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${j0.join(", ")}`);try{return await Pt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Et(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Pt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Po})}catch(s){if(Et(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Ju(e,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Pt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:hR,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Et(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Po})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,a,o,u,g,v;try{const p={nextPage:null,lastPage:0,total:0},N=await Pt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Sb});if(N.error)throw N.error;const R=await N.json(),U=(u=N.headers.get("x-total-count"))!==null&&u!==void 0?u:0,F=(v=(g=N.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return F.length>0&&(F.forEach(L=>{const Q=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),re=JSON.parse(L.split(";")[1].split("=")[1]);p[`${re}Page`]=Q}),p.total=parseInt(U)),{data:Object.assign(Object.assign({},R),p),error:null}}catch(p){if(Et(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Tu(e);try{return await Pt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Po})}catch(n){if(Et(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Tu(e);try{return await Pt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Po})}catch(s){if(Et(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Tu(e);try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Po})}catch(s){if(Et(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Tu(e.userId);try{const{data:n,error:s}=await Pt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Tu(e.userId),Tu(e.id);try{return{data:await Pt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,a,o,u,g,v;try{const p={nextPage:null,lastPage:0,total:0},N=await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Sb});if(N.error)throw N.error;const R=await N.json(),U=(u=N.headers.get("x-total-count"))!==null&&u!==void 0?u:0,F=(v=(g=N.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&v!==void 0?v:[];return F.length>0&&(F.forEach(L=>{const Q=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),re=JSON.parse(L.split(";")[1].split("=")[1]);p[`${re}Page`]=Q}),p.total=parseInt(U)),{data:Object.assign(Object.assign({},R),p),error:null}}catch(p){if(Et(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Pt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Pt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Et(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await Pt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Et(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Pt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Et(n))return{data:null,error:n};throw n}}}function Eb(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Au={debug:!!(globalThis&&P1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class O1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gR extends O1{}async function yR(t,e,n){Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Au.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Au.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Au.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function vR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function U1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function xR(t){return parseInt(t,16)}function bR(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function wR(t){var e;const{chainId:n,domain:s,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:g,requestId:v,resources:p,scheme:N,uri:R,version:U}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!R)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(U!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${U}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const F=U1(t.address),L=N?`${N}://${s}`:s,Q=t.statement?`${t.statement}
`:"",re=`${L} wants you to sign in with your Ethereum account:
${F}

${Q}`;let ce=`URI: ${R}
Version: ${U}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(ce+=`
Expiration Time: ${a.toISOString()}`),g&&(ce+=`
Not Before: ${g.toISOString()}`),v&&(ce+=`
Request ID: ${v}`),p){let ue=`
Resources:`;for(const te of p){if(!te||typeof te!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${te}`);ue+=`
- ${te}`}ce+=ue}return`${re}
${ce}`}class or extends Error{constructor({message:e,code:n,cause:s,name:a}){var o;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(o=a??(s instanceof Error?s.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class hg extends or{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function _R({error:t,options:e}){var n,s,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new or({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new or({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new or({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new or({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new or({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new or({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new or({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new or({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(j1(u)){if(o.rp.id!==u)return new or({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new or({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new or({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function SR({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new or({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new or({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(j1(s)){if(n.rpId!==s)return new or({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new or({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new or({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new or({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ER{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const CR=new ER;function TR(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,a=Ju(t,["challenge","user","excludeCredentials"]),o=Lu(e).buffer,u=Object.assign(Object.assign({},n),{id:Lu(n.id).buffer}),g=Object.assign(Object.assign({},a),{challenge:o,user:u});if(s&&s.length>0){g.excludeCredentials=new Array(s.length);for(let v=0;v<s.length;v++){const p=s[v];g.excludeCredentials[v]=Object.assign(Object.assign({},p),{id:Lu(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return g}function AR(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Ju(t,["challenge","allowCredentials"]),a=Lu(e).buffer,o=Object.assign(Object.assign({},s),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const g=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},g),{id:Lu(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return o}function NR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Yl(new Uint8Array(t.response.attestationObject)),clientDataJSON:Yl(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Yl(new Uint8Array(a.authenticatorData)),clientDataJSON:Yl(new Uint8Array(a.clientDataJSON)),signature:Yl(new Uint8Array(a.signature)),userHandle:a.userHandle?Yl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function j1(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Cb(){var t,e;return!!(_r()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function IR(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hg("Browser returned unexpected credential type",e)}:{data:null,error:new hg("Empty credential response",e)}}catch(e){return{data:null,error:_R({error:e,options:t})}}}async function RR(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hg("Browser returned unexpected credential type",e)}:{data:null,error:new hg("Empty credential response",e)}}catch(e){return{data:null,error:SR({error:e,options:t})}}}const DR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},PR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pg(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))s[o]=u;else if(n(u))s[o]=u;else if(e(u)){const g=s[o];e(g)?s[o]=pg(g,u):s[o]=pg(u)}else s[o]=u}return s}function MR(t,e){return pg(DR,t,e||{})}function OR(t,e){return pg(PR,t,e||{})}class UR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:a},o){try{const{data:u,error:g}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!u)return{data:null,error:g};const v=a??CR.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=MR(u.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:N,error:R}=await IR({publicKey:p,signal:v});return N?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:N}},error:null}:{data:null,error:R}}case"request":{const p=OR(u.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:N,error:R}=await RR(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:v}));return N?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:N}},error:null}:{data:null,error:R}}}}catch(u){return Et(u)?{data:null,error:u}:{data:null,error:new Hl("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new ph("rpId is required for WebAuthn authentication")};try{if(!Cb())return{data:null,error:new Hl("Browser does not support WebAuthn",null)};const{data:u,error:g}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:o});if(!u)return{data:null,error:g};const{webauthn:v}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:v.type,rpId:n,rpOrigins:s,credential_response:v.credential_response}})}catch(u){return Et(u)?{data:null,error:u}:{data:null,error:new Hl("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new ph("rpId is required for WebAuthn registration")};try{if(!Cb())return{data:null,error:new Hl("Browser does not support WebAuthn",null)};const{data:u,error:g}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(N=>{var R;return(R=N.data)===null||R===void 0?void 0:R.all.find(U=>U.factor_type==="webauthn"&&U.friendly_name===e&&U.status!=="unverified")}).then(N=>N?this.client.mfa.unenroll({factorId:N==null?void 0:N.id}):void 0),{data:null,error:g};const{data:v,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:o});return v?this._verify({factorId:u.id,challengeId:v.challengeId,webauthn:{rpId:n,rpOrigins:s,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:p}}catch(u){return Et(u)?{data:null,error:u}:{data:null,error:new Hl("Unexpected error in register",u)}}}}vR();const jR={url:PI,storageKey:MI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Tb(t,e,n){return await n()}const Nu={};class mh{get jwks(){var e,n;return(n=(e=Nu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Nu[this.storageKey]=Object.assign(Object.assign({},Nu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Nu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nu[this.storageKey]=Object.assign(Object.assign({},Nu[this.storageKey]),{cachedAt:e})}constructor(e){var n,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},jR),e);if(this.storageKey=o.storageKey,this.instanceID=(n=mh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&_r()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new mR({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=M1(o.fetch),this.lock=o.lock||Tb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:_r()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yR:this.lock=Tb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new UR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:P1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Eb(this.memoryStorage)),_r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I1}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},s="none";if(_r()&&(n=KI(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),_r()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),$I(o)){const v=(e=o.details)===null||e===void 0?void 0:e.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:g}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",g),await this._saveSession(u),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Et(n)?this._returnResult({error:n}):this._returnResult({error:new Hl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,a;try{const o=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:wi}),{data:u,error:g}=o;if(g||!u)return this._returnResult({data:{user:null,session:null},error:g});const v=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(o){if(Et(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,s,a;try{let o;if("email"in e){const{email:N,password:R,options:U}=e;let F=null,L=null;this.flowType==="pkce"&&([F,L]=await Cu(this.storage,this.storageKey)),o=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:U==null?void 0:U.emailRedirectTo,body:{email:N,password:R,data:(n=U==null?void 0:U.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:U==null?void 0:U.captchaToken},code_challenge:F,code_challenge_method:L},xform:wi})}else if("phone"in e){const{phone:N,password:R,options:U}=e;o=await Pt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:N,password:R,data:(s=U==null?void 0:U.data)!==null&&s!==void 0?s:{},channel:(a=U==null?void 0:U.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:U==null?void 0:U.captchaToken}},xform:wi})}else throw new Wm("You must provide either an email or phone number and a password");const{data:u,error:g}=o;if(g||!u)return this._returnResult({data:{user:null,session:null},error:g});const v=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(o){if(Et(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:g}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_b})}else if("phone"in e){const{phone:o,password:u,options:g}=e;n=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:_b})}else throw new Wm("You must provide either an email or phone number and a password");const{data:s,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const o=new Eu;return this._returnResult({data:{user:null,session:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(Et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,s,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,a,o,u,g,v,p,N,R,U;let F,L;if("message"in e)F=e.message,L=e.signature;else{const{chain:Q,wallet:re,statement:ce,options:ue}=e;let te;if(_r())if(typeof re=="object")te=re;else{const Ne=window;if("ethereum"in Ne&&typeof Ne.ethereum=="object"&&"request"in Ne.ethereum&&typeof Ne.ethereum.request=="function")te=Ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof re!="object"||!(ue!=null&&ue.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=re}const se=new URL((n=ue==null?void 0:ue.url)!==null&&n!==void 0?n:window.location.href),le=await te.request({method:"eth_requestAccounts"}).then(Ne=>Ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const me=U1(le[0]);let ve=(s=ue==null?void 0:ue.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!ve){const Ne=await te.request({method:"eth_chainId"});ve=xR(Ne)}const Re={domain:se.host,address:me,statement:ce,uri:se.href,version:"1",chainId:ve,nonce:(a=ue==null?void 0:ue.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=ue==null?void 0:ue.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(g=ue==null?void 0:ue.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(v=ue==null?void 0:ue.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(p=ue==null?void 0:ue.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(N=ue==null?void 0:ue.signInWithEthereum)===null||N===void 0?void 0:N.resources};F=wR(Re),L=await te.request({method:"personal_sign",params:[bR(F),me]})}try{const{data:Q,error:re}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:F,signature:L},!((R=e.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(U=e.options)===null||U===void 0?void 0:U.captchaToken}}:null),xform:wi});if(re)throw re;if(!Q||!Q.session||!Q.user){const ce=new Eu;return this._returnResult({data:{user:null,session:null},error:ce})}return Q.session&&(await this._saveSession(Q.session),await this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:re})}catch(Q){if(Et(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}}async signInWithSolana(e){var n,s,a,o,u,g,v,p,N,R,U,F;let L,Q;if("message"in e)L=e.message,Q=e.signature;else{const{chain:re,wallet:ce,statement:ue,options:te}=e;let se;if(_r())if(typeof ce=="object")se=ce;else{const me=window;if("solana"in me&&typeof me.solana=="object"&&("signIn"in me.solana&&typeof me.solana.signIn=="function"||"signMessage"in me.solana&&typeof me.solana.signMessage=="function"))se=me.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ce!="object"||!(te!=null&&te.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");se=ce}const le=new URL((n=te==null?void 0:te.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in se&&se.signIn){const me=await se.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},te==null?void 0:te.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),ue?{statement:ue}:null));let ve;if(Array.isArray(me)&&me[0]&&typeof me[0]=="object")ve=me[0];else if(me&&typeof me=="object"&&"signedMessage"in me&&"signature"in me)ve=me;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ve&&"signature"in ve&&(typeof ve.signedMessage=="string"||ve.signedMessage instanceof Uint8Array)&&ve.signature instanceof Uint8Array)L=typeof ve.signedMessage=="string"?ve.signedMessage:new TextDecoder().decode(ve.signedMessage),Q=ve.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in se)||typeof se.signMessage!="function"||!("publicKey"in se)||typeof se!="object"||!se.publicKey||!("toBase58"in se.publicKey)||typeof se.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");L=[`${le.host} wants you to sign in with your Solana account:`,se.publicKey.toBase58(),...ue?["",ue,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(a=(s=te==null?void 0:te.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=te==null?void 0:te.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${te.signInWithSolana.notBefore}`]:[],...!((u=te==null?void 0:te.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${te.signInWithSolana.expirationTime}`]:[],...!((g=te==null?void 0:te.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${te.signInWithSolana.chainId}`]:[],...!((v=te==null?void 0:te.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${te.signInWithSolana.nonce}`]:[],...!((p=te==null?void 0:te.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${te.signInWithSolana.requestId}`]:[],...!((R=(N=te==null?void 0:te.signInWithSolana)===null||N===void 0?void 0:N.resources)===null||R===void 0)&&R.length?["Resources",...te.signInWithSolana.resources.map(ve=>`- ${ve}`)]:[]].join(`
`);const me=await se.signMessage(new TextEncoder().encode(L),"utf8");if(!me||!(me instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Q=me}}try{const{data:re,error:ce}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:L,signature:Yl(Q)},!((U=e.options)===null||U===void 0)&&U.captchaToken?{gotrue_meta_security:{captcha_token:(F=e.options)===null||F===void 0?void 0:F.captchaToken}}:null),xform:wi});if(ce)throw ce;if(!re||!re.session||!re.user){const ue=new Eu;return this._returnResult({data:{user:null,session:null},error:ue})}return re.session&&(await this._saveSession(re.session),await this._notifyAllSubscribers("SIGNED_IN",re.session)),this._returnResult({data:Object.assign({},re),error:ce})}catch(re){if(Et(re))return this._returnResult({data:{user:null,session:null},error:re});throw re}}async _exchangeCodeForSession(e){const n=await ql(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:o,error:u}=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:wi});if(await Ro(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const g=new Eu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(Et(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:s,token:a,access_token:o,nonce:u}=e,g=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wi}),{data:v,error:p}=g;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!v||!v.session||!v.user){const N=new Eu;return this._returnResult({data:{user:null,session:null},error:N})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:p})}catch(n){if(Et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,s,a,o,u;try{if("email"in e){const{email:g,options:v}=e;let p=null,N=null;this.flowType==="pkce"&&([p,N]=await Cu(this.storage,this.storageKey));const{error:R}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},create_user:(s=v==null?void 0:v.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:p,code_challenge_method:N},redirectTo:v==null?void 0:v.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:R})}if("phone"in e){const{phone:g,options:v}=e,{data:p,error:N}=await Pt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(a=v==null?void 0:v.data)!==null&&a!==void 0?a:{},create_user:(o=v==null?void 0:v.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(u=v==null?void 0:v.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:N})}throw new Wm("You must provide either an email or phone number.")}catch(g){if(Et(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(e){var n,s;try{let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:g}=await Pt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:wi});if(g)throw g;if(!u)throw new Error("An error occurred on token verification.");const v=u.session,p=u.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:p,session:v},error:null})}catch(a){if(Et(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,s,a,o,u;try{let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Cu(this.storage,this.storageKey));const p=await Pt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:v}),headers:this.headers,xform:fR});return!((o=p.data)===null||o===void 0)&&o.url&&_r()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(g){if(Et(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new bi;const{error:a}=await Pt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Et(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:o}=e,{error:u}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:s,type:a,options:o}=e,{data:u,error:g}=await Pt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:g})}throw new Wm("You must provide either an email or phone number and a type")}catch(n){if(Et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<P0:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await ql(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=U0()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=lR(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Po}):await this._useSession(async n=>{var s,a,o;const{data:u,error:g}=n;if(g)throw g;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bi}:await Pt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Po})})}catch(n){if(Et(n))return qI(n)&&(await this._removeSession(),await Ro(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:a,error:o}=s;if(o)throw o;if(!a.session)throw new bi;const u=a.session;let g=null,v=null;this.flowType==="pkce"&&e.email!=null&&([g,v]=await Cu(this.storage,this.storageKey));const{data:p,error:N}=await Pt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:g,code_challenge_method:v}),jwt:u.access_token,xform:Po});if(N)throw N;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(s){if(Et(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bi;const n=Date.now()/1e3;let s=n,a=!0,o=null;const{payload:u}=O0(e.access_token);if(u.exp&&(s=u.exp,a=s<=n),a){const{data:g,error:v}=await this._callRefreshToken(e.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g)return{data:{user:null,session:null},error:null};o=g}else{const{data:g,error:v}=await this._getUser(e.access_token);if(v)throw v;o={access_token:e.access_token,refresh_token:e.refresh_token,user:g.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(Et(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:u,error:g}=n;if(g)throw g;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new bi;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Et(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!_r())throw new Qm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mb("No code detected.");const{data:ue,error:te}=await this._exchangeCodeForSession(e.code);if(te)throw te;const se=new URL(window.location.href);return se.searchParams.delete("code"),window.history.replaceState(window.history.state,"",se.toString()),{data:{session:ue.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:g,expires_at:v,token_type:p}=e;if(!o||!g||!u||!p)throw new Qm("No session defined in URL");const N=Math.round(Date.now()/1e3),R=parseInt(g);let U=N+R;v&&(U=parseInt(v));const F=U-N;F*1e3<=Iu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${F}s, should have been closer to ${R}s`);const L=U-R;N-L>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",L,U,N):N-L<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",L,U,N);const{data:Q,error:re}=await this._getUser(o);if(re)throw re;const ce={provider_token:s,provider_refresh_token:a,access_token:o,expires_in:R,expires_at:U,refresh_token:u,token_type:p,user:Q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:ce,redirectType:e.type},error:null})}catch(s){if(Et(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:o}=n;if(o)return this._returnResult({error:o});const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:g}=await this.admin.signOut(u,e);if(g&&!(BI(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return e!=="others"&&(await this._removeSession(),await Ro(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=JI(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Cu(this.storage,this.storageKey,!0));try{return await Pt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Et(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:a}=await this._useSession(async o=>{var u,g,v,p,N;const{data:R,error:U}=o;if(U)throw U;const F=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(g=e.options)===null||g===void 0?void 0:g.scopes,queryParams:(v=e.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Pt(this.fetch,"GET",F,{headers:this.headers,jwt:(N=(p=R.session)===null||p===void 0?void 0:p.access_token)!==null&&N!==void 0?N:void 0})});if(a)throw a;return _r()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:e.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(Et(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:u,provider:g,token:v,access_token:p,nonce:N}=e,R=await Pt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=o==null?void 0:o.access_token)!==null&&s!==void 0?s:void 0,body:{provider:g,id_token:v,access_token:p,nonce:N,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:wi}),{data:U,error:F}=R;return F?this._returnResult({data:{user:null,session:null},error:F}):!U||!U.session||!U.user?this._returnResult({data:{user:null,session:null},error:new Eu}):(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("USER_UPDATED",U.session)),this._returnResult({data:U,error:F}))}catch(a){if(Et(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,a;const{data:o,error:u}=n;if(u)throw u;return await Pt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await XI(async a=>(a>0&&await QI(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Pt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wi})),(a,o)=>{const u=200*Math.pow(2,a);return o&&M0(o)&&Date.now()+u-s<Iu})}catch(s){if(this._debug(n,"error",s),Et(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),_r()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ql(this.storage,this.storageKey);if(a&&this.userStorage){let u=await ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Ru(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:U0()}else if(a&&!a.user&&!a.user){const u=await ql(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await Ro(this.storage,this.storageKey+"-user"),await Ru(this.storage,this.storageKey,a)):a.user=U0()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<P0;if(this._debug(s,`session has${o?"":" not"} expired with margin of ${P0}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),M0(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:g}=await this._getUser(a.access_token);!g&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new bi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Cg;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new bi;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const g={data:o.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(o){if(this._debug(a,"error",o),Et(o)){const u={data:null,error:o};return M0(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(e,n)}catch(v){o.push(v)}});if(await Promise.all(u),o.length>0){for(let g=0;g<o.length;g+=1)console.error(o[g]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ru(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=bb(a);await Ru(this.storage,this.storageKey,o)}else{const a=bb(n);await Ru(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ro(this.storage,this.storageKey),await Ro(this.storage,this.storageKey+"-code-verifier"),await Ro(this.storage,this.storageKey+"-user"),this.userStorage&&await Ro(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Iu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Iu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Iu}ms, refresh threshold is ${cy} ticks`),a<=cy&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof O1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[o,u]=await Cu(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(g.toString())}if(s!=null&&s.queryParams){const o=new URLSearchParams(s.queryParams);a.push(o.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:a,error:o}=n;return o?this._returnResult({data:null,error:o}):await Pt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,a;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const g=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:v,error:p}=await Pt(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&v.type==="totp"&&(!((a=v==null?void 0:v.totp)===null||a===void 0)&&a.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?NR(e.webauthn.credential_response):kR(e.webauthn.credential_response)})}:{code:e.code}),{data:g,error:v}=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:v}))})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await Pt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:g}=u;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:TR(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:AR(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=O0(s.access_token);let u=null;o.aal&&(u=o.aal);let g=u;((n=(e=s.user.factors)===null||e===void 0?void 0:e.filter(N=>N.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const p=o.amr||[];return{data:{currentLevel:u,nextLevel:g,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await Pt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new bi})})}catch(n){if(Et(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new bi});const u=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return u.data&&u.data.redirect_url&&_r()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Et(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,n){try{return await this._useSession(async s=>{const{data:{session:a},error:o}=s;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new bi});const u=await Pt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return u.data&&u.data.redirect_url&&_r()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(s){if(Et(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(g=>g.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(g=>g.kid===e),s&&this.jwks_cached_at+jI>a)return s;const{data:o,error:u}=await Pt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,s=o.keys.find(g=>g.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:F,error:L}=await this.getSession();if(L||!F.session)return this._returnResult({data:null,error:L});s=F.session.access_token}const{header:a,payload:o,signature:u,raw:{header:g,payload:v}}=O0(s);n!=null&&n.allowExpired||iR(o.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:F}=await this.getUser(s);if(F)throw F;return{data:{claims:o,header:a,signature:u},error:null}}const N=aR(a.alg),R=await crypto.subtle.importKey("jwk",p,N,!0,["verify"]);if(!await crypto.subtle.verify(N,R,u,GI(`${g}.${v}`)))throw new fy("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(s){if(Et(s))return this._returnResult({data:null,error:s});throw s}}}mh.nextInstanceID={};const LR=mh;class BR extends LR{constructor(e){super(e)}}class qR{constructor(e,n,s){var a,o,u;this.supabaseUrl=e,this.supabaseKey=n;const g=DI(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,p={db:EI,realtime:TI,auth:Object.assign(Object.assign({},CI),{storageKey:v}),global:SI},N=RI(s??{},p);this.storageKey=(a=N.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=N.global.headers)!==null&&o!==void 0?o:{},N.accessToken?(this.accessToken=N.accessToken,this.auth=new Proxy({},{get:(R,U)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(U)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=N.auth)!==null&&u!==void 0?u:{},this.headers,N.global.fetch),this.fetch=kI(n,this._getAccessToken.bind(this),N.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},N.realtime)),this.accessToken&&this.accessToken().then(R=>this.realtime.setAuth(R)).catch(R=>console.warn("Failed to set initial Realtime auth token:",R)),this.rest=new Pk(new URL("rest/v1",g).href,{headers:this.headers,schema:N.db.schema,fetch:this.fetch}),this.storage=new bI(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),N.accessToken||this._listenForAuthEvents()}get functions(){return new kk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:a,userStorage:o,storageKey:u,flowType:g,lock:v,debug:p,throwOnError:N},R,U){const F={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BR({url:this.authUrl.href,headers:Object.assign(Object.assign({},F),R),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:a,userStorage:o,flowType:g,lock:v,debug:p,throwOnError:N,fetch:U,hasCustomAuthorizationHeader:Object.keys(this.headers).some(L=>L.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wk(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $R=(t,e,n)=>new qR(t,e,n);function zR(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zR()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VR="https://xzlqxctmgygpghaubsvt.supabase.co",FR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6bHF4Y3RtZ3lncGdoYXVic3Z0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMxODk3MDUsImV4cCI6MjA3ODc2NTcwNX0.SJKSgc4fwoS9mLamnU75DNmxilBqho-Hi6OgZWEgiO4";let L1=null;L1=$R(VR,FR,{auth:{persistSession:!1}});const Pa=L1,Ab={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Nb={};const HR="simulated_local",GR=HR==="simulated_local",Kl=(t,e)=>{const n=typeof import.meta<"u"&&Ab?Ab[t]:void 0,s=typeof process<"u"&&Nb?Nb[t]:void 0;return(n??s??e??"").toString()},Ra=(()=>{const t=Kl("VITE_ENABLE_DAN","false").toLowerCase();return t==="1"||t==="true"||t==="yes"})(),YR=Kl("VITE_DAN_DERIVATION_SALT","dan-dev-salt");Kl("VITE_DAN_REALTIME_CHANNEL","dan_events");const JR=Kl("VITE_SUPABASE_URL",Kl("SUPABASE_URL","")),KR=Kl("VITE_SUPABASE_ANON_KEY",Kl("SUPABASE_ANON_KEY",""));Ra&&(!JR||!KR)&&console.warn("[Config] DAN is enabled but Supabase credentials are missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY (or SUPABASE_URL/SUPABASE_ANON_KEY) in your environment.");const B1="dan:keypairs:v1",mg="dan:event-buffer:v1",q1=()=>typeof window<"u"&&window.localStorage?window.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:null,Gy=(t,e)=>{const n=q1();if(!n)return e;try{const s=n.getItem(t);return s?JSON.parse(s):e}catch{return e}},Yy=(t,e)=>{const n=q1();if(n)try{n.setItem(t,JSON.stringify(e))}catch{}},WR=t=>Array.from(new Uint8Array(t)).map(e=>e.toString(16).padStart(2,"0")).join(""),QR=()=>{if(typeof globalThis>"u")return null;const t=globalThis.crypto;return t&&t.subtle?t.subtle:null},gg=async t=>{const e=QR();if(!e){let a=0;for(let o=0;o<t.length;o+=1)a=(a<<5)-a+t.charCodeAt(o),a|=0;return`fallback-${Math.abs(a).toString(16)}`}const n=new TextEncoder().encode(t),s=await e.digest("SHA-256",n);return WR(s)},Tg=async t=>{const e=typeof t=="string"?t:JSON.stringify(t??{});return gg(e)},XR=async t=>{const e=`${t}:${bh||"global"}:${YR}`,n=await gg(`${e}:private`),s=await gg(`${n}:public`),a=s.slice(0,16);return{publicKey:s,fingerprint:a,derivedAt:new Date().toISOString(),privateKey:n}},$1=()=>Gy(B1,{}),ZR=t=>Yy(B1,t),e3=t=>$1()[t]||null,z1=(t,e)=>{const n=$1();n[t]=e,ZR(n)},t3=async(t,e)=>{if(!Pa)return!1;try{const n=new Date().toISOString(),{error:s}=await Pa.from("dan_keys").upsert({shop_id:t,namespace:bh,public_key:e.publicKey,fingerprint:e.fingerprint,capability_scope:["local","dan"],last_seen_at:n},{onConflict:"shop_id"});return s?(console.warn("[DAN] Failed to register key with control plane",s),!1):(z1(t,{...e,lastRegisteredAt:n}),!0)}catch(n){return console.warn("[DAN] Error registering key",n),!1}},n3=async()=>{const t=nt;if(!t||!Ra)return null;let e=e3(t);return e||(e=await XR(t),z1(t,e)),Pa&&await t3(t,e),e},r3=async()=>{if(!Pa)return;const t=Gy(mg,[]);if(t.length)try{const e=t.map(s=>({event_id:s.eventId,shop_id:s.shopId,namespace:s.namespace,event_type:s.eventType,payload:s.payload,share_scope:s.shareScope,vector_context:s.vectorContext,proofs:s.proofs,actor_public_key:s.actor.publicKey,actor_fingerprint:s.actor.fingerprint,actor_signature:s.actor.signature,created_at:s.createdAt})),{error:n}=await Pa.from("dan_events").insert(e);n||Yy(mg,[])}catch(e){console.warn("[DAN] Failed to flush buffered events",e)}},Jy=t=>{const e=new Set(["local"]);return(t||[]).forEach(n=>{n&&e.add(n)}),Array.from(e)},s3=t=>Jy(t).includes("dan"),V1=()=>Ra,L0=t=>{const e=Gy(mg,[]);e.push(t),Yy(mg,e)},Ky=async t=>{if(!Ra)return null;const e=nt;if(!e)return null;const n=await n3();if(!n)return null;const s=Jy(t.shareScope),a=JSON.parse(JSON.stringify(t.payload||{})),o=await Tg(a),u=await gg(`${n.privateKey}:${o}`),g={eventId:Kn(),eventType:t.eventType,shopId:e,namespace:bh||null,payload:a,shareScope:s,vectorContext:t.vectorContext||null,proofs:{...t.proofs||{},hash:o},actor:{publicKey:n.publicKey,fingerprint:n.fingerprint,signature:u},createdAt:new Date().toISOString()};if(await r3(),!Pa)return L0(g),g;try{const{error:v}=await Pa.from("dan_events").insert({event_id:g.eventId,shop_id:g.shopId,namespace:g.namespace,event_type:g.eventType,payload:g.payload,share_scope:g.shareScope,vector_context:g.vectorContext,proofs:g.proofs,actor_public_key:g.actor.publicKey,actor_fingerprint:g.actor.fingerprint,actor_signature:g.actor.signature,created_at:g.createdAt});v&&(console.warn("[DAN] Failed to send event to Supabase, buffering",v),L0(g))}catch(v){console.warn("[DAN] Error publishing event, buffering instead",v),L0(g)}return g},F1="dan:policies:v1",H1="dan:policy-runs:v1",G1=()=>typeof window<"u"&&window.localStorage?window.localStorage:typeof globalThis<"u"&&globalThis.localStorage?globalThis.localStorage:null,Y1=(t,e)=>{const n=G1();if(!n)return e;try{const s=n.getItem(t);return s?JSON.parse(s):e}catch{return e}},J1=(t,e)=>{const n=G1();if(n)try{n.setItem(t,JSON.stringify(e))}catch{}},K1=()=>Y1(F1,{}),i3=t=>J1(F1,t),a3=()=>Y1(H1,{}),o3=t=>J1(H1,t),W1=async(t,e)=>{var a;const n=K1();if((a=n[t])!=null&&a.length)return;const s={id:Kn(),shopId:t,name:"Auto-flag low inventory offers",description:"Warns when a DAN offer is created with quantity below 10 units so the shop can replenish locally before sharing.",eventType:"inventory.offer.created",scope:"inventory",version:"1.0",enabled:!0,conditions:[{field:"quantity",operator:"lt",value:10},{field:"shareScope",operator:"includes",value:"dan"}],actions:[{type:"notify",params:{message:"DAN offer shared while stock is below 10 units. Confirm replenishment or adjust sharing scope."}},{type:"create_dan_event",params:{trigger:"policy.auto-alert",shopName:e||"unknown shop"}}],author:"system",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n[t]=[s],i3(n)},kb=async t=>{const e=t||nt;return e?K1()[e]||[]:[]},l3=t=>{const e=a3(),n=e[t.shopId]||[];n.unshift(t),e[t.shopId]=n.slice(0,50),o3(e)},c3=(t,e)=>e.split(".").reduce((n,s)=>{if(n&&typeof n=="object"&&s in n)return n[s]},t),u3=(t,e)=>{const n=c3(e,t.field),s=t.value;switch(t.operator){case"eq":return n===s;case"neq":return n!==s;case"gt":return typeof n=="number"&&n>Number(s);case"gte":return typeof n=="number"&&n>=Number(s);case"lt":return typeof n=="number"&&n<Number(s);case"lte":return typeof n=="number"&&n<=Number(s);case"includes":case"contains":return Array.isArray(n)?n.includes(s):typeof n=="string"?n.toLowerCase().includes(String(s).toLowerCase()):!1;default:return!1}},d3=async(t,e,n)=>{var s,a,o;switch(t.type){case"notify":{const u=((s=t.params)==null?void 0:s.message)||`Policy "${e.name}" triggered for event ${n.eventType}`;console.info(`[PolicyEngine] ${u}`,{policyId:e.id,payload:n.payload});break}case"create_dan_event":{await Ky({eventType:"policy.trigger.executed",payload:{policyId:e.id,policyName:e.name,scope:e.scope,trigger:((a=t.params)==null?void 0:a.trigger)||"policy.action",eventPayload:n.payload}});break}case"tag_inventory":{console.debug("[PolicyEngine] tag_inventory action queued",{policyId:e.id,params:t.params});break}case"call_webhook":{const u=(o=t.params)==null?void 0:o.url;if(!u||typeof fetch>"u")break;try{await fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({policyId:e.id,policyName:e.name,payload:n.payload})})}catch(g){console.warn("[PolicyEngine] call_webhook failed",g)}break}default:console.warn("[PolicyEngine] Unknown action type",t.type)}},Q1=async t=>{var o,u,g;const e=((o=t.payload)==null?void 0:o.shopId)||nt||((g=(u=t.payload)==null?void 0:u.shop)==null?void 0:g.id)||null;if(!e)return;(await kb(e)).length||await W1(e,Hu);const a=(await kb(e)).filter(v=>v.enabled&&v.eventType===t.eventType);if(a.length)for(const v of a){const p=v.conditions.every(R=>u3(R,t.payload)),N={id:Kn(),policyId:v.id,shopId:e,eventType:t.eventType,eventPayload:t.payload,outcome:p?"triggered":"skipped",notes:p?`Policy ${v.name} triggered`:"Condition check failed",createdAt:new Date().toISOString()};if(p)try{for(const R of v.actions)await d3(R,v,t)}catch(R){N.outcome="error",N.notes=`Action error: ${(R==null?void 0:R.message)||"unknown"}`}l3(N)}},X1=()=>nt||null,f3=t=>{const e=X1();return e?t.filter(n=>n.shopId===e):t},h3=t=>t.quantity>0&&t.status!=="EMPTY"&&t.status!=="EXPIRED"&&(!t.status||t.status==="ACTIVE"),Z1=()=>{const t=Array.from(sn.stockItems.values()).filter(h3);return f3(t)},Wy=t=>Jy(t),Ag=t=>V1()&&s3(t),p3=t=>t?t.split("T")[0]:new Date().toISOString().split("T")[0],e_=t=>{if(!t)return null;const e=t.trim();if(!e)return null;const n=e.split(/[\s-]/)[0];return n?n.toUpperCase():null},m3=(t,e)=>{const n=sn.products.get(t);return e||(n==null?void 0:n.name)||t},t_=t=>{for(const e of sn.stockItems.values())if(e.inventoryUuid===t||e.qdrantId===t||String(e.id)===t)return e},g3=async(t,e,n)=>{if(Ag(e.shareScope||t.shareScope))try{const s=Wy(e.shareScope||t.shareScope),a={inventoryUuid:t.inventoryUuid,productId:t.productId,productName:m3(t.productId,e.productName),quantity:t.quantity,expirationDate:p3(t.expirationDate),locationBucket:e_(t.location),sellPrice:t.sellPrice??e.sellPrice??null,batchId:n.batchId,supplierId:t.supplierId||n.supplierId||null,supplierName:n.supplierName||null,shopId:t.shopId,shareScope:s},o=await Tg(a),u=await Ci(`${a.productName} ${a.quantity} ${a.locationBucket||""}`);await Ky({eventType:"inventory.offer.created",payload:{...a,proofHash:o},shareScope:s,vectorContext:u,proofs:{hash:o,link:`qdrant://items/${t.inventoryUuid}`}}),await Q1({eventType:"inventory.offer.created",payload:{...a},proofs:{hash:o}}),await zw({inventoryUuid:t.inventoryUuid,productId:t.productId,productName:a.productName,quantity:t.quantity,expirationDate:a.expirationDate,locationBucket:a.locationBucket,sellPrice:a.sellPrice??null,shopId:t.shopId,shopName:Hu,shareScope:s,proofHash:o,vector:u})}catch(s){console.warn("[DAN] Failed to publish inventory.offer.created",s)}},y3=async(t,e,n)=>{if(Ag(t.shareScope))try{const s=Wy(t.shareScope),a=Math.max((t.quantity||0)-n,0),o={inventoryUuid:t.inventoryUuid,productId:t.productId,productName:e,fulfilledQuantity:n,remainingQuantity:a,saleTimestamp:new Date().toISOString(),batchId:t.batchId,shopId:t.shopId,shareScope:s},u=await Tg(o),g=await Ci(`${o.productName} fulfilled ${n}`);await Ky({eventType:"inventory.offer.fulfilled",payload:{...o,proofHash:u},shareScope:s,vectorContext:g,proofs:{hash:u,link:`qdrant://items/${t.inventoryUuid}`}}),await Q1({eventType:"inventory.offer.fulfilled",payload:o,proofs:{hash:u}}),a<=0?await bk(t.inventoryUuid):await zw({inventoryUuid:t.inventoryUuid,productId:t.productId,productName:e,quantity:a,expirationDate:t.expirationDate,locationBucket:e_(t.location),sellPrice:t.sellPrice,shopId:t.shopId,shopName:Hu,shareScope:s,proofHash:u})}catch(s){console.warn("[DAN] Failed to publish inventory.offer.fulfilled",s)}},v3=async t=>{if(!V1())return;const e=Array.from(sn.stockItems.values()).filter(n=>Ag(n.shareScope));if(e.length)for(const n of t){const s=Array.from(sn.products.values()).find(o=>o.name.toLowerCase()===n.productName.toLowerCase());if(!s)continue;const a=e.find(o=>o.productId===s.id);a&&await y3(a,n.productName,n.quantity)}},Ng=wh,hy=Tw,n_=()=>wk(),gh=t=>{const e=nt,n=(t==null?void 0:t.id)||null;Kx(n?{...t,id:n}:null),e!==n&&(Fw(),Vw(!1),console.log(`[VectorDB] Shop context changed: ${e||"null"} -> ${n||"null"}, resetting initialization`))},kg=()=>X1(),r_=async()=>{if(console.log(`[VectorDB] initializeAndSeedDatabase called, _activeShopId: ${nt}, _initialized: ${X0}`),!nt){console.warn("[VectorDB] initializeAndSeedDatabase: _activeShopId is not set, cannot initialize");return}if(X0){console.log("[VectorDB] initializeAndSeedDatabase: Already initialized, skipping");return}console.log(`[VectorDB] Initializing database for shopId: ${nt}`),await xw(),await cg(),console.log(`[VectorDB] After loadDataFromQdrant: ${sn.products.size} products, ${sn.stockItems.size} stock items`),sn.products.size===0&&sn.stockItems.size===0&&(console.log("[VectorDB] No data found, seeding local store..."),await x3(nt),await cg(),console.log(`[VectorDB] After seeding: ${sn.products.size} products, ${sn.stockItems.size} stock items`)),await W1(nt,Hu),Vw(!0),console.log("[VectorDB] Database initialization complete")},x3=async t=>{const n=(await Yu({name:"Organic Foods Dist."})).id,s=[{supplier:"Organic Foods Dist.",deliveryDate:"2024-06-05",inventoryDate:"2024-06-05"}],a=[{batchIndex:0,productName:"Organic Oat Milk",manufacturer:"Oatly",category:"Beverages",expirationDate:"2024-12-15",quantity:50,quantityType:"cartons",costPerUnit:2.5,location:"Shelf A"}],o=[];s.forEach(u=>{const g=Kn(),v={...u,id:g};sn.batches.set(g,v),o.push(v)});for(const u of a){const g=o[u.batchIndex],v=Z0(u.productName),p={id:v,name:u.productName,manufacturer:u.manufacturer,category:u.category};sn.products.set(v,p),await Gu({name:u.productName,manufacturer:u.manufacturer,category:u.category});const N=Kn(),R={id:Date.now()+Math.random(),inventoryUuid:N,shopId:t,productId:v,batchId:g.id,expirationDate:u.expirationDate,quantity:u.quantity,costPerUnit:u.costPerUnit,location:u.location,supplierId:n||void 0,buyPrice:u.costPerUnit,sellPrice:u.costPerUnit*1.4,images:u.images,scanMetadata:u.scanMetadata||null,createdByUserId:t,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),qdrantId:N,status:"ACTIVE",shareScope:["local"]};sn.stockItems.set(R.id,R),await Xl(R)}console.info(`[Data Service] Seeded starter data for shop ${t}`)},Bu=async(t,e)=>{if(!nt)throw new Error("No shop selected. Shop role/ID required.");await xw();let s=(await jo()).find(R=>{var U;return R.name.toLowerCase()===((U=t.supplier)==null?void 0:U.toLowerCase())});!s&&t.supplier&&(s=await Yu({name:t.supplier}));const a=s==null?void 0:s.id;(await wh()).forEach(R=>{sn.products.has(R.id)||sn.products.set(R.id,{id:R.id,name:R.name,manufacturer:R.manufacturer,category:R.category})});const u=new Map;for(const R of e){let U=Array.from(sn.products.values()).find(F=>F.name.toLowerCase()===R.productName.toLowerCase());if(U)u.set(R.productName,U.id);else{const F=await Gu({name:R.productName,manufacturer:R.manufacturer,category:R.category});sn.products.set(F.id,{id:F.id,name:F.name,manufacturer:F.manufacturer,category:F.category}),u.set(R.productName,F.id)}}const g=Kn(),v={...t,id:g};sn.batches.set(g,v);const p=new Date().toISOString(),N={id:g,shopId:nt||"",supplierId:a||null,deliveryDate:t.deliveryDate||p.split("T")[0],inventoryDate:t.inventoryDate||t.deliveryDate||p.split("T")[0],invoiceNumber:void 0,documents:[],lineItems:e.map(R=>({productId:u.get(R.productName)||Z0(R.productName),productName:R.productName,quantity:R.quantity||0,cost:R.buyPrice??R.costPerUnit??0})),createdAt:p,createdByUserId:nt||""};await Ry(N);for(const R of e){const U=u.get(R.productName)||Z0(R.productName),F=Kn(),L=Wy(R.shareScope),Q=Ag(L),re={id:Date.now()+Math.random(),inventoryUuid:F,shopId:nt||"",productId:U,batchId:g,expirationDate:R.expirationDate,quantity:R.quantity,costPerUnit:R.costPerUnit,location:R.location,supplierId:R.supplierId||a||void 0,buyPrice:R.buyPrice??R.costPerUnit,sellPrice:R.sellPrice??void 0,images:R.images,scanMetadata:R.scanMetadata||null,createdByUserId:nt||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),qdrantId:F,status:"ACTIVE",shareScope:L};Q&&(re.shareProofHash=await Tg({inventoryUuid:F,productId:U,batchId:g,quantity:re.quantity})),sn.stockItems.set(re.id,re),await Xl(re,re.scanMetadata||void 0),Q&&await g3(re,R,{batchId:g,supplierId:re.supplierId,supplierName:t.supplier})}console.log(`[Data Service] Added batch ${v.id} with ${e.length} item types.`)},s_=async(t,e)=>{if(!nt)throw new Error("No shop selected. Shop role/ID required.");const n=t_(t);if(!n)throw new Error(`Inventory item ${t} not found`);const s=e.quantity??n.quantity,a={...n,quantity:s,expirationDate:e.expirationDate??n.expirationDate,costPerUnit:e.costPerUnit??n.costPerUnit,buyPrice:e.buyPrice??e.costPerUnit??n.buyPrice??n.costPerUnit,sellPrice:e.sellPrice??n.sellPrice,location:e.location??n.location,updatedAt:new Date().toISOString(),status:s>0?"ACTIVE":"EMPTY"};return sn.stockItems.set(a.id,a),await Xl(a),a},i_=async t=>{if(!nt)throw new Error("No shop selected. Shop role/ID required.");const e=t_(t);if(!e)throw new Error(`Inventory item ${t} not found`);sn.stockItems.delete(e.id),await Py(e)},Qy=async t=>{if(!nt)throw new Error("No shop selected.");const e=new Map;for(const n of sn.products.values())e.set(n.name,{id:n.id,name:n.name});await hk(t,e),await cg(),await v3(t)},Ig=async()=>_k(()=>Promise.resolve(Z1()),jo),a_=async()=>Array.from(sn.batches.values()),Xy=async()=>Z1(),dh=async t=>{if(!nt)throw new Error("No shop selected.");const e=new Date().toISOString(),n={id:Kn(),shopId:nt,supplierId:t.supplierId,deliveryDate:t.deliveryDate,inventoryDate:t.inventoryDate,invoiceNumber:t.invoiceNumber,documents:t.documents||[],lineItems:t.lineItems||[],createdAt:e,createdByUserId:nt};return await Ry(n),t.lineItems&&t.lineItems.length>0&&await Ow(n,t.lineItems),n},o_=async(t,e)=>{await mk(t,e,async(n,s)=>{await Bu(n,s)},async n=>{await Oy(n)}),await cg()},b3=Object.freeze(Object.defineProperty({__proto__:null,get activeNamespace(){return bh},get activeShopId(){return nt},get activeShopName(){return Hu},addImageForField:Uy,addInventoryBatch:Bu,createBatchForShop:dh,createCanonicalProduct:Gu,createInventoryFromBatch:Ow,createShopNamespace:kw,deleteCanonicalProduct:Cw,deleteInventoryEntry:Py,fetchBatchRecords:Nw,fetchCanonicalProducts:Ng,fetchSuppliersForActiveShop:jo,getActiveShopId:kg,getAllBatches:a_,getAllSales:jw,getAllShops:Dw,getAllStockItems:Xy,getBatchRecords:Aw,getCanonicalProducts:wh,getDanInventoryOffers:n_,getLearnedFieldsForProduct:$w,getMyMarketplaceListings:Bw,getProductSummaries:Ig,initializeAndSeedDatabase:r_,listProductOnMarketplace:Lw,persistInventoryEntry:Xl,persistSale:Oy,purchaseFromMarketplace:o_,recordSale:Qy,registerLocalSupplier:Yu,removeInventoryItem:i_,searchCanonicalProducts:Tw,searchCatalogProducts:hy,searchRelevantInventoryItems:My,setActiveShopContext:gh,updateCanonicalProduct:Ew,updateInventoryItem:s_,upsertBatchRecord:Ry,upsertCustomerRecord:Rw,upsertDriverRecord:Sg,upsertProductDefinition:Iy,upsertShopRecord:Iw,upsertSupplierProfile:Dy,upsertUserProfile:Ql,validateShopExists:Pw},Symbol.toStringTag,{value:"Module"})),w3=async t=>{var e;(e=t.roles)!=null&&e.shop&&await Ql({userId:t.clientId,displayName:t.companyName,email:t.email,contactEmail:t.email,shopId:t.shopId||null,isVerified:!1})},_3=async t=>{var e;(e=t.roles)!=null&&e.driver&&(await Ql({userId:t.clientId,displayName:t.companyName,email:t.email,contactEmail:t.email,isDriverVerified:!1}),t.driverId&&await Sg({id:t.driverId,fullName:t.companyName,contactEmail:t.email,status:"pending",userId:t.clientId}))},S3=async(t,e)=>{if(!dt||!await Nn("users"))return{isVerified:!0,isDriverVerified:!0};try{const n=Zr("users",t),s=await dt.retrieve("users",{ids:[n],with_payload:!0});if(s.points&&s.points.length>0){const a=s.points[0].payload;return{isVerified:e!=null&&e.requiresShopVerification?a.isVerified??!1:!0,isDriverVerified:e!=null&&e.requiresDriverVerification?a.isDriverVerified??!1:!0}}}catch(n){console.error("[Backend] Error fetching verification status:",n)}return{isVerified:!(e!=null&&e.requiresShopVerification),isDriverVerified:!(e!=null&&e.requiresDriverVerification)}},E3=async()=>{if(!dt||!await Nn("users"))return[];try{return(await tr("users",null)).map(e=>{const n=e.payload;return n.shopId&&(n.isVerified===!1||n.isVerified===void 0)?{clientId:n.userId,companyName:n.displayName,contactPerson:n.displayName,address:"",email:n.email,role:"shop",isVerified:!1,isDriverVerified:n.isDriverVerified??!1,shopId:n.shopId,roles:{shop:!0,customer:!1,driver:!1,supplier:!1}}:null}).filter(e=>e!==null)}catch(t){return console.error("[Backend] Error fetching pending clients:",t),[]}},C3=async()=>{if(!dt||!await Nn("users"))return[];try{return(await tr("users",null)).map(e=>{const n=e.payload;return n.shopId&&n.isVerified===!0?{clientId:n.userId,companyName:n.displayName,contactPerson:n.displayName,address:"",email:n.email,role:"shop",isVerified:!0,isDriverVerified:n.isDriverVerified??!1,shopId:n.shopId,roles:{shop:!0,customer:!1,driver:!1,supplier:!1}}:null}).filter(e=>e!==null)}catch(t){return console.error("[Backend] Error fetching verified clients:",t),[]}},T3=async()=>{if(!dt||!await Nn("drivers"))return[];try{return(await tr("drivers",null)).map(e=>{const n=e.payload;return n.status==="pending"&&n.userId?{clientId:n.userId,companyName:n.name||"Driver",contactPerson:n.name||"Driver",address:"",email:n.contact||n.contactEmail||"",role:"driver",isVerified:!0,isDriverVerified:!1,driverId:n.driverId,roles:{shop:!1,customer:!1,driver:!0,supplier:!1}}:null}).filter(e=>e!==null)}catch(t){return console.error("[Backend] Error fetching pending drivers:",t),[]}},A3=async()=>{if(!dt||!await Nn("drivers"))return[];try{return(await tr("drivers",null)).map(e=>{const n=e.payload;return n.status==="verified"&&n.userId?{clientId:n.userId,companyName:n.name||"Driver",contactPerson:n.name||"Driver",address:"",email:n.contact||n.contactEmail||"",role:"driver",isVerified:!0,isDriverVerified:!0,driverId:n.driverId,roles:{shop:!1,customer:!1,driver:!0,supplier:!1}}:null}).filter(e=>e!==null)}catch(t){return console.error("[Backend] Error fetching verified drivers:",t),[]}},N3=async t=>{if(!dt||!await Nn("users")){console.warn("[Backend] Qdrant not available for verification");return}try{const e=Zr("users",t),n=await dt.retrieve("users",{ids:[e],with_payload:!0});if(n.points&&n.points.length>0){const s=n.points[0].payload;await Ql({userId:t,displayName:s.displayName,email:s.email,contactEmail:s.contactEmail,shopId:s.shopId,isVerified:!0,isDriverVerified:s.isDriverVerified}),console.log(`[Backend] Verified shop client: ${s.displayName}`)}else console.warn(`[Backend] User not found for verification: ${t}`)}catch(e){console.error("[Backend] Error verifying client:",e)}},k3=async t=>{if(!dt||!await Nn("users")){console.warn("[Backend] Qdrant not available for driver verification");return}try{const e=Zr("users",t),n=await dt.retrieve("users",{ids:[e],with_payload:!0});if(n.points&&n.points.length>0){const s=n.points[0].payload;await Ql({userId:t,displayName:s.displayName,email:s.email,contactEmail:s.contactEmail,shopId:s.shopId,isVerified:s.isVerified,isDriverVerified:!0});const o=(await tr("drivers",null)).find(u=>u.payload.userId===t);if(o){const u=o.payload;await Sg({id:u.driverId,fullName:u.name||s.displayName,contactEmail:u.contact||u.contactEmail||s.email,status:"verified",userId:t})}console.log(`[Backend] Verified driver: ${s.displayName}`)}else console.warn(`[Backend] User not found for driver verification: ${t}`)}catch(e){console.error("[Backend] Error verifying driver:",e)}},I3=[{id:"peer_1",name:"Gourmet Goods",listings:[{listingId:"gg_1",productName:"Artisanal Cheese",manufacturer:"Cheese Masters",category:"Dairy",quantity:20,quantityType:"kg",price:25.5,seller:{id:"peer_1",name:"Gourmet Goods"}},{listingId:"gg_2",productName:"Truffle Oil",manufacturer:"Italian Imports",category:"Pantry",quantity:50,quantityType:"bottles",price:15,seller:{id:"peer_1",name:"Gourmet Goods"}}]},{id:"peer_2",name:"The Fresh Market",listings:[{listingId:"tfm_1",productName:"Organic Avocados",manufacturer:"Fresh Farms",category:"Produce",quantity:100,quantityType:"units",price:1.5,seller:{id:"peer_2",name:"The Fresh Market"}}]}],R3=async t=>{if(!t.isVerified)throw new Error("User is not verified.");return Promise.resolve(I3.filter(e=>e.id!==t.clientId))},D3=async(t,e)=>{console.log(`[Backend] Consuming listing ${t}, quantity: ${e}`)},P3={};var py=null;function M3(t){try{return crypto.getRandomValues(new Uint8Array(t))}catch{}try{return P3.randomBytes(t)}catch{}if(!py)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return py(t)}function O3(t){py=t}function Zy(t,e){if(t=t||ev,typeof t!="number")throw Error("Illegal arguments: "+typeof t+", "+typeof e);t<4?t=4:t>31&&(t=31);var n=[];return n.push("$2b$"),t<10&&n.push("0"),n.push(t.toString()),n.push("$"),n.push(yg(M3(yh),yh)),n.join("")}function l_(t,e,n){if(typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),typeof t>"u")t=ev;else if(typeof t!="number")throw Error("illegal arguments: "+typeof t);function s(a){Si(function(){try{a(null,Zy(t))}catch(o){a(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);s(n)}else return new Promise(function(a,o){s(function(u,g){if(u){o(u);return}a(g)})})}function c_(t,e){if(typeof e>"u"&&(e=ev),typeof e=="number"&&(e=Zy(e)),typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return my(t,e)}function u_(t,e,n,s){function a(o){typeof t=="string"&&typeof e=="number"?l_(e,function(u,g){my(t,g,o,s)}):typeof t=="string"&&typeof e=="string"?my(t,e,o,s):Si(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,u){a(function(g,v){if(g){u(g);return}o(v)})})}function d_(t,e){for(var n=t.length^e.length,s=0;s<t.length;++s)n|=t.charCodeAt(s)^e.charCodeAt(s);return n===0}function U3(t,e){if(typeof t!="string"||typeof e!="string")throw Error("Illegal arguments: "+typeof t+", "+typeof e);return e.length!==60?!1:d_(c_(t,e.substring(0,e.length-31)),e)}function j3(t,e,n,s){function a(o){if(typeof t!="string"||typeof e!="string"){Si(o.bind(this,Error("Illegal arguments: "+typeof t+", "+typeof e)));return}if(e.length!==60){Si(o.bind(this,null,!1));return}u_(t,e.substring(0,29),function(u,g){u?o(u):o(null,d_(g,e))},s)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);a(n)}else return new Promise(function(o,u){a(function(g,v){if(g){u(g);return}o(v)})})}function L3(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return parseInt(t.split("$")[2],10)}function B3(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);if(t.length!==60)throw Error("Illegal hash length: "+t.length+" != 60");return t.substring(0,29)}function q3(t){if(typeof t!="string")throw Error("Illegal arguments: "+typeof t);return f_(t)>72}var Si=typeof setImmediate=="function"?setImmediate:typeof scheduler=="object"&&typeof scheduler.postTask=="function"?scheduler.postTask.bind(scheduler):setTimeout;function f_(t){for(var e=0,n=0,s=0;s<t.length;++s)n=t.charCodeAt(s),n<128?e+=1:n<2048?e+=2:(n&64512)===55296&&(t.charCodeAt(s+1)&64512)===56320?(++s,e+=4):e+=3;return e}function $3(t){for(var e=0,n,s,a=new Array(f_(t)),o=0,u=t.length;o<u;++o)n=t.charCodeAt(o),n<128?a[e++]=n:n<2048?(a[e++]=n>>6|192,a[e++]=n&63|128):(n&64512)===55296&&((s=t.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++o,a[e++]=n>>18|240,a[e++]=n>>12&63|128,a[e++]=n>>6&63|128,a[e++]=n&63|128):(a[e++]=n>>12|224,a[e++]=n>>6&63|128,a[e++]=n&63|128);return a}var ku="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Do=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function yg(t,e){var n=0,s=[],a,o;if(e<=0||e>t.length)throw Error("Illegal len: "+e);for(;n<e;){if(a=t[n++]&255,s.push(ku[a>>2&63]),a=(a&3)<<4,n>=e){s.push(ku[a&63]);break}if(o=t[n++]&255,a|=o>>4&15,s.push(ku[a&63]),a=(o&15)<<2,n>=e){s.push(ku[a&63]);break}o=t[n++]&255,a|=o>>6&3,s.push(ku[a&63]),s.push(ku[o&63])}return s.join("")}function h_(t,e){var n=0,s=t.length,a=0,o=[],u,g,v,p,N,R;if(e<=0)throw Error("Illegal len: "+e);for(;n<s-1&&a<e&&(R=t.charCodeAt(n++),u=R<Do.length?Do[R]:-1,R=t.charCodeAt(n++),g=R<Do.length?Do[R]:-1,!(u==-1||g==-1||(N=u<<2>>>0,N|=(g&48)>>4,o.push(String.fromCharCode(N)),++a>=e||n>=s)||(R=t.charCodeAt(n++),v=R<Do.length?Do[R]:-1,v==-1)||(N=(g&15)<<4>>>0,N|=(v&60)>>2,o.push(String.fromCharCode(N)),++a>=e||n>=s)));)R=t.charCodeAt(n++),p=R<Do.length?Do[R]:-1,N=(v&3)<<6>>>0,N|=p,o.push(String.fromCharCode(N)),++a;var U=[];for(n=0;n<a;n++)U.push(o[n].charCodeAt(0));return U}var yh=16,ev=10,z3=16,V3=100,Ib=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Rb=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],p_=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function vh(t,e,n,s){var a,o=t[e],u=t[e+1];return o^=n[0],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[1],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[2],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[3],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[4],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[5],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[6],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[7],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[8],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[9],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[10],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[11],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[12],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[13],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[14],a=s[o>>>24],a+=s[256|o>>16&255],a^=s[512|o>>8&255],a+=s[768|o&255],u^=a^n[15],a=s[u>>>24],a+=s[256|u>>16&255],a^=s[512|u>>8&255],a+=s[768|u&255],o^=a^n[16],t[e]=u^n[z3+1],t[e+1]=o,t}function Du(t,e){for(var n=0,s=0;n<4;++n)s=s<<8|t[e]&255,e=(e+1)%t.length;return{key:s,offp:e}}function Db(t,e,n){for(var s=0,a=[0,0],o=e.length,u=n.length,g,v=0;v<o;v++)g=Du(t,s),s=g.offp,e[v]=e[v]^g.key;for(v=0;v<o;v+=2)a=vh(a,0,e,n),e[v]=a[0],e[v+1]=a[1];for(v=0;v<u;v+=2)a=vh(a,0,e,n),n[v]=a[0],n[v+1]=a[1]}function F3(t,e,n,s){for(var a=0,o=[0,0],u=n.length,g=s.length,v,p=0;p<u;p++)v=Du(e,a),a=v.offp,n[p]=n[p]^v.key;for(a=0,p=0;p<u;p+=2)v=Du(t,a),a=v.offp,o[0]^=v.key,v=Du(t,a),a=v.offp,o[1]^=v.key,o=vh(o,0,n,s),n[p]=o[0],n[p+1]=o[1];for(p=0;p<g;p+=2)v=Du(t,a),a=v.offp,o[0]^=v.key,v=Du(t,a),a=v.offp,o[1]^=v.key,o=vh(o,0,n,s),s[p]=o[0],s[p+1]=o[1]}function Pb(t,e,n,s,a){var o=p_.slice(),u=o.length,g;if(n<4||n>31)if(g=Error("Illegal number of rounds (4-31): "+n),s){Si(s.bind(this,g));return}else throw g;if(e.length!==yh)if(g=Error("Illegal salt length: "+e.length+" != "+yh),s){Si(s.bind(this,g));return}else throw g;n=1<<n>>>0;var v,p,N=0,R;typeof Int32Array=="function"?(v=new Int32Array(Ib),p=new Int32Array(Rb)):(v=Ib.slice(),p=Rb.slice()),F3(e,t,v,p);function U(){if(a&&a(N/n),N<n)for(var L=Date.now();N<n&&(N=N+1,Db(t,v,p),Db(e,v,p),!(Date.now()-L>V3)););else{for(N=0;N<64;N++)for(R=0;R<u>>1;R++)vh(o,R<<1,v,p);var Q=[];for(N=0;N<u;N++)Q.push((o[N]>>24&255)>>>0),Q.push((o[N]>>16&255)>>>0),Q.push((o[N]>>8&255)>>>0),Q.push((o[N]&255)>>>0);if(s){s(null,Q);return}else return Q}s&&Si(U)}if(typeof s<"u")U();else for(var F;;)if(typeof(F=U())<"u")return F||[]}function my(t,e,n,s){var a;if(typeof t!="string"||typeof e!="string")if(a=Error("Invalid string / salt: Not a string"),n){Si(n.bind(this,a));return}else throw a;var o,u;if(e.charAt(0)!=="$"||e.charAt(1)!=="2")if(a=Error("Invalid salt version: "+e.substring(0,2)),n){Si(n.bind(this,a));return}else throw a;if(e.charAt(2)==="$")o="\0",u=3;else{if(o=e.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||e.charAt(3)!=="$")if(a=Error("Invalid salt revision: "+e.substring(2,4)),n){Si(n.bind(this,a));return}else throw a;u=4}if(e.charAt(u+2)>"$")if(a=Error("Missing salt rounds"),n){Si(n.bind(this,a));return}else throw a;var g=parseInt(e.substring(u,u+1),10)*10,v=parseInt(e.substring(u+1,u+2),10),p=g+v,N=e.substring(u+3,u+25);t+=o>="a"?"\0":"";var R=$3(t),U=h_(N,yh);function F(L){var Q=[];return Q.push("$2"),o>="a"&&Q.push(o),Q.push("$"),p<10&&Q.push("0"),Q.push(p.toString()),Q.push("$"),Q.push(yg(U,U.length)),Q.push(yg(L,p_.length*4-1)),Q.join("")}if(typeof n>"u")return F(Pb(R,U,p));Pb(R,U,p,function(L,Q){L?n(L,null):n(null,F(Q))},s)}function H3(t,e){return yg(t,e)}function G3(t,e){return h_(t,e)}const m_={setRandomFallback:O3,genSaltSync:Zy,genSalt:l_,hashSync:c_,hash:u_,compareSync:U3,compare:j3,getRounds:L3,getSalt:B3,truncates:q3,encodeBase64:H3,decodeBase64:G3},tv=()=>{if(!Pa)throw new Error("Supabase is not configured.");return Pa},g_=t=>t.shop?"shop":t.customer?"customer":t.driver?"driver":"supplier",y_=async t=>{const e={shop:t.is_shop,customer:t.is_customer,driver:t.is_driver,supplier:t.is_supplier},n=await S3(t.id,{requiresShopVerification:t.is_shop,requiresDriverVerification:t.is_driver}),s={clientId:t.id,companyName:t.display_name,contactPerson:t.display_name,address:"",email:t.email,role:g_(e),isVerified:n.isVerified,isDriverVerified:n.isDriverVerified,shopId:t.shop_qdrant_id||void 0,customerId:t.customer_qdrant_id||void 0,driverId:t.driver_qdrant_id||void 0,supplierId:t.supplier_qdrant_id||void 0,roles:e};let a=null;return t.is_shop&&t.shop_qdrant_id&&(a={id:t.shop_qdrant_id,name:t.display_name,contactEmail:t.contact_email,qdrantNamespace:t.qdrant_namespace||void 0}),gh(a),Ql({userId:t.id,qdrantUserId:t.qdrant_user_id||t.id,displayName:t.display_name,email:t.contact_email||t.email,contactEmail:t.contact_email||t.email,shopId:t.shop_qdrant_id||null}).catch(o=>console.error("[Auth] Failed to sync user to Qdrant:",o)),{user:s,shopContext:a}},Y3=async t=>{const e=tv(),{error:n}=await e.from("users").insert([t]);if(n)throw n},J3=async t=>{tv();const e=t.roles;if(!e.shop&&!e.customer&&!e.driver&&!e.supplier)throw new Error("Please select at least one role.");const n=await m_.hash(t.password,10),s=Kn(),a=e.shop?Kn():null,o=e.customer?Kn():null,u=e.driver?Kn():null,g=e.supplier?Kn():null;await Y3({id:s,username:t.username.trim(),email:t.email.trim(),contact_email:t.email.trim(),display_name:t.displayName.trim(),password_hash:n,is_shop:e.shop,is_customer:e.customer,is_driver:e.driver,is_supplier:e.supplier,qdrant_user_id:s,shop_qdrant_id:a,qdrant_namespace:a?`shop-${a}`:null,customer_qdrant_id:o,driver_qdrant_id:u,supplier_qdrant_id:g,metadata:e.driver&&t.licenseId?{licenseId:t.licenseId}:{}}),await Ql({userId:s,qdrantUserId:s,displayName:t.displayName.trim(),email:t.email.trim(),contactEmail:t.email.trim(),shopId:a}),e.shop&&a&&(await kw(),await Iw({id:a,name:t.displayName.trim(),contactEmail:t.email.trim(),userId:s,qdrantNamespace:`shop-${a}`})),e.customer&&o&&await Rw({id:o,fullName:t.displayName.trim(),contactEmail:t.email.trim()}),e.driver&&u&&await Sg({id:u,fullName:t.displayName.trim(),contactEmail:t.email.trim(),status:"pending"}),e.supplier&&g&&await Dy({id:g,name:t.displayName.trim(),contactEmail:t.email.trim(),shopId:t.supplierShopId||null,linkedUserId:t.supplierShopId?null:s});const v={id:s,username:t.username.trim(),email:t.email.trim(),display_name:t.displayName.trim(),contact_email:t.email.trim(),is_shop:e.shop,is_customer:e.customer,is_driver:e.driver,is_supplier:e.supplier,qdrant_user_id:s,shop_qdrant_id:a,qdrant_namespace:a?`shop-${a}`:null,customer_qdrant_id:o,driver_qdrant_id:u,supplier_qdrant_id:g,metadata:{...e.driver&&t.licenseId?{licenseId:t.licenseId}:{},...e.supplier&&t.supplierShopId?{linkedShop:t.supplierShopId}:{}}},p={clientId:s,companyName:t.displayName.trim(),contactPerson:t.displayName.trim(),email:t.email.trim(),role:g_(e),isVerified:!e.shop,isDriverVerified:!e.driver,shopId:a||void 0,driverId:u||void 0,roles:e};return e.shop&&await w3(p),e.driver&&await _3(p),await y_(v)},K3=async t=>{const e=tv(),{data:n,error:s}=await e.from("users").select("*").eq("username",t.username.trim()).single();if(s||!n)throw new Error("Invalid username or password.");if(!await m_.compare(t.password,n.password_hash??""))throw new Error("Invalid username or password.");return await y_(n)},W3=({onSuccess:t})=>{const[e,n]=ee.useState(""),[s,a]=ee.useState(""),[o,u]=ee.useState(null),[g,v]=ee.useState(!1),p=async N=>{N.preventDefault(),v(!0),u(null);try{const R=await K3({username:e.trim(),password:s});t(R)}catch(R){u(R instanceof Error?R.message:"Login failed")}finally{v(!1)}};return m.jsxs("form",{onSubmit:p,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Username"}),m.jsx("input",{type:"text",value:e,onChange:N=>n(N.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",autoComplete:"username",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),m.jsx("input",{type:"password",value:s,onChange:N=>a(N.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",autoComplete:"current-password",required:!0})]}),o&&m.jsx("div",{className:"text-sm text-red-400 bg-red-900/30 border border-red-700 rounded-md px-3 py-2",children:o}),m.jsx("button",{type:"submit",disabled:g,className:"w-full py-2.5 rounded-md bg-cyan-600 hover:bg-cyan-700 text-white font-semibold transition disabled:opacity-60",children:g?"Signing in...":"Sign In"})]})},Q3=({onSuccess:t})=>{const[e,n]=ee.useState(""),[s,a]=ee.useState(""),[o,u]=ee.useState(""),[g,v]=ee.useState(""),[p,N]=ee.useState(""),[R,U]=ee.useState({shop:!1,customer:!1,driver:!1,supplier:!1}),[F,L]=ee.useState(""),[Q,re]=ee.useState(null),[ce,ue]=ee.useState(!1),te=le=>{U(me=>({...me,[le]:!me[le]}))},se=async le=>{le.preventDefault(),ue(!0),re(null);try{if(!(R.shop||R.customer||R.driver||R.supplier))throw new Error("Please select at least one role.");if(R.shop&&!e.trim())throw new Error("Shop owners must provide a shop name.");if(!R.shop&&!e.trim())throw new Error("Please provide your display name.");const ve=await J3({username:s.trim(),email:o.trim(),password:g,displayName:e.trim(),roles:R,licenseId:R.driver?p.trim():void 0,supplierShopId:R.supplier&&F.trim()||void 0});t(ve)}catch(me){re(me instanceof Error?me.message:"Registration failed")}finally{ue(!1)}};return m.jsxs("form",{onSubmit:se,className:"space-y-4",children:[m.jsx("div",{className:"flex space-x-2",children:["shop","customer","driver","supplier"].map(le=>m.jsx("button",{type:"button",onClick:()=>te(le),className:`flex-1 py-2 rounded-md text-sm font-semibold capitalize ${R[le]?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:le},le))}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:R.shop?"Shop Name":"Display Name"}),m.jsx("input",{type:"text",value:e,onChange:le=>n(le.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),m.jsx("input",{type:"email",value:o,onChange:le=>u(le.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Username"}),m.jsx("input",{type:"text",value:s,onChange:le=>a(le.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),m.jsx("input",{type:"password",value:g,onChange:le=>v(le.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0})]}),R.driver&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"License ID (optional)"}),m.jsx("input",{type:"text",value:p,onChange:le=>N(le.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),R.supplier&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Associated Shop ID (optional)"}),m.jsx("input",{type:"text",value:F,onChange:le=>L(le.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Link yourself to a shop UUID if applicable"})]}),Q&&m.jsx("div",{className:"text-sm text-red-400 bg-red-900/30 border border-red-700 rounded-md px-3 py-2",children:Q}),m.jsx("button",{type:"submit",disabled:ce,className:"w-full py-2.5 rounded-md bg-cyan-600 hover:bg-cyan-700 text-white font-semibold transition disabled:opacity-60",children:ce?"Creating...":"Create Account"})]})},v_=({onAuthenticated:t})=>{const[e,n]=ee.useState("login");return m.jsx("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"w-full max-w-lg bg-gray-800 border border-gray-700 rounded-xl p-6 shadow-2xl",children:[m.jsxs("div",{className:"flex space-x-2 mb-6",children:[m.jsx("button",{onClick:()=>n("login"),className:`flex-1 py-2 rounded-md font-semibold ${e==="login"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Login"}),m.jsx("button",{onClick:()=>n("register"),className:`flex-1 py-2 rounded-md font-semibold ${e==="register"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Create Account"})]}),e==="login"?m.jsx(W3,{onSuccess:t}):m.jsx(Q3,{onSuccess:s=>{t(s),n("login")}})]})})},nv=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M12 2L9 9l-7 3 7 3 3 7 3-7 7-3-7-3-3-7z"}),m.jsx("path",{d:"M22 12l-3-1-1-3-1 3-3 1 3 1 1 3 1-3 3-1z"}),m.jsx("path",{d:"M5 3l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2z"})]}),X3=({activeTab:t,onTabChange:e,user:n,onLogout:s,isBackendAvailable:a})=>{var F,L,Q,re;const[o,u]=ee.useState(!1),g=!!((F=n.roles)!=null&&F.shop||n.shopId),v=!!((L=n.roles)!=null&&L.customer||n.customerId),p=!!((Q=n.roles)!=null&&Q.driver||n.driverId),N=!!((re=n.roles)!=null&&re.supplier||n.supplierId),R=(ce,ue=!1)=>{let te="px-3 py-2 rounded-md text-sm font-medium transition-colors";return ue?`${te} text-gray-500 cursor-not-allowed`:(te+=" cursor-pointer",t===ce?`${te} bg-cyan-600 text-white`:`${te} text-gray-300 hover:bg-gray-700 hover:text-white`)},U=!n.isVerified;return m.jsx("header",{className:"bg-gray-800/50 backdrop-blur-sm sticky top-0 z-10",children:m.jsx("div",{className:"container mx-auto px-4 md:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-20 border-b border-gray-700",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx(nv,{className:"w-8 h-8 text-cyan-400"}),m.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"NexusShop"})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("nav",{className:"hidden md:flex items-center space-x-2 p-1 bg-gray-900/50 rounded-lg border border-gray-700",children:[m.jsx("a",{onClick:()=>e("dashboard"),className:R("dashboard"),children:"Dashboard"}),g&&m.jsxs(m.Fragment,{children:[m.jsx("a",{onClick:()=>e("inventory"),className:R("inventory"),children:"Inventory"}),m.jsx("a",{onClick:()=>e("catalog"),className:R("catalog"),children:"Products"}),m.jsx("a",{onClick:()=>e("batches"),className:R("batches"),children:"Batches"}),m.jsx("a",{onClick:()=>!U&&e("marketplace"),className:R("marketplace",U),title:U?"Verification Pending":"Marketplace",children:"Marketplace"}),m.jsx("a",{onClick:()=>e("kiosk"),className:R("kiosk"),children:"Kiosk"})]}),v&&m.jsx("a",{onClick:()=>e("customer"),className:R("customer"),children:"Customer"}),N&&m.jsx("a",{onClick:()=>e("supplier"),className:R("supplier"),children:"Supplier"}),a&&m.jsx("a",{onClick:()=>e("backend"),className:R("backend"),children:"Backend"})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>u(!o),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-700",children:[m.jsx("div",{className:"w-8 h-8 bg-cyan-800 rounded-full flex items-center justify-center text-cyan-300 font-bold",children:n.companyName.charAt(0)}),m.jsx("span",{className:"hidden lg:inline text-sm font-medium text-white",children:n.companyName})]}),o&&m.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-gray-800 border border-gray-700 rounded-md shadow-lg z-20",children:[m.jsxs("div",{className:"px-4 py-3 border-b border-gray-700",children:[m.jsx("p",{className:"text-sm font-semibold text-white truncate",children:n.companyName}),m.jsx("p",{className:"text-xs text-gray-400 capitalize",children:n.role})]}),m.jsxs("div",{className:"px-4 py-2 text-xs text-gray-400",children:["Shop: ",g?m.jsx("span",{className:"text-green-400",children:"Enabled"}):m.jsx("span",{className:"text-gray-500",children:"Off"}),n.shopId&&m.jsxs("span",{className:"text-gray-500 ml-2",children:["(ID: ",n.shopId.slice(0,8),"...)"]})]}),m.jsxs("div",{className:"px-4 py-2 text-xs text-gray-400",children:["Customer: ",v?m.jsx("span",{className:"text-green-400",children:"Enabled"}):m.jsx("span",{className:"text-gray-500",children:"Off"}),n.customerId&&m.jsxs("span",{className:"text-gray-500 ml-2",children:["(ID: ",n.customerId.slice(0,8),"...)"]})]}),m.jsxs("div",{className:"px-4 py-2 text-xs text-gray-400",children:["Driver: ",p?m.jsx("span",{className:"text-green-400",children:"Enabled"}):m.jsx("span",{className:"text-gray-500",children:"Off"}),n.driverId&&m.jsxs("span",{className:"text-gray-500 ml-2",children:["(ID: ",n.driverId.slice(0,8),"...)"]})]}),m.jsxs("div",{className:"px-4 py-2 text-xs text-gray-400 border-b border-gray-700",children:["Supplier: ",N?m.jsx("span",{className:"text-green-400",children:"Enabled"}):m.jsx("span",{className:"text-gray-500",children:"Off"}),n.supplierId&&m.jsxs("span",{className:"text-gray-500 ml-2",children:["(ID: ",n.supplierId.slice(0,8),"...)"]})]}),m.jsx("a",{onClick:s,className:"block w-full text-left px-4 py-2 text-sm text-gray-300 hover:bg-gray-700 cursor-pointer",children:"Logout"})]})]})]}),m.jsx("button",{className:"md:hidden text-gray-300",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})})]})})})},Z3="modulepreload",e4=function(t){return"/"+t},Mb={},x_=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(N=>Promise.resolve(N).then(R=>({status:"fulfilled",value:R}),R=>({status:"rejected",reason:R}))))};document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),v=(g==null?void 0:g.nonce)||(g==null?void 0:g.getAttribute("nonce"));a=u(n.map(p=>{if(p=e4(p),p in Mb)return;Mb[p]=!0;const N=p.endsWith(".css"),R=N?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${R}`))return;const U=document.createElement("link");if(U.rel=N?"stylesheet":Z3,N||(U.as="script"),U.crossOrigin="",U.href=p,v&&U.setAttribute("nonce",v),document.head.appendChild(U),N)return new Promise((F,L)=>{U.addEventListener("load",F),U.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(u){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=u,window.dispatchEvent(g),!g.defaultPrevented)throw u}return a.then(u=>{for(const g of u||[])g.status==="rejected"&&o(g.reason);return e().catch(o)})},t4=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),m.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),b_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),m.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),m.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),qu=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),m.jsx("polyline",{points:"12 6 12 12 16 14"})]}),n4=({toast:t,onRemove:e})=>{const[n,s]=ee.useState(!1);ee.useEffect(()=>{setTimeout(()=>s(!0),10);const u=t.duration??5e3,g=setTimeout(()=>{s(!1),setTimeout(()=>e(t.id),300)},u);return()=>clearTimeout(g)},[t.id,t.duration,e]);const a=()=>{switch(t.type){case"success":return"bg-green-900/90 border-green-700 text-green-100";case"error":return"bg-red-900/90 border-red-700 text-red-100";case"warning":return"bg-yellow-900/90 border-yellow-700 text-yellow-100";case"info":return"bg-cyan-900/90 border-cyan-700 text-cyan-100";default:return"bg-gray-900/90 border-gray-700 text-gray-100"}},o=()=>{switch(t.type){case"success":return m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})});case"error":return m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})});case"warning":return m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})});case"info":return m.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}};return m.jsxs("div",{className:`
        ${a()}
        border rounded-lg shadow-lg p-4 flex items-start space-x-3
        transition-all duration-300 ease-in-out
        ${n?"opacity-100 translate-x-0":"opacity-0 translate-x-full"}
      `,children:[m.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o()}),m.jsx("div",{className:"flex-1 min-w-0",children:m.jsx("p",{className:"text-sm font-medium",children:t.message})}),m.jsx("button",{onClick:()=>{s(!1),setTimeout(()=>e(t.id),300)},className:"flex-shrink-0 text-current opacity-70 hover:opacity-100 transition-opacity","aria-label":"Close",children:m.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})},r4=({toasts:t,onRemove:e})=>m.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(n=>m.jsx(n4,{toast:n,onRemove:e},n.id))});let s4=0;const Xm=new Set,$l=[],Ki=()=>{const[t,e]=ee.useState($l);return ee.useEffect(()=>{const a=o=>e([...o]);return Xm.add(a),a($l),()=>{Xm.delete(a)}},[]),{toasts:t,showToast:(a,o="info",u)=>{const v={id:`toast-${s4++}`,message:a,type:o,duration:u};$l.push(v),Xm.forEach(p=>p([...$l]))},removeToast:a=>{const o=$l.findIndex(u=>u.id===a);o!==-1&&($l.splice(o,1),Xm.forEach(u=>u([...$l])))}}},Zs="AIzaSyBHhPZpibYHsSLYsCGHiavENU_zu2ccR3c";class Ws extends Error{constructor(e="Gemini API is currently overloaded. Please try again in a moment."){super(e),this.name="GeminiOverloadError"}}const Sh=t=>{if(!t)return!1;const e=String(t.message||t.toString()||"").toLowerCase(),n=t.code||t.status||t.statusCode;return n===429||n===503||n==="RESOURCE_EXHAUSTED"||e.includes("quota")||e.includes("rate limit")||e.includes("overload")||e.includes("resource exhausted")||e.includes("too many requests")||e.includes("service unavailable")||e.includes("backend error")||n>=500&&n<600},Ts={productId:{displayName:"Product ID",description:"Canonical product identifier",type:"string"},productName:{displayName:"Product Name",description:"Name of the product",type:"string"},manufacturer:{displayName:"Manufacturer",description:"Manufacturer of the product",type:"string"},category:{displayName:"Category",description:"Product category (e.g., Beverages, Snacks, Produce)",type:"string"},productDescription:{displayName:"Product Description",description:"Detailed description of the product",type:"string"},expirationDate:{displayName:"Exp. Date",description:"Expiration date in YYYY-MM-DD format",type:"string"},quantity:{displayName:"Quantity",description:"Quantity of the product",type:"number"},quantityType:{displayName:"Quantity Type",description:"Unit of measurement (e.g., units, kg, lbs, liters)",type:"string"},costPerUnit:{displayName:"Cost/Unit",description:"Cost per single unit of the product",type:"number"},supplier:{displayName:"Supplier",description:"Supplier or distributor name",type:"string"},deliveryDate:{displayName:"Delivery Date",description:"Delivery date in YYYY-MM-DD format",type:"string"},inventoryDate:{displayName:"Inventory Date",description:"Today's date in YYYY-MM-DD format",type:"string"}},i4={type:gt.OBJECT,properties:{productName:{type:gt.STRING,description:"Name of the product"},manufacturer:{type:gt.STRING,description:"Manufacturer of the product"},category:{type:gt.STRING,description:"A suitable category for the product (e.g., Beverages, Snacks, Dairy, Produce)"},expirationDate:{type:gt.STRING,description:"Expiration date in YYYY-MM-DD format"},quantity:{type:gt.NUMBER,description:"Quantity of the product"},quantityType:{type:gt.STRING,description:"Unit of measurement (e.g., units, kg, lbs, liters)"},costPerUnit:{type:gt.NUMBER,description:"Cost per single unit of the product"},supplier:{type:gt.STRING,description:"Supplier or distributor name, if visible"},deliveryDate:{type:gt.STRING,description:"Delivery date in YYYY-MM-DD format, if visible"}},required:["productName","manufacturer","category","expirationDate","quantity","quantityType","costPerUnit"]},a4={type:gt.OBJECT,properties:{supplierName:{type:gt.STRING,description:"The name of the supplier or vendor."},invoiceNumber:{type:gt.STRING,description:"The invoice or reference number for the delivery."},deliveryDate:{type:gt.STRING,description:"The delivery date in YYYY-MM-DD format."},items:{type:gt.ARRAY,description:"A complete list of all line items from the document.",items:{type:gt.OBJECT,properties:{productName:{type:gt.STRING,description:"The full name of the product as written on the document."},quantity:{type:gt.NUMBER,description:"The quantity of the product delivered."},costPerUnit:{type:gt.NUMBER,description:"The cost for a single unit of the product."}},required:["productName","quantity","costPerUnit"]}}}},Xs=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=()=>{const o=s.result.split(",")[1];e({inlineData:{data:o,mimeType:t.type}})},s.onerror=a=>n(a)}),w_=async t=>{if(t.length===0)throw new Error("No documents provided for analysis.");try{const e=new ls({apiKey:Zs}),n=await Promise.all(t.map(g=>Xs(g))),o=(await e.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[...n,{text:"Analyze these images of shipping documents (e.g., invoice, packing slip). Extract the supplier name, invoice number, delivery date, and a complete list of all line items. For each line item, provide the product name, quantity, and cost per unit. If a value isn't clearly present, omit it. Consolidate information if multiple documents are provided."}]},config:{responseMimeType:"application/json",responseSchema:a4}})).text.trim(),u=JSON.parse(o);if(typeof u!="object"||u===null)throw new Error("Invalid JSON structure received from API");return{supplierName:u.supplierName,invoiceNumber:u.invoiceNumber,deliveryDate:u.deliveryDate,items:u.items||[]}}catch(e){throw console.error("Error analyzing batch documents with Gemini:",e),new Error("Failed to extract batch data from the documents.")}},Rg=async t=>{try{const e=new ls({apiKey:Zs}),n=await Xs(t),a=(await e.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[n,{text:"Analyze this image of a product or delivery note. Extract inventory details. If a value isn't present, make a reasonable guess or use 'N/A' for strings and 0 for numbers. For dates, use YYYY-MM-DD format."}]},config:{responseMimeType:"application/json",responseSchema:i4}})).text.trim(),o=JSON.parse(a);if(typeof o!="object"||o===null)throw new Error("Invalid JSON structure received from API");return{productName:o.productName||"N/A",manufacturer:o.manufacturer||"N/A",category:o.category||"General",expirationDate:o.expirationDate||"N/A",quantity:Number(o.quantity)||0,quantityType:o.quantityType||"units",costPerUnit:Number(o.costPerUnit)||0,supplier:o.supplier,deliveryDate:o.deliveryDate}}catch(e){throw console.error("Error analyzing image with Gemini:",e),Sh(e)?new Ws("Gemini API is currently overloaded. Please wait a moment and try again."):new Error("Failed to extract inventory data from the image.")}},rv=async(t,e)=>{try{const n=new ls({apiKey:Zs}),s=await Xs(t),a=Ts[e],o=`This image contains the ${a.displayName}. Extract ONLY the value for this field. Do not add any extra text, labels, or explanations. Return just the raw value. For dates, use YYYY-MM-DD format.`,g=(await n.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[s,{text:o}]}})).text.trim();if(a.type==="number"){const v=parseFloat(g.replace(/[^0-9.-]+/g,""));return isNaN(v)?0:v}return g}catch(n){throw console.error(`Error analyzing cropped image for field ${e}:`,n),Sh(n)?new Ws("Gemini API is currently overloaded. Please wait a moment and try again."):new Error(`Failed to extract data for ${e}.`)}},__=async(t,e,n)=>{if(t.length===0&&!nt)return"The inventory is currently empty. Please add items to generate a report.";const s=new ls({apiKey:Zs});try{let a="",o=[];if(nt&&n.trim().length>0){const v=await Ci(n);if(o=await My(v,nt,20),o.length>0){const p=o.map(N=>{const R=e.find(F=>F.id===N.batchId),U=t.find(F=>F.productId===N.productId&&String(F.batchId)===String(N.batchId));return{inventoryUuid:N.inventoryUuid,productName:(U==null?void 0:U.productName)||"N/A",manufacturer:(U==null?void 0:U.manufacturer)||"N/A",category:(U==null?void 0:U.category)||"General",expirationDate:N.expirationDate,quantity:N.quantity,quantityType:(U==null?void 0:U.quantityType)||"units",costPerUnit:N.costPerUnit,supplier:R==null?void 0:R.supplier,deliveryDate:R==null?void 0:R.deliveryDate,inventoryDate:R==null?void 0:R.inventoryDate,location:N.location,buyPrice:N.buyPrice,sellPrice:N.sellPrice}});a=JSON.stringify(p,null,2),console.log("RAG applied: sending relevant inventory data to Gemini.")}else a=JSON.stringify(t.map(p=>{const N=e.find(R=>R.id===p.batchId);return{...p,supplier:N==null?void 0:N.supplier,deliveryDate:N==null?void 0:N.deliveryDate,inventoryDate:N==null?void 0:N.inventoryDate}}),null,2),console.warn("No relevant items found via RAG for the given prompt, falling back to full inventory context.")}else a=JSON.stringify(t.map(v=>{const p=e.find(N=>N.id===v.batchId);return{...v,supplier:p==null?void 0:p.supplier,deliveryDate:p==null?void 0:p.deliveryDate,inventoryDate:p==null?void 0:p.inventoryDate}}),null,2),console.log("RAG skipped: using full inventory context for analysis.");const u=`
      Based on the following inventory data, please provide an analysis for the request: "${n}".
      
      Inventory Data:
      ${a}
      
      Please format your response in clear, easy-to-read markdown.
    `;return(await s.models.generateContent({model:"gemini-2.5-pro",contents:u,config:{thinkingConfig:{thinkingBudget:32768}}})).text}catch(a){throw console.error("Error generating inventory report with Gemini Pro:",a),new Error("Failed to generate the inventory report.")}},sv=async(t,e)=>{if(e.length===0)return null;try{const n=new ls({apiKey:Zs}),s=await Xs(t),a=`
      Analyze this image. Identify the main product visible.
      From the following list of known products, which one is it?
      Product list: [${e.join(", ")}]
      Respond with ONLY the name of the product from the list that matches best.
      If no product from the list is clearly identifiable, respond with the exact text "NO_PRODUCT".
    `,u=(await n.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[s,{text:a}]}})).text.trim();return u==="NO_PRODUCT"||!e.includes(u)?null:u}catch(n){if(console.error("Error identifying product:",n),Sh(n))throw new Ws("Gemini API is currently overloaded. Please wait a moment and try again.");return null}},S_=t=>{const e=t.split(","),n=e[0].match(/:(.*?);/);if(!n)throw new Error("Invalid data URL");const s=n[1],a=atob(e[1]);let o=a.length;const u=new Uint8Array(o);for(;o--;)u[o]=a.charCodeAt(o);return new Blob([u],{type:s})},E_=async(t,e,n)=>{try{const s=new ls({apiKey:Zs}),a=await Xs(t),o=await Xs(e),u=Ts[n],g=`The first image is a close-up of a '${u.displayName}'. The second image is a wider view of a product. Find the exact feature from the first image within the second image and extract ONLY its value. Do not add any extra text, labels, or explanations. Return just the raw value. If you cannot find the feature, return the text "NOT_FOUND". For dates, use YYYY-MM-DD format.`,p=(await s.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[o,a,{text:g}]}})).text.trim();if(p==="NOT_FOUND")return null;if(u.type==="number"){const N=parseFloat(p.replace(/[^0-9.-]+/g,""));return isNaN(N)?null:N}return p}catch(s){if(console.error(`Error finding feature for field ${n}:`,s),Sh(s))throw new Ws("Gemini API is currently overloaded. Please wait a moment and try again.");return null}},o4={type:gt.OBJECT,properties:{estimatedQuantity:{type:gt.NUMBER,description:"Estimated total quantity including hidden units"},confidence:{type:gt.NUMBER,description:"Confidence score from 0 to 1"},reasoning:{type:gt.STRING,description:"Explanation of the estimation"},visualAnalysis:{type:gt.STRING,description:"Detailed visual observations"},shelfFullness:{type:gt.NUMBER,description:"Shelf fullness percentage (0-100)"},visibleUnits:{type:gt.NUMBER,description:"Number of units clearly visible"},hiddenUnits:{type:gt.NUMBER,description:"Estimated units hidden behind others"}},required:["estimatedQuantity","confidence","reasoning","visualAnalysis","shelfFullness","visibleUnits"]},C_=async(t,e,n)=>{try{const s=new ls({apiKey:Zs}),a=await Xs(t),o=n?`Expected shelf capacity: ${n} units.`:"No expected capacity provided.",u=`Analyze this shelf photo for ${e}.
        
        Tasks:
        1. Count visible units of the product
        2. Estimate if there are units hidden behind others
        3. Assess shelf fullness (0-100%)
        4. Identify any damage or quality issues
        5. Check expiration dates if visible
        
        ${o}
        
        Provide detailed analysis with confidence score.`,g=await s.models.generateContent({model:"gemini-2.5-pro",contents:{parts:[a,{text:u}]},config:{responseMimeType:"application/json",responseSchema:o4}}),v=JSON.parse(g.text.trim());return{estimatedQuantity:v.estimatedQuantity||0,confidence:Math.max(0,Math.min(1,v.confidence||.5)),reasoning:v.reasoning||"",visualAnalysis:v.visualAnalysis||"",shelfFullness:Math.max(0,Math.min(100,v.shelfFullness||0)),visibleUnits:v.visibleUnits||0,hiddenUnits:v.hiddenUnits}}catch(s){throw console.error("Error estimating stock from shelf photo:",s),new Error("Failed to estimate stock from shelf photo.")}},l4={type:gt.OBJECT,properties:{qualityScore:{type:gt.NUMBER,description:"Overall quality score from 0 to 100"},issues:{type:gt.ARRAY,items:{type:gt.STRING},description:"List of quality issues found"},recommendations:{type:gt.ARRAY,items:{type:gt.STRING},description:"Recommendations for action"},expirationVisible:{type:gt.BOOLEAN,description:"Whether expiration date is visible"},expirationDate:{type:gt.STRING,description:"Detected expiration date in YYYY-MM-DD format if visible"},damageDetected:{type:gt.BOOLEAN,description:"Whether any damage was detected"},damageDescription:{type:gt.STRING,description:"Description of damage if found"},packagingIntegrity:{type:gt.STRING,description:"Packaging condition: good, fair, or poor"}},required:["qualityScore","issues","recommendations","expirationVisible","damageDetected","packagingIntegrity"]},T_=async(t,e,n)=>{try{const s=new ls({apiKey:Zs}),a=await Xs(t),o=n?`Expected expiration: ${n}. Compare detected date with expected.`:"",u=`Analyze this image of ${e} for quality assessment.
        
        Check for:
        - Physical damage (dents, tears, broken seals)
        - Expiration date visibility and validity
        - Packaging integrity
        - Signs of spoilage (for perishables)
        - Overall condition
        
        ${o}
        
        Provide detailed quality assessment with actionable recommendations.`,g=await s.models.generateContent({model:"gemini-2.5-pro",contents:{parts:[a,{text:u}]},config:{responseMimeType:"application/json",responseSchema:l4}}),v=JSON.parse(g.text.trim());return{qualityScore:Math.max(0,Math.min(100,v.qualityScore||50)),issues:v.issues||[],recommendations:v.recommendations||[],expirationVisible:v.expirationVisible||!1,expirationDate:v.expirationDate,damageDetected:v.damageDetected||!1,damageDescription:v.damageDescription,packagingIntegrity:v.packagingIntegrity||"fair"}}catch(s){throw console.error("Error assessing product quality:",s),new Error("Failed to assess product quality.")}},iv=async(t,e)=>{try{const n=new ls({apiKey:Zs}),s=await Xs(t),u=(await n.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[s,{text:`Describe this product in detail. Include:
        - Product name/brand
        - Category
        - Key visual features
        - Packaging type
        - Any text visible on packaging
        
        Return a concise product description suitable for search.`}]}})).text.trim(),g=await HN(u,t,.5,.5);return await My(g,e,10)}catch(n){return console.error("Error searching inventory by image:",n),[]}},A_=async t=>{try{const e=new ls({apiKey:Zs});return await Promise.all(t.map(async({image:s,expectedExpiration:a,productName:o})=>{try{const u=await Xs(s),g=`Find and read the expiration date on this ${o}.
                    
                    Expected expiration: ${a}
                    
                    Return ONLY the expiration date in YYYY-MM-DD format if visible, or "NOT_VISIBLE" if not found.
                    Also indicate your confidence (0-1) in the detection.`,p=(await e.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[u,{text:g}]}})).text.trim();if(p.includes("NOT_VISIBLE")||p.includes("not visible"))return{productName:o,expectedExpiration:a,match:!1,confidence:0,discrepancy:"Expiration date not visible in image"};const R=p.match(/\d{4}-\d{2}-\d{2}/),U=R?R[0]:null;if(!U)return{productName:o,expectedExpiration:a,match:!1,confidence:0,discrepancy:"Could not parse date from image"};const F=U===a||U.split("-")[0]===a.split("-")[0];return{productName:o,expectedExpiration:a,detectedExpiration:U,match:F,discrepancy:F?void 0:`Expected ${a}, found ${U}`,confidence:F?.9:.7}}catch(u){return console.error(`Error verifying expiration for ${o}:`,u),{productName:o,expectedExpiration:a,match:!1,confidence:0,discrepancy:"Error processing image"}}}))}catch(e){throw console.error("Error verifying expiration dates:",e),new Error("Failed to verify expiration dates.")}},c4={type:gt.OBJECT,properties:{products:{type:gt.ARRAY,items:{type:gt.OBJECT,properties:{productName:{type:gt.STRING,description:"Name of the product"},manufacturer:{type:gt.STRING,description:"Manufacturer/brand name if visible"},category:{type:gt.STRING,description:"Product category (e.g., Beverages, Snacks, Dairy)"},estimatedQuantity:{type:gt.NUMBER,description:"Total estimated quantity including hidden units"},visibleUnits:{type:gt.NUMBER,description:"Number of units clearly visible"},expirationDate:{type:gt.STRING,description:"Expiration date in YYYY-MM-DD format if visible"},expirationVisible:{type:gt.BOOLEAN,description:"Whether expiration date is visible"},location:{type:gt.STRING,description:"Shelf position or location description"},confidence:{type:gt.NUMBER,description:"Confidence score from 0 to 1"},notes:{type:gt.STRING,description:"Additional observations or notes"}},required:["productName","estimatedQuantity","visibleUnits","expirationVisible","confidence"]}},shelfFullness:{type:gt.NUMBER,description:"Overall shelf fullness percentage (0-100)"},totalProductsDetected:{type:gt.NUMBER,description:"Total number of different products detected"},recommendations:{type:gt.ARRAY,items:{type:gt.STRING},description:"Recommendations based on the scan"}},required:["products","shelfFullness","totalProductsDetected"]},N_=async(t,e)=>{try{const n=new ls({apiKey:Zs}),s=await Xs(t),o=`Analyze this shelf photo and identify ALL products visible on the shelf.

        For each product detected:
        1. Identify the product name (match to known products if provided)
        2. Count visible units
        3. Estimate total quantity (including units hidden behind others)
        4. Check for expiration dates if visible
        5. Note shelf position/location
        6. Assess confidence in detection
        
        Also provide:
        - Overall shelf fullness percentage (0-100%)
        - Total number of different products detected
        - Any recommendations (e.g., restocking needed, expiration alerts)
        
        ${e&&e.length>0?`

Known products in inventory: ${e.join(", ")}
Try to match detected products to these names when possible.`:""}
        
        Return a comprehensive analysis of all products on this shelf.`,u=await n.models.generateContent({model:"gemini-2.5-pro",contents:{parts:[s,{text:o}]},config:{responseMimeType:"application/json",responseSchema:c4}}),g=JSON.parse(u.text.trim());return{products:g.products||[],shelfFullness:Math.max(0,Math.min(100,g.shelfFullness||0)),totalProductsDetected:g.totalProductsDetected||0,scanTimestamp:new Date().toISOString(),recommendations:g.recommendations||[]}}catch(n){throw console.error("Error scanning shelf:",n),Sh(n)?new Ws("Gemini API is currently overloaded. Please wait a moment and try again."):new Error("Failed to scan shelf for products.")}},k_=async(t,e,n)=>{try{if(t.length===0)throw new Error("No shelf images provided.");const s=new ls({apiKey:Zs}),a=await Promise.all(t.map(Xs)),u=`Analyze these shelf photos combined with inventory data.
        
        Inventory Data:
        ${JSON.stringify({inventory:e.slice(0,50).map(N=>({productId:N.productId,quantity:N.quantity,expirationDate:N.expirationDate})),recentSales:n.slice(-20).map(N=>({timestamp:N.timestamp,items:N.items,totalAmount:N.totalAmount}))},null,2)}
        
        Tasks:
        1. Compare visual stock levels with recorded inventory
        2. Identify discrepancies (visual vs recorded)
        3. Find products that look expired/damaged
        4. Suggest reordering based on visual stock levels
        5. Identify layout optimization opportunities
        6. Flag high-risk items (expiring soon, low stock, damaged)
        
        Provide actionable insights combining visual and data analysis.
        Format as structured recommendations with severity levels.`;return{insights:(await s.models.generateContent({model:"gemini-2.5-pro",contents:{parts:[...a,{text:u}]},config:{thinkingConfig:{thinkingBudget:32768}}})).text.split(`
`).filter(N=>N.trim().length>0&&(N.includes("insight")||N.includes("finding")||N.match(/^\d+\./))).slice(0,10),visualFindings:[],recommendations:[],riskItems:[],dataDiscrepancies:[]}}catch(s){throw console.error("Error generating visual insights:",s),new Error("Failed to generate visual inventory insights.")}},u4=Object.freeze(Object.defineProperty({__proto__:null,GeminiOverloadError:Ws,analyzeBatchDocuments:w_,analyzeCroppedImageForField:rv,analyzeImageForInventory:Rg,assessProductQuality:T_,dataUrlToBlob:S_,estimateStockFromShelfPhoto:C_,fieldMetadata:Ts,findAndReadFeature:E_,generateInventoryReport:__,generateVisualInventoryInsights:k_,identifyProductNameFromImage:sv,scanShelfForProducts:N_,searchInventoryByImage:iv,verifyExpirationDates:A_},Symbol.toStringTag,{value:"Module"})),I_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v1a2.5 2.5 0 0 1-2.5 2.5h-1A2.5 2.5 0 0 1 6 5.5v-1A2.5 2.5 0 0 1 8.5 2h1Z"}),m.jsx("path",{d:"M14.5 2A2.5 2.5 0 0 1 17 4.5v1a2.5 2.5 0 0 1-2.5 2.5h-1a2.5 2.5 0 0 1-2.5-2.5v-1A2.5 2.5 0 0 1 12.5 2h2Z"}),m.jsx("path",{d:"M18 12a4.5 4.5 0 0 1-4.5 4.5h-3A4.5 4.5 0 0 1 6 12v-2a4.5 4.5 0 0 1 4.5-4.5h3A4.5 4.5 0 0 1 18 10v2Z"}),m.jsx("path",{d:"M6 12a2.5 2.5 0 0 0-2.5 2.5v1A2.5 2.5 0 0 0 6 18h1a2.5 2.5 0 0 0 2.5-2.5v-1A2.5 2.5 0 0 0 7 12h-1Z"}),m.jsx("path",{d:"M18 12a2.5 2.5 0 0 1 2.5 2.5v1a2.5 2.5 0 0 1-2.5 2.5h-1a2.5 2.5 0 0 1-2.5-2.5v-1a2.5 2.5 0 0 1 2.5-2.5h1Z"}),m.jsx("path",{d:"M12 11v1"}),m.jsx("path",{d:"M12 18v2"})]}),Mo=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),m.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),R_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),m.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),D_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M12 5a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M12 5a3 3 0 1 1 5.993.142"}),m.jsx("path",{d:"M15 13a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M15 13a3 3 0 1 1 5.993.142"}),m.jsx("path",{d:"M9 13a3 3 0 1 0-5.993.142"}),m.jsx("path",{d:"M9 13a3 3 0 1 1 5.993.142"}),m.jsx("path",{d:"M12 21a3 3 0 1 0-5.993-.142"}),m.jsx("path",{d:"M12 21a3 3 0 1 1 5.993.142"}),m.jsx("path",{d:"M12 13h.01"}),m.jsx("path",{d:"M12 5h.01"}),m.jsx("path",{d:"M12 21h.01"}),m.jsx("path",{d:"M18 13h.01"}),m.jsx("path",{d:"M6 13h.01"}),m.jsx("path",{d:"M18 5h.01"}),m.jsx("path",{d:"M6 5h.01"}),m.jsx("path",{d:"m18 5-3 4"}),m.jsx("path",{d:"m6 5 3 4"}),m.jsx("path",{d:"m18 13-3-4"}),m.jsx("path",{d:"m6 13 3-4"}),m.jsx("path",{d:"m15 21-3-4"}),m.jsx("path",{d:"m9 21 3-4"})]}),xh=({onDataScanned:t,onClose:e,productOptions:n,mode:s="scan"})=>{const a=ee.useRef(null),o=ee.useRef(null),u=ee.useRef(null),g=ee.useRef(null),[v,p]=ee.useState(null),[N,R]=ee.useState(!1),[U,F]=ee.useState({}),[L,Q]=ee.useState(new Map),[re,ce]=ee.useState(new Map),[ue,te]=ee.useState("auto-scanning"),[se,le]=ee.useState(null),[me,ve]=ee.useState(null),[Re,Ne]=ee.useState(null),[fe,Me]=ee.useState(new Set),[He,pt]=ee.useState(new Map),[it,Rt]=ee.useState(null),[ie,ye]=ee.useState(new Set),De=ee.useMemo(()=>{const at=new Map;return n.forEach(vt=>{at.has(vt.productName)||at.set(vt.productName,vt)}),at},[n]),Ue=ee.useMemo(()=>Array.from(De.keys()),[De]),je=ee.useRef(U),ae=ee.useRef(re);ee.useEffect(()=>{je.current=U},[U]),ee.useEffect(()=>{ae.current=re},[re]);const pe=ee.useCallback((at,vt,Yt,Vt)=>{if(vt==null||typeof vt=="string"&&vt.trim()==="")return;const _n=ae.current.get(at)??0;je.current[at]!==void 0&&je.current[at]!==null&&String(je.current[at]).length>0&&_n>=Vt||(F(Zt=>({...Zt,[at]:vt})),Q(Zt=>{const jn=new Map(Zt);return jn.set(at,Yt),jn}),ce(Zt=>{const jn=new Map(Zt);return jn.set(at,Vt),jn}))},[]),ke=ee.useCallback(()=>{g.current&&(clearInterval(g.current),g.current=null)},[]),Fe=ee.useCallback(()=>{if(a.current&&u.current){const at=a.current,vt=u.current,Yt=at.getBoundingClientRect();vt.width=Yt.width,vt.height=Yt.height}},[]);ee.useEffect(()=>{let at=null;return(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){p("Camera not supported on this browser. Please use a modern browser on a secure (HTTPS) connection.");return}try{at=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),a.current&&(a.current.srcObject=at,a.current.onloadedmetadata=()=>Fe())}catch(Yt){console.error("Error accessing camera:",Yt),p("Could not access the camera. Please ensure permissions are granted and you are on a secure (HTTPS) site.")}})(),window.addEventListener("resize",Fe),()=>{window.removeEventListener("resize",Fe),ke(),at&&at.getTracks().forEach(Yt=>Yt.stop())}},[Fe,ke]);const tt=ee.useCallback(async()=>{if(!a.current||!o.current||document.hidden||ue!=="auto-scanning")return;const at=a.current,vt=o.current;vt.width=at.videoWidth,vt.height=at.videoHeight;const Yt=vt.getContext("2d");if(!Yt)return;Yt.drawImage(at,0,0,at.videoWidth,at.videoHeight);const Vt=await new Promise(Ft=>vt.toBlob(Ft,"image/jpeg",.8));if(!Vt||ue!=="auto-scanning")return;let _n=null;try{const Ft=await sv(Vt,Ue);_n=Ft&&De.get(Ft)||null,(_n==null?void 0:_n.productId)!==(it==null?void 0:it.productId)&&Rt(_n),N&&(R(!1),p(null))}catch(Ft){if(Ft instanceof Ws){R(!0),p(Ft.message),ke();return}console.warn("Product identification failed:",Ft)}if(_n)try{const Ft=await $w(_n.productId);Ft.size>0&&await Promise.all(Array.from(Ft.entries()).map(async([Zt,jn])=>{const qn=Zt;if(fe.has(qn)||ie.has(qn)||(ae.current.get(qn)??0)>=.85)return;const ns=S_(`data:${jn.mimeType};base64,${jn.imageBase64}`);try{const mr=await E_(Vt,ns,qn);mr!==null&&(pe(qn,mr,"learned",.85),ye(Ge=>new Set(Ge).add(qn)))}catch(mr){if(mr instanceof Ws)throw mr}})),N&&(R(!1),p(null))}catch(Ft){if(Ft instanceof Ws){R(!0),p(Ft.message),ke();return}console.warn("Learned field scan failed:",Ft)}try{const Ft=await Rg(Vt);for(const Zt in Ft){const jn=Zt;fe.has(jn)||pe(jn,Ft[jn],"auto",.6)}N&&(R(!1),p(null))}catch(Ft){if(Ft instanceof Ws){R(!0),p(Ft.message),ke();return}console.warn("Generic auto-scan analysis failed:",Ft)}},[it,fe,ue,De,Ue,pe,ie,N,ke]);ee.useEffect(()=>{ue==="auto-scanning"&&!g.current?g.current=window.setInterval(tt,4e3):ue!=="auto-scanning"&&ke()},[ue,tt,ke]),ee.useEffect(()=>{const at=u.current,vt=at==null?void 0:at.getContext("2d");vt&&at&&(vt.clearRect(0,0,at.width,at.height),me&&(vt.fillStyle="#06b6d4",vt.beginPath(),vt.arc(me.x,me.y,10,0,2*Math.PI),vt.fill(),vt.strokeStyle="white",vt.lineWidth=2,vt.stroke()),Re&&(vt.strokeStyle="#06b6d4",vt.lineWidth=3,vt.strokeRect(Re.x,Re.y,Re.width,Re.height)))},[me,Re]);const ct=at=>{le(at),te("manual-capture"),ve(null),Ne(null)},yt=at=>{var vt;if(ue==="auto-scanning"){te("selecting-field");return}if(ue==="manual-capture"&&se){const Yt=(vt=u.current)==null?void 0:vt.getBoundingClientRect();if(!Yt)return;const Vt=at.clientX-Yt.left,_n=at.clientY-Yt.top;if(!me)ve({x:Vt,y:_n});else{const Ft={x:Math.min(me.x,Vt),y:Math.min(me.y,_n),width:Math.abs(Vt-me.x),height:Math.abs(_n-me.y)};Ft.width>10&&Ft.height>10?(Ne(Ft),qe(Ft)):ve(null)}}},qe=ee.useCallback(async at=>{if(!a.current||!o.current||!se)return;te("analyzing"),ve(null);const vt=a.current,Yt=o.current,Vt=vt.getBoundingClientRect(),_n=vt.videoWidth/Vt.width,Ft=vt.videoHeight/Vt.height,Zt=at.x*_n,jn=at.y*Ft,qn=at.width*_n,ts=at.height*Ft;Yt.width=qn,Yt.height=ts;const ns=Yt.getContext("2d");ns&&(ns.drawImage(vt,Zt,jn,qn,ts,0,0,qn,ts),Yt.toBlob(async mr=>{if(mr)try{pt(Ye=>new Map(Ye).set(se,mr));const Ge=await rv(mr,se);pe(se,Ge,"manual",1),Me(Ye=>new Set(Ye).add(se)),ye(Ye=>{const At=new Set(Ye);return At.delete(se),At})}catch(Ge){Ge instanceof Ws?(R(!0),p(Ge.message)):(console.error(Ge),p(Ge instanceof Error?Ge.message:"Analysis failed"))}le(null),Ne(null),te("auto-scanning")},"image/jpeg",.9))},[se,pe]),Pe=async()=>{if(s==="visual-search"){if(!a.current||!o.current){p("Camera not ready");return}const at=a.current,vt=o.current;vt.width=at.videoWidth,vt.height=at.videoHeight;const Yt=vt.getContext("2d");if(!Yt){p("Failed to get canvas context");return}Yt.drawImage(at,0,0,at.videoWidth,at.videoHeight);const Vt=await new Promise(_n=>vt.toBlob(_n,"image/jpeg",.85));Vt?(t({data:{},blobs:new Map([["productName",Vt]]),fieldSources:new Map,fieldConfidences:new Map}),e()):p("Failed to capture image");return}t({data:{...U},blobs:new Map(He),identifiedProductId:it==null?void 0:it.productId,fieldSources:new Map(L),fieldConfidences:new Map(re)}),e()},mt=()=>{switch(ue){case"auto-scanning":return it?`Identified: ${it.productName}. Using learned fields to scan.`:"Scanning automatically... Tap screen to select a field manually.";case"selecting-field":return"Select a field to capture manually.";case"manual-capture":return se?me?"Tap the opposite corner.":`Tap the first corner for ${Ts[se].displayName}.`:"Select a field.";case"analyzing":return`Analyzing ${Ts[se].displayName}...`;default:return"Ready to scan."}};return m.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col items-center justify-center","aria-modal":"true",children:[m.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("canvas",{ref:o,className:"hidden"}),m.jsx("canvas",{ref:u,className:"absolute inset-0 w-full h-full object-cover z-10 cursor-pointer",onClick:yt}),ue==="selecting-field"&&m.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-20 p-4",children:[m.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"Select a field to capture"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 w-full max-w-2xl",children:Object.keys(Ts).map(at=>m.jsx("button",{onClick:()=>ct(at),className:"p-3 bg-gray-700 text-white rounded-lg hover:bg-cyan-600 transition-colors text-sm",children:Ts[at].displayName},at))}),m.jsx("button",{onClick:()=>te("auto-scanning"),className:"mt-8 bg-gray-600 px-6 py-2 rounded-lg hover:bg-gray-500 transition-colors",children:"Cancel & Resume Auto-Scan"})]}),N&&m.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-yellow-600/95 text-white p-4 rounded-lg text-center z-30 max-w-md mx-auto shadow-2xl border-2 border-yellow-400",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[m.jsx("svg",{className:"w-6 h-6 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m.jsx("h3",{className:"text-lg font-bold",children:"Gemini API Overloaded"})]}),m.jsx("p",{className:"text-sm mb-3",children:v||"Gemini API is currently overloaded. Please wait a moment and try again."}),m.jsx("button",{onClick:()=>{R(!1),p(null),ue==="auto-scanning"&&!g.current&&(g.current=window.setInterval(tt,4e3))},className:"px-4 py-2 bg-yellow-700 hover:bg-yellow-800 rounded-md text-sm font-semibold transition-colors",children:"Retry Now"})]}),v&&!N&&m.jsx("div",{className:"absolute top-4 bg-red-800/80 text-white p-3 rounded-lg text-center z-30 max-w-md mx-auto",children:v}),m.jsx("div",{className:"absolute top-4 bg-black/50 text-white px-4 py-2 rounded-full z-20 text-center",children:m.jsx("p",{children:mt()})}),ue==="analyzing"&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400"})}),m.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white bg-black/50 rounded-full p-2 hover:bg-black/80 transition-colors z-30","aria-label":"Close scanner",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 backdrop-blur-sm p-4 text-white rounded-t-lg shadow-2xl shadow-black z-20",children:[s==="visual-search"?m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"text-lg font-bold text-cyan-400 mb-2",children:"Visual Search"}),m.jsx("p",{className:"text-sm text-gray-300 mb-4",children:`Position the product in view and click "Capture & Search" to check if it's in inventory.`})]}):m.jsxs(m.Fragment,{children:[m.jsx("h3",{className:"text-lg font-bold text-cyan-400 mb-2",children:"Scanned Data"}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-4 gap-y-1 text-sm max-h-32 overflow-y-auto",children:Object.keys(U).length>0?Object.entries(U).map(([at,vt])=>{const Yt=at,Vt=L.get(Yt);return m.jsxs("div",{className:"truncate flex items-center",children:[m.jsxs("span",{className:"font-semibold capitalize text-gray-400",children:[Ts[Yt].displayName,": "]}),m.jsx("span",{className:"text-gray-100 ml-1",children:String(vt)}),Vt==="manual"&&m.jsx(R_,{className:"w-3 h-3 ml-2 text-cyan-400 flex-shrink-0"}),Vt==="learned"&&m.jsx(D_,{className:"w-4 h-4 ml-2 text-indigo-400 flex-shrink-0"})]},at)}):m.jsx("p",{className:"col-span-full text-gray-500 text-center py-4",children:"Data will appear here as it's scanned..."})})]}),m.jsx("button",{onClick:Pe,disabled:s==="scan"&&Object.keys(U).length===0||ue==="analyzing",className:"mt-4 w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-cyan-500 disabled:bg-gray-600 disabled:cursor-not-allowed transition-all",children:s==="visual-search"?"Capture & Search":"Confirm & Use This Data"})]})]})},d4=({inventoryData:t,salesHistory:e,productCatalog:n})=>{const[s,a]=ee.useState("insights"),[o,u]=ee.useState(!1),[g,v]=ee.useState(null),[p,N]=ee.useState([]),[R,U]=ee.useState(null),[F,L]=ee.useState(!1),{showToast:Q}=Ki(),re=ee.useCallback(te=>{N([te]),L(!1),v(null),Q('Image captured! Click "Analyze Images" to process.',"success")},[Q]),ce=async()=>{if(p.length===0){v("Please capture at least one image.");return}u(!0),v(null),U(null);try{switch(s){case"insights":const te=await k_(p,t,e);U(te),Q("Visual insights generated successfully!","success");break;case"stock-estimation":const se=prompt("Enter product name for stock estimation:")||"Unknown Product",le=prompt("Enter expected shelf capacity (optional):"),me=await C_(p[0],se,le?parseInt(le):void 0);U(me),Q("Stock estimation completed!","success");break;case"quality-assessment":const ve=prompt("Enter product name:")||"Unknown Product",Re=prompt("Enter expected expiration date (YYYY-MM-DD, optional):"),Ne=await T_(p[0],ve,Re||void 0);U(Ne),Q("Quality assessment completed!","success");break;case"visual-search":{const He=kg();if(!He){v("No active shop context. Please ensure you are logged in."),u(!1);return}const pt=await iv(p[0],He);U({items:pt,count:pt.length}),Q(`Found ${pt.length} matching items!`,"success")}break;case"expiration-verify":const fe=await Promise.all(p.map(async(He,pt)=>{const it=prompt(`Enter product name for image ${pt+1}:`)||"Unknown Product",Rt=prompt(`Enter expected expiration (YYYY-MM-DD) for image ${pt+1}:`)||"";return{image:He,productName:it,expectedExpiration:Rt}})),Me=await A_(fe);U({verifications:Me}),Q("Expiration verification completed!","success");break}}catch(te){const se=te instanceof Error?te.message:"An unknown error occurred.";v(se),Q(`Error: ${se}`,"error")}finally{u(!1)}},ue=()=>{if(!R)return null;switch(s){case"insights":const te=R;return m.jsxs("div",{className:"mt-6 space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Visual Insights"}),te.insights.length>0&&m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"text-cyan-400 font-medium mb-2",children:"Key Insights"}),m.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:te.insights.map((Ne,fe)=>m.jsx("li",{children:Ne},fe))})]}),te.riskItems.length>0&&m.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-700",children:[m.jsx("h4",{className:"text-red-400 font-medium mb-2",children:"Risk Items"}),m.jsx("ul",{className:"space-y-2",children:te.riskItems.map((Ne,fe)=>m.jsxs("li",{className:"text-sm text-gray-300",children:[m.jsx("span",{className:"font-semibold",children:Ne.product}),": ",Ne.issue,m.jsx("span",{className:`ml-2 px-2 py-0.5 rounded text-xs ${Ne.severity==="high"?"bg-red-600":Ne.severity==="medium"?"bg-yellow-600":"bg-gray-600"}`,children:Ne.severity})]},fe))})]})]});case"stock-estimation":const se=R;return m.jsxs("div",{className:"mt-6 space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Stock Estimation Results"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Estimated Quantity"}),m.jsx("p",{className:"text-2xl font-bold text-cyan-400",children:se.estimatedQuantity})]}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Confidence"}),m.jsxs("p",{className:"text-2xl font-bold text-cyan-400",children:[(se.confidence*100).toFixed(0),"%"]})]}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Visible Units"}),m.jsx("p",{className:"text-2xl font-bold text-white",children:se.visibleUnits})]}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Shelf Fullness"}),m.jsxs("p",{className:"text-2xl font-bold text-white",children:[se.shelfFullness,"%"]})]})]}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"text-cyan-400 font-medium mb-2",children:"Reasoning"}),m.jsx("p",{className:"text-gray-300 text-sm",children:se.reasoning})]}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("h4",{className:"text-cyan-400 font-medium mb-2",children:"Visual Analysis"}),m.jsx("p",{className:"text-gray-300 text-sm",children:se.visualAnalysis})]})]});case"quality-assessment":const le=R,me=le.qualityScore>=80?"text-green-400":le.qualityScore>=60?"text-yellow-400":"text-red-400";return m.jsxs("div",{className:"mt-6 space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Quality Assessment"}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Quality Score"}),m.jsxs("p",{className:`text-4xl font-bold ${me}`,children:[le.qualityScore,"/100"]})]}),le.issues.length>0&&m.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-700",children:[m.jsx("h4",{className:"text-red-400 font-medium mb-2",children:"Issues Found"}),m.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:le.issues.map((Ne,fe)=>m.jsx("li",{children:Ne},fe))})]}),le.recommendations.length>0&&m.jsxs("div",{className:"bg-cyan-900/20 p-4 rounded-lg border border-cyan-700",children:[m.jsx("h4",{className:"text-cyan-400 font-medium mb-2",children:"Recommendations"}),m.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-300",children:le.recommendations.map((Ne,fe)=>m.jsx("li",{children:Ne},fe))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Packaging"}),m.jsx("p",{className:"text-lg font-semibold text-white capitalize",children:le.packagingIntegrity})]}),m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Damage Detected"}),m.jsx("p",{className:`text-lg font-semibold ${le.damageDetected?"text-red-400":"text-green-400"}`,children:le.damageDetected?"Yes":"No"})]})]}),le.expirationDate&&m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsx("p",{className:"text-sm text-gray-400",children:"Detected Expiration"}),m.jsx("p",{className:"text-lg font-semibold text-white",children:le.expirationDate})]})]});case"visual-search":const ve=R;return m.jsxs("div",{className:"mt-6 space-y-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Search Results (",ve.count," items found)"]}),ve.items.length>0?m.jsx("div",{className:"space-y-2",children:ve.items.map((Ne,fe)=>m.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg",children:[m.jsxs("p",{className:"font-semibold text-white",children:["Product ID: ",Ne.productId]}),m.jsxs("p",{className:"text-sm text-gray-400",children:["Quantity: ",Ne.quantity," | Expiration: ",Ne.expirationDate]})]},fe))}):m.jsx("p",{className:"text-gray-400",children:"No matching items found in inventory."})]});case"expiration-verify":const Re=R;return m.jsxs("div",{className:"mt-6 space-y-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Expiration Verification Results"}),m.jsx("div",{className:"space-y-3",children:Re.verifications.map((Ne,fe)=>m.jsxs("div",{className:`p-4 rounded-lg border ${Ne.match?"bg-green-900/20 border-green-700":"bg-red-900/20 border-red-700"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("p",{className:"font-semibold text-white",children:Ne.productName}),m.jsx("span",{className:`px-2 py-1 rounded text-xs ${Ne.match?"bg-green-600":"bg-red-600"}`,children:Ne.match?"Match":"Mismatch"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Expected"}),m.jsx("p",{className:"text-white",children:Ne.expectedExpiration})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Detected"}),m.jsx("p",{className:"text-white",children:Ne.detectedExpiration||"Not visible"})]})]}),Ne.discrepancy&&m.jsx("p",{className:"text-red-400 text-sm mt-2",children:Ne.discrepancy})]},fe))})]});default:return null}};return m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsxs("h2",{className:"text-xl font-semibold mb-4 text-white flex items-center",children:[m.jsx(I_,{className:"w-6 h-6 mr-2 text-cyan-400"}),"Multi-Modal AI Visual Analysis"]}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Use AI-powered visual analysis to gain insights from shelf photos, assess product quality, estimate stock levels, and more."}),m.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:["insights","stock-estimation","quality-assessment","visual-search","expiration-verify"].map(te=>m.jsx("button",{onClick:()=>{a(te),U(null),N([]),v(null),L(!1)},className:`px-3 py-2 rounded-md text-sm font-medium transition ${s===te?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:te.split("-").map(se=>se.charAt(0).toUpperCase()+se.slice(1)).join(" ")},te))}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Capture Image ",s==="insights"||s==="expiration-verify"?"(Can capture multiple)":"(Single capture)"]}),m.jsxs("button",{onClick:()=>L(!0),disabled:F||o,className:"w-full flex items-center justify-center gap-2 py-3 px-4 border border-gray-600 rounded-md text-sm font-medium text-gray-200 bg-gray-700/50 hover:bg-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(Mo,{className:"w-5 h-5"}),p.length>0?`Re-capture Image (${p.length} captured)`:"Capture Image with Camera"]}),p.length>0&&m.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[p.length,' image(s) ready for analysis. Click "Analyze Images" to process.']})]}),F&&m.jsx(xh,{mode:"visual-search",productOptions:[],onDataScanned:te=>{if(te.blobs&&te.blobs.size>0){const se=te.blobs.get("productName")||Array.from(te.blobs.values())[0];se?re(se):(Q("Failed to capture image. Please try again.","error"),L(!1))}else Q("Failed to capture image. Please try again.","error"),L(!1)},onClose:()=>L(!1)}),m.jsx("button",{onClick:ce,disabled:o||p.length===0,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 disabled:bg-gray-600 disabled:cursor-not-allowed transition-all",children:o?"Analyzing...":"Analyze Images"}),g&&m.jsx("div",{className:"mt-4 p-3 bg-red-900/50 border border-red-700 rounded-lg",children:m.jsx("p",{className:"text-red-400 text-sm",children:g})}),o&&m.jsxs("div",{className:"flex items-center justify-center my-4 p-4 bg-gray-900/50 rounded-lg",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),m.jsx("p",{className:"ml-3 text-cyan-400",children:"AI is analyzing your images..."})]}),ue()]})},f4=({summaries:t,onNavigateToInventory:e,onRefreshData:n})=>{const[s,a]=ee.useState(!1),[o,u]=ee.useState([]),[g,v]=ee.useState([]),{showToast:p}=Ki();ee.useEffect(()=>{(async()=>{try{const F=await Xy();u(F);try{const{getActiveShopId:L}=await x_(async()=>{const{getActiveShopId:re}=await Promise.resolve().then(()=>b3);return{getActiveShopId:re}},void 0),Q=L();if(Q){const re=await jw(Q);v(re)}}catch(L){console.warn("Could not load sales history:",L)}}catch(F){console.error("Error loading inventory data:",F)}})()},[t]);const N=async()=>{var U,F,L,Q,re,ce,ue,te,se;if(confirm("This will create sample products, suppliers, batches, and inventory items. Continue?")){a(!0);try{const le=[{name:"Organic Milk - Whole",manufacturer:"Fresh Dairy Co.",category:"Dairy",description:"Fresh organic whole milk, 1 gallon",imageUrl:"https://images.unsplash.com/photo-1563636619-e9143da7973b?w=200"},{name:"Whole Wheat Bread",manufacturer:"Baker's Delight",category:"Bakery",description:"Fresh baked whole wheat bread, 1 loaf",imageUrl:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=200"},{name:"Bananas - Organic",manufacturer:"Tropical Farms",category:"Produce",description:"Organic bananas, 1 bunch (~2 lbs)",imageUrl:"https://images.unsplash.com/photo-1571771894821-ce9b6c11b08e?w=200"},{name:"Chicken Breast - Free Range",manufacturer:"Farm Fresh Poultry",category:"Meat",description:"Free range chicken breast, 1 lb",imageUrl:"https://images.unsplash.com/photo-1604503468506-a8da13d82791?w=200"},{name:"Organic Eggs - Large",manufacturer:"Happy Hens Farm",category:"Dairy",description:"Organic large eggs, 12 count",imageUrl:"https://images.unsplash.com/photo-1582722872445-44dc5f7e3c8f?w=200"},{name:"Tomatoes - Roma",manufacturer:"Garden Fresh",category:"Produce",description:"Fresh Roma tomatoes, 1 lb",imageUrl:"https://images.unsplash.com/photo-1546470427-e26264be0b01?w=200"}],me=[{name:"Fresh Dairy Co.",contactEmail:"orders@fresherdairy.com"},{name:"Baker's Delight",contactEmail:"supply@bakersdelight.com"},{name:"Tropical Farms",contactEmail:"sales@tropicalfarms.com"},{name:"Farm Fresh Poultry",contactEmail:"info@farmfreshpoultry.com"},{name:"Happy Hens Farm",contactEmail:"orders@happyhens.com"},{name:"Garden Fresh",contactEmail:"wholesale@gardenfresh.com"},{name:"Organic Foods Dist.",contactEmail:"sales@organicfoods.com"},{name:"Premium Meats Co.",contactEmail:"orders@premiummeats.com"}],ve=[];for(const ae of me)try{const pe=await Yu(ae);ve.push(pe)}catch(pe){console.warn("Failed to create supplier:",pe)}const Re=[];for(let ae=0;ae<le.length;ae++){const pe=le[ae],ke=ve.find(Fe=>Fe.name.toLowerCase().includes(pe.manufacturer.toLowerCase().split(" ")[0]))||ve[ae]||ve[0];try{const Fe=pe.imageUrl?[{url:pe.imageUrl,type:"manual",source:"user",addedAt:new Date().toISOString()}]:[],tt=await Gu({...pe,defaultSupplierId:ke==null?void 0:ke.id,images:Fe});Re.push(tt)}catch(Fe){console.warn("Failed to create product:",Fe)}}const Ne=new Date,fe=new Date(Ne);fe.setDate(fe.getDate()-7);const Me=new Date(Ne);Me.setDate(Me.getDate()-5);const He=Re.slice(0,3).map(ae=>({productId:ae.id,productName:ae.name,quantity:Math.floor(Math.random()*80)+20,cost:Math.random()*8+2})),pt=await dh({supplierId:(U=ve[0])==null?void 0:U.id,deliveryDate:fe.toISOString().split("T")[0],invoiceNumber:`INV-${Date.now()}-1`,documents:[],lineItems:He}),it=Re.slice(0,2).map(ae=>({productId:ae.id,productName:ae.name,quantity:Math.floor(Math.random()*60)+15,cost:Math.random()*10+3})),Rt=await dh({supplierId:(F=ve[1])==null?void 0:F.id,deliveryDate:Me.toISOString().split("T")[0],invoiceNumber:`INV-${Date.now()}-2`,documents:[],lineItems:it}),ie=Re.slice(3,6).map(ae=>({productId:ae.id,productName:ae.name,quantity:Math.floor(Math.random()*70)+20,cost:Math.random()*9+2})),ye=await dh({supplierId:((L=ve[3])==null?void 0:L.id)||((Q=ve[2])==null?void 0:Q.id)||((re=ve[0])==null?void 0:re.id),deliveryDate:fe.toISOString().split("T")[0],invoiceNumber:`INV-${Date.now()}-3`,documents:[],lineItems:ie}),De=He.map((ae,pe)=>{var qe;const ke=Re[pe],Fe=[7,14,21,30][Math.floor(Math.random()*4)],tt=new Date(Ne);tt.setDate(tt.getDate()+Fe);const ct=ae.cost,yt=ct*1.5;return{productName:ke.name,manufacturer:ke.manufacturer,category:ke.category,quantity:ae.quantity,quantityType:"units",costPerUnit:ct,buyPrice:ct,sellPrice:yt,expirationDate:tt.toISOString().split("T")[0],location:["A-1","B-2","C-3"][Math.floor(Math.random()*3)],images:ke.images||[],supplierId:(qe=ve[0])==null?void 0:qe.id,scanMetadata:null}}),Ue=it.map((ae,pe)=>{var qe;const ke=Re[pe],Fe=[10,17,24,31][Math.floor(Math.random()*4)],tt=new Date(Ne);tt.setDate(tt.getDate()+Fe);const ct=ae.cost,yt=ct*1.5;return{productName:ke.name,manufacturer:ke.manufacturer,category:ke.category,quantity:ae.quantity,quantityType:"units",costPerUnit:ct,buyPrice:ct,sellPrice:yt,expirationDate:tt.toISOString().split("T")[0],location:["D-1","E-2","F-3"][Math.floor(Math.random()*3)],images:ke.images||[],supplierId:(qe=ve[1])==null?void 0:qe.id,scanMetadata:null}}),je=ie.map((ae,pe)=>{var qe,Pe,mt;const ke=Re[3+pe],Fe=[7,14,21,30][Math.floor(Math.random()*4)],tt=new Date(Ne);tt.setDate(tt.getDate()+Fe);const ct=ae.cost,yt=ct*1.5;return{productName:ke.name,manufacturer:ke.manufacturer,category:ke.category,quantity:ae.quantity,quantityType:"units",costPerUnit:ct,buyPrice:ct,sellPrice:yt,expirationDate:tt.toISOString().split("T")[0],location:["G-1","H-2","I-3"][Math.floor(Math.random()*3)],images:ke.images||[],supplierId:((qe=ve[3])==null?void 0:qe.id)||((Pe=ve[2])==null?void 0:Pe.id)||((mt=ve[0])==null?void 0:mt.id),scanMetadata:null}});await Bu({supplier:((ce=ve[0])==null?void 0:ce.name)||"Test Supplier",deliveryDate:fe.toISOString().split("T")[0],inventoryDate:Ne.toISOString().split("T")[0]},De),await Bu({supplier:((ue=ve[1])==null?void 0:ue.name)||"Test Supplier 2",deliveryDate:Me.toISOString().split("T")[0],inventoryDate:Ne.toISOString().split("T")[0]},Ue),await Bu({supplier:((te=ve[3])==null?void 0:te.name)||((se=ve[2])==null?void 0:se.name)||"Test Supplier 3",deliveryDate:fe.toISOString().split("T")[0],inventoryDate:Ne.toISOString().split("T")[0]},je),p(`Test data created: ${ve.length} suppliers, ${Re.length} products, 3 batches, ${De.length+Ue.length+je.length} inventory items`,"success"),n&&await n()}catch(le){console.error("Error creating test data:",le),p("Failed to create test data: "+(le instanceof Error?le.message:"Unknown error"),"error")}finally{a(!1)}}},R=ee.useMemo(()=>{const U=t.reduce((ue,te)=>{const se=te.averageCostPerUnit||0;return ue+te.totalQuantity*se},0),F=t.length,L=new Date;L.setHours(0,0,0,0);const Q=new Date;Q.setDate(L.getDate()+30),Q.setHours(23,59,59,999);const re=t.filter(ue=>{const te=new Date(ue.earliestExpiration);return te.setHours(0,0,0,0),te>=L&&te<=Q}),ce=t.filter(ue=>{const te=new Date(ue.earliestExpiration);return te.setHours(0,0,0,0),te<L});return{totalValue:U,uniqueProducts:F,expiringSoon:re.length,expired:ce.length,expiringSoonList:re,expiredList:ce}},[t]);return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),m.jsx("p",{className:"text-lg text-gray-400",children:"A high-level overview of your inventory status."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 flex items-center space-x-4",children:[m.jsx("div",{className:"p-3 bg-cyan-900/50 rounded-lg",children:m.jsx(t4,{className:"w-8 h-8 text-cyan-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Inventory Value"}),m.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",R.totalValue.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 flex items-center space-x-4",children:[m.jsx("div",{className:"p-3 bg-cyan-900/50 rounded-lg",children:m.jsx(b_,{className:"w-8 h-8 text-cyan-400"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Unique Products"}),m.jsx("p",{className:"text-2xl font-bold text-white",children:R.uniqueProducts})]})]}),m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 flex items-center space-x-4",children:[m.jsx("div",{className:"p-3 bg-red-900/50 rounded-lg",children:m.jsx(qu,{className:"w-8 h-8 text-red-400"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Expiring in 30 Days"}),m.jsxs("p",{className:"text-2xl font-bold text-white",children:[R.expiringSoon," items"]}),R.expired>0&&m.jsxs("p",{className:"text-xs text-red-400 mt-1",children:[R.expired," expired"]})]})]})]}),(R.expired>0||R.expiringSoon>0)&&m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-red-700",children:[m.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[m.jsx(qu,{className:"w-6 h-6 text-red-400"}),"Expiration Alerts"]}),R.expired>0&&m.jsxs("div",{className:"mb-4",children:[m.jsxs("p",{className:"text-red-400 font-semibold mb-2",children:[" Expired Items (",R.expired,")"]}),m.jsx("ul",{className:"space-y-2",children:R.expiredList.slice(0,5).map(U=>m.jsxs("li",{className:"text-sm p-2 bg-red-900/30 rounded-md",children:[m.jsx("span",{className:"text-white font-medium",children:U.productName}),m.jsxs("span",{className:"text-red-300 ml-2",children:["Expired: ",U.earliestExpiration]})]},U.productName))})]}),R.expiringSoon>0&&m.jsxs("div",{children:[m.jsxs("p",{className:"text-yellow-400 font-semibold mb-2",children:[" Expiring Soon (",R.expiringSoon,")"]}),m.jsx("ul",{className:"space-y-2",children:R.expiringSoonList.slice(0,5).map(U=>{const F=new Date(U.earliestExpiration),L=Math.ceil((F.getTime()-new Date().getTime())/(1e3*60*60*24));return m.jsxs("li",{className:"text-sm p-2 bg-yellow-900/30 rounded-md",children:[m.jsx("span",{className:"text-white font-medium",children:U.productName}),m.jsxs("span",{className:"text-yellow-300 ml-2",children:["Expires in ",L," days: ",U.earliestExpiration]})]},U.productName)})})]})]}),m.jsx(d4,{inventoryData:o,salesHistory:g,productCatalog:t}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("button",{onClick:e,className:"w-full text-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all",children:"Add New Inventory Batch"}),t.length===0&&m.jsx("button",{onClick:N,disabled:s,className:"w-full text-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-purple-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Test Data...":" Create Test Data"})]})]}),m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recently Added Products"}),t.length>0?m.jsx("ul",{className:"space-y-3",children:t.slice(0,3).map(U=>m.jsxs("li",{className:"flex justify-between items-center text-sm p-3 bg-gray-900/50 rounded-md",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-white",children:U.productName}),m.jsx("p",{className:"text-gray-400",children:U.manufacturer})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"font-bold text-white",children:[U.totalQuantity," ",U.quantityType]}),m.jsxs("p",{className:"text-gray-400",children:["Exp: ",U.earliestExpiration]})]})]},U.productName))}):m.jsx("p",{className:"text-center text-gray-500 py-4",children:"No inventory data available."})]})]})]})},Jl=t=>{if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?t:e.toISOString().split("T")[0]},h4=t=>{const e=t.trim().split(" ");return e.length===1?e[0].slice(0,2).toUpperCase():(e[0][0]+e[e.length-1][0]).toUpperCase()},Ob=7,Ub=10,p4=({summaries:t,inventoryItems:e,onSelectProduct:n,onEditItem:s,onDeleteItem:a})=>{var te;const[o,u]=ee.useState([]),[g,v]=ee.useState(""),[p,N]=ee.useState("all"),[R,U]=ee.useState({});ee.useEffect(()=>{(async()=>{try{const le=await jo();u(le)}catch(le){console.error("Failed to load suppliers:",le)}})()},[]);const F=ee.useMemo(()=>g?t.filter(se=>se.supplierIds&&se.supplierIds.includes(g)):t,[t,g]),L=ee.useMemo(()=>{if(p==="all")return F;const se=new Date,le=1e3*60*60*24;return F.filter(me=>{if(p==="expiringSoon"){const ve=new Date(me.earliestExpiration);if(Number.isNaN(ve.getTime()))return!1;const Re=Math.ceil((ve.getTime()-se.getTime())/le);return Re>=0&&Re<=Ob}return p==="lowStock"?me.totalQuantity<=Ub:!0})},[F,p]);if(!t.length)return m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 text-center text-gray-400",children:[m.jsx("p",{className:"mb-4",children:"Your inventory is empty. Products need inventory items (stock) to appear here."}),m.jsxs("div",{className:"mt-4 p-4 bg-gray-900/50 rounded-lg text-left text-sm",children:[m.jsx("p",{className:"text-yellow-400 font-semibold mb-2",children:" How to add inventory:"}),m.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-gray-300",children:[m.jsx("li",{children:"Use the form on the left to add inventory items for existing products"}),m.jsx("li",{children:'Or use the "Batches" tab to log a delivery batch with multiple items'}),m.jsx("li",{children:"Products from Product Catalog need inventory items added to show up here"})]})]})]});if(t.length>0&&!L.length)return m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 text-center text-gray-400",children:[m.jsx("p",{className:"mb-2",children:"No products match the current filters."}),m.jsx("p",{className:"text-sm text-gray-400",children:"Try clearing the supplier or inventory filter above to see the full inventory list."})]});const re=se=>!se||se.length===0?[]:se.map(le=>{var me;return(me=o.find(ve=>ve.id===le))==null?void 0:me.name}).filter(le=>!!le),ce=ee.useMemo(()=>{const se=new Map;return e.forEach(le=>{const me=se.get(le.productId)||[];me.push(le),se.set(le.productId,me)}),se},[e]),ue=se=>{U(le=>({...le,[se]:!le[se]}))};return m.jsxs("div",{children:[m.jsx("div",{className:"flex items-center justify-end mb-4",children:m.jsxs("div",{className:"flex flex-col gap-3 text-sm text-gray-300 md:flex-row md:items-center",children:[o.length>0&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{children:"Supplier:"}),m.jsxs("select",{value:g,onChange:se=>v(se.target.value),className:"px-3 py-1.5 rounded-md bg-gray-900 border border-gray-700 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[m.jsx("option",{value:"",children:"All Suppliers"}),o.map(se=>m.jsx("option",{value:se.id,children:se.name},se.id))]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{children:"Inventory filter:"}),m.jsxs("select",{value:p,onChange:se=>N(se.target.value),className:"px-3 py-1.5 rounded-md bg-gray-900 border border-gray-700 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[m.jsx("option",{value:"all",children:"All items"}),m.jsxs("option",{value:"expiringSoon",children:["Expiring in  ",Ob," days"]}),m.jsxs("option",{value:"lowStock",children:["Low stock ( ",Ub,")"]})]})]})]})}),g&&m.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Showing ",L.length," product(s) from ",((te=o.find(se=>se.id===g))==null?void 0:te.name)||"selected supplier"]}),m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:L.map(se=>{const le=re(se.supplierIds),me=ce.get(se.productId)||[],ve=R[se.productId];return m.jsxs("div",{onClick:()=>n(se),className:"bg-gray-800/60 border border-gray-700 rounded-xl overflow-hidden text-left hover:border-cyan-500 transition cursor-pointer",children:[m.jsx("div",{className:"h-32 bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center text-3xl font-bold text-gray-300",children:h4(se.productName)}),m.jsxs("div",{className:"p-4 space-y-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-lg font-semibold text-white",children:se.productName}),m.jsx("p",{className:"text-sm text-gray-400",children:se.manufacturer})]}),m.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-300",children:[m.jsxs("span",{className:"font-medium text-white",children:[se.totalQuantity," ",se.quantityType]}),m.jsxs("span",{className:"text-xs uppercase tracking-wide text-gray-400",children:["Exp: ",Jl(se.earliestExpiration)]})]}),le.length>0&&m.jsxs("div",{className:"pt-1 border-t border-gray-700",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Suppliers:"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:le.map((Re,Ne)=>m.jsx("span",{className:"px-2 py-0.5 text-xs bg-cyan-900/30 text-cyan-300 rounded border border-cyan-700/50",children:Re},Ne))})]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Location: Not set"}),me.length>0&&m.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[m.jsxs("span",{children:[me.length," inventory item",me.length>1?"s":""]}),m.jsx("button",{onClick:Re=>{Re.stopPropagation(),ue(se.productId)},className:"text-cyan-300 hover:text-cyan-200",children:ve?"Hide items":"Manage items"})]}),ve&&m.jsx("div",{className:"space-y-2",children:me.map(Re=>m.jsxs("div",{className:"p-2 bg-gray-900/60 rounded text-xs text-gray-300 border border-gray-800 flex flex-col gap-1",onClick:Ne=>Ne.stopPropagation(),children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsxs("span",{children:["Qty: ",Re.quantity," ",Re.quantityType]}),m.jsxs("span",{children:["Exp: ",Jl(Re.expirationDate)]})]}),m.jsxs("div",{className:"flex justify-between text-gray-400",children:[m.jsx("span",{children:Re.location?`Loc: ${Re.location}`:"Location N/A"}),m.jsxs("span",{children:["$",Re.costPerUnit.toFixed(2),"/unit"]})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-1",children:[m.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),s(Re)},disabled:!Re.inventoryUuid,className:"px-2 py-1 rounded bg-gray-700 text-white disabled:opacity-40 disabled:cursor-not-allowed",children:"Edit"}),m.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),a(Re)},disabled:!Re.inventoryUuid,className:"px-2 py-1 rounded bg-red-700/80 text-white disabled:opacity-40 disabled:cursor-not-allowed",children:"Delete"})]})]},Re.inventoryUuid||Re.id))})]})]})]},se.productId)})})]})},m4=({inventory:t,batches:e,onEditRequest:n,onDeleteRequest:s})=>t.length===0?m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 text-center text-gray-400",children:[m.jsx("h2",{className:"text-xl font-semibold mb-2 text-white",children:"Current Inventory"}),m.jsx("p",{children:"Your inventory is empty. Add items using the form to see them here."})]}):m.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsx("h2",{className:"text-xl font-semibold text-white p-6",children:"Current Inventory"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-800",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-300 sm:pl-6",children:"Product Name"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Manufacturer"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Exp. Date"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Quantity"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Supplier"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Cost/Unit"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-right text-sm font-semibold text-gray-300",children:"Actions"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-700 bg-gray-900/50",children:t.map(a=>{var o;return m.jsxs("tr",{className:"hover:bg-gray-800 transition-colors",children:[m.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-6",children:a.productName}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-400",children:a.manufacturer}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-400",children:Jl(a.expirationDate)}),m.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-400",children:[a.quantity," ",a.quantityType]}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-400",children:((o=e.find(u=>u.id===a.batchId))==null?void 0:o.supplier)||"N/A"}),m.jsxs("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-400",children:["$",a.costPerUnit.toFixed(2)]}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-right text-gray-400",children:m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{onClick:()=>n(a),disabled:!a.inventoryUuid,className:"px-3 py-1 rounded-md bg-gray-700 text-white text-xs hover:bg-gray-600 disabled:opacity-40 disabled:cursor-not-allowed",children:"Edit"}),m.jsx("button",{onClick:()=>s(a),disabled:!a.inventoryUuid,className:"px-3 py-1 rounded-md bg-red-700/70 text-white text-xs hover:bg-red-700 disabled:opacity-40 disabled:cursor-not-allowed",children:"Delete"})]})})]},a.id)})})]})})]}),g4=({items:t,batches:e})=>{const[n,s]=ee.useState(""),[a,o]=ee.useState(null),[u,g]=ee.useState(!1),[v,p]=ee.useState(null),N=["Which items expire in the next 30 days?","What is the total value of my current inventory?","Summarize stock levels by supplier.","Identify my most expensive items per unit."],R=async()=>{if(!n){p("Please enter a query for the report.");return}g(!0),p(null),o(null);try{const U=await __(t,e,n);o(U)}catch(U){p(U instanceof Error?U.message:"An unknown error occurred.")}finally{g(!1)}};return m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsxs("h2",{className:"text-xl font-semibold mb-4 text-white flex items-center",children:[m.jsx(I_,{className:"w-6 h-6 mr-2 text-cyan-400"}),"Advanced Inventory Analysis (Gemini Pro)"]}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Use our most powerful model to get deep insights into your inventory. Ask complex questions to make better business decisions."}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"analysis-prompt",className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Analysis Request"}),m.jsx("textarea",{id:"analysis-prompt",rows:3,className:"block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",placeholder:"e.g., What is the total value of my current stock?",value:n,onChange:U=>s(U.target.value)})]}),m.jsxs("div",{className:"mb-4 flex flex-wrap gap-2",children:[m.jsx("span",{className:"text-sm text-gray-400 self-center",children:"Try:"}),N.map(U=>m.jsx("button",{onClick:()=>s(U),className:"px-2 py-1 text-xs bg-gray-700 text-gray-300 rounded-md hover:bg-cyan-800 hover:text-white transition-colors",children:U},U))]}),m.jsx("button",{onClick:R,disabled:u||t.length===0,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 disabled:bg-gray-600 disabled:cursor-not-allowed transition-all",children:u?"Thinking...":"Generate Report"}),t.length===0&&m.jsx("p",{className:"text-yellow-400 text-sm mt-2 text-center",children:"Add items to inventory to enable analysis."}),v&&m.jsx("p",{className:"text-red-400 text-sm mt-2",children:v}),u&&m.jsxs("div",{className:"flex items-center justify-center my-4 p-4 bg-gray-900/50 rounded-lg",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"}),m.jsx("p",{className:"ml-3 text-cyan-400",children:"Gemini Pro is processing your request..."})]}),a&&m.jsxs("div",{className:"mt-6 p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Analysis Report"}),m.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-gray-300",dangerouslySetInnerHTML:{__html:a.replace(/\n/g,"<br />")}})]})]})},y4=({product:t,allItems:e,allBatches:n,onClose:s})=>{const a=p=>typeof p!="number"||Number.isNaN(p)?"N/A":`$${p.toFixed(2)}`,o=e.filter(p=>p.productName===t.productName).map(p=>{const N=n.find(R=>R.id===p.batchId);return{...p,batch:N}}).sort((p,N)=>new Date(p.expirationDate).getTime()-new Date(N.expirationDate).getTime()),u=ee.useMemo(()=>o.reduce((p,N)=>{const R=typeof N.costPerUnit=="number"?N.costPerUnit:0;return p+R*N.quantity},0),[o]),g=t.totalQuantity>0?u/t.totalQuantity:0,v=ee.useMemo(()=>{const p=new Map;return o.forEach(N=>{var ce,ue,te;const R=((ce=N.batch)==null?void 0:ce.id)??N.batchId??`line-${N.id}`,U=String(R),F=((ue=N.batch)==null?void 0:ue.supplier)??"N/A",L=(te=N.batch)==null?void 0:te.inventoryDate,Q=typeof N.costPerUnit=="number"?N.costPerUnit:0,re=p.get(U)??{batchId:U,supplier:F,inventoryDate:L,quantity:0,totalValue:0};re.quantity+=N.quantity,re.totalValue+=Q*N.quantity,re.supplier=F,re.inventoryDate=L,p.set(U,re)}),Array.from(p.values()).sort((N,R)=>N.batchId.localeCompare(R.batchId))},[o]);return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:s,children:m.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:p=>p.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b border-gray-700",children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:t.productName}),m.jsx("p",{className:"text-sm text-gray-400",children:t.manufacturer})]}),m.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("div",{className:"mt-4 flex space-x-8 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Total Quantity"}),m.jsxs("p",{className:"text-white font-semibold text-lg",children:[t.totalQuantity," ",t.quantityType]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Earliest Expiration"}),m.jsx("p",{className:"text-yellow-400 font-semibold text-lg",children:Jl(t.earliestExpiration)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Average Unit Cost"}),m.jsx("p",{className:"text-cyan-400 font-semibold text-lg",children:a(g)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Inventory Value"}),m.jsx("p",{className:"text-green-400 font-semibold text-lg",children:a(u)})]})]})]}),m.jsxs("div",{className:"p-6 overflow-y-auto",children:[m.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Batch Details (First-Expired, First-Out)"}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-800",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"py-3 pl-4 pr-3 text-left text-sm font-semibold text-gray-300 sm:pl-0",children:"Quantity"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Exp. Date"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Supplier"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Inventory Date"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Cost / Unit"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Buy Price"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Sell Price"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Line Value"}),m.jsx("th",{scope:"col",className:"px-3 py-3 text-left text-sm font-semibold text-gray-300",children:"Batch"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-700",children:o.map(p=>{var N,R,U;return m.jsxs("tr",{children:[m.jsxs("td",{className:"py-3 pl-4 pr-3 text-sm text-white sm:pl-0",children:[p.quantity," ",p.quantityType]}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-300",children:Jl(p.expirationDate)}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-400",children:((N=p.batch)==null?void 0:N.supplier)??"N/A"}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-400",children:Jl((R=p.batch)==null?void 0:R.inventoryDate)}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-300",children:a(p.costPerUnit)}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-300",children:a(p.buyPrice)}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-300",children:typeof p.sellPrice=="number"?a(p.sellPrice):""}),m.jsx("td",{className:"px-3 py-3 text-sm text-gray-300",children:a((p.costPerUnit||0)*p.quantity)}),m.jsx("td",{className:"px-3 py-3 text-xs text-gray-500",children:((U=p.batch)==null?void 0:U.id)??String(p.batchId)})]},p.id)})})]})}),v.length>0&&m.jsxs("div",{className:"mt-6",children:[m.jsx("h4",{className:"text-md font-semibold text-gray-200 mb-3",children:"Cost Overview by Batch"}),m.jsx("div",{className:"space-y-3",children:v.map(p=>m.jsxs("div",{className:"p-4 bg-gray-900/40 border border-gray-700 rounded-lg flex flex-wrap gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Batch"}),m.jsx("p",{className:"text-white font-semibold",children:p.batchId})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Supplier"}),m.jsx("p",{className:"text-white",children:p.supplier})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Inventory Date"}),m.jsx("p",{className:"text-white",children:Jl(p.inventoryDate)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Quantity"}),m.jsxs("p",{className:"text-white",children:[p.quantity," ",t.quantityType]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400",children:"Batch Value"}),m.jsx("p",{className:"text-green-400 font-semibold",children:a(p.totalValue)})]})]},p.batchId))})]}),m.jsxs("div",{className:"mt-6 p-4 bg-gray-900/50 rounded-lg border border-cyan-800/50",children:[m.jsx("h4",{className:"font-semibold text-cyan-500",children:"POS Integration Note"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'The list above is sorted by expiration date. For a "First-Expired, First-Out" (FEFO) strategy, a Point-of-Sale system would automatically deduct sold items from the top of this list, ensuring optimal stock rotation and minimizing waste.'})]})]})]})})},P_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),m.jsx("polyline",{points:"17 8 12 3 7 8"}),m.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),B0={supplier:"",deliveryDate:"",inventoryDate:new Date().toISOString().split("T")[0]},jb={productName:"",manufacturer:"",category:"",productDescription:"",productId:void 0,supplierId:void 0,expirationDate:"",quantity:0,quantityType:"units",costPerUnit:0,location:"",buyPrice:0,sellPrice:void 0,images:[],scanMetadata:null,shareScope:["local"]},v4=({onAddBatch:t,summaries:e,pendingScanResult:n})=>{const[s,a]=ee.useState(B0),[o,u]=ee.useState(jb),[g,v]=ee.useState([]),[p,N]=ee.useState(!1),[R,U]=ee.useState(null),[F,L]=ee.useState(null),[Q,re]=ee.useState(!1),ce=ee.useRef(null),[ue,te]=ee.useState(new Map),[se,le]=ee.useState(new Map),[me,ve]=ee.useState([]),[Re,Ne]=ee.useState([]),[fe,Me]=ee.useState(""),[He,pt]=ee.useState(""),[it,Rt]=ee.useState("existing"),[ie,ye]=ee.useState("existing"),[De,Ue]=ee.useState({name:"",email:""}),[je,ae]=ee.useState(!1),[pe,ke]=ee.useState(null),[Fe,tt]=ee.useState(!1),ct=ee.useRef(null),yt=ee.useRef(!1),qe=ee.useMemo(()=>{const Ge=new Map;return me.forEach(Ye=>{Ge.set(Ye.name,{productId:Ye.id,productName:Ye.name})}),e.forEach(Ye=>{Ge.has(Ye.productName)||Ge.set(Ye.productName,{productId:Ye.productId,productName:Ye.productName})}),Array.from(Ge.values())},[me,e]),Pe=ee.useCallback(Ge=>{const Ye=new Set(["local"]);return(Ge||[]).forEach(At=>At&&Ye.add(At)),Array.from(Ye)},[]),mt=ee.useCallback(Ge=>Ge?Ge.toLowerCase().trim().replace(/[^a-z0-9]+/gi,"-"):"unlabeled-product",[]),at=ee.useCallback((Ge,Ye)=>{u(At=>{const en=new Set(Pe(At.shareScope));return Ye?en.add(Ge):en.delete(Ge),en.size||en.add("local"),{...At,shareScope:Array.from(en)}})},[Pe]);ee.useEffect(()=>()=>{se.forEach(Ge=>URL.revokeObjectURL(Ge))},[se]),ee.useEffect(()=>{it==="new"&&(Me(""),u(Ge=>({...Ge,productId:void 0})))},[it]),ee.useEffect(()=>{ie==="new"&&(pt(""),u(Ge=>({...Ge,supplierId:void 0})))},[ie]);const vt=ee.useCallback(async()=>{try{const[Ge,Ye]=await Promise.all([Ng(),jo()]);ve(Ge),Ne(Ye)}catch(Ge){console.error("Failed to load reference data",Ge)}},[]);ee.useEffect(()=>{vt()},[vt]);const Yt=ee.useCallback(async Ge=>{L(URL.createObjectURL(Ge)),N(!0),U(null);try{const Ye=await Rg(Ge);a(At=>({...At,supplier:At.supplier||Ye.supplier||"",deliveryDate:At.deliveryDate||Ye.deliveryDate||""})),u(At=>({...At,productName:Ye.productName||"",manufacturer:Ye.manufacturer||"",category:Ye.category||"",expirationDate:Ye.expirationDate||"",quantity:Ye.quantity||0,quantityType:Ye.quantityType||"units",costPerUnit:Ye.costPerUnit||0}))}catch(Ye){U(Ye instanceof Error?Ye.message:"An unknown error occurred.")}finally{N(!1)}},[]),Vt=ee.useCallback(Ge=>{var At;const Ye=(At=Ge.target.files)==null?void 0:At[0];Ye&&Yt(Ye)},[Yt]),_n=ee.useCallback(Ge=>{const{data:Ye,blobs:At,identifiedProductId:en}=Ge;re(!1),L(null),ce.current&&(ce.current.value=""),ke(Ge),se.forEach(It=>URL.revokeObjectURL(It));const Ns=new Map;if(At.forEach((It,Sn)=>Ns.set(Sn,URL.createObjectURL(It))),le(Ns),te(At),a(It=>({...It,supplier:It.supplier||Ye.supplier||"",deliveryDate:It.deliveryDate||Ye.deliveryDate||""})),en){const It=me.find(Sn=>Sn.id===en);if(It){tt(!1),Rt("existing"),Me(It.id),u(Sn=>({...Sn,productId:It.id,productName:It.name,manufacturer:It.manufacturer,category:It.category,productDescription:It.description||"",expirationDate:Ye.expirationDate||Sn.expirationDate||"",quantity:Ye.quantity||Sn.quantity||1,quantityType:Ye.quantityType||Sn.quantityType||"units",costPerUnit:Ye.costPerUnit||Sn.costPerUnit||0,buyPrice:Ye.buyPrice||Sn.buyPrice||0,sellPrice:Ye.sellPrice||Sn.sellPrice,location:Ye.location||Sn.location||""}));return}}Rt("new"),tt(!0),u(It=>({...It,productName:Ye.productName||It.productName||"",manufacturer:Ye.manufacturer||It.manufacturer||"",category:Ye.category||It.category||"",productDescription:Ye.productDescription||It.productDescription||"",expirationDate:Ye.expirationDate||It.expirationDate||"",quantity:Ye.quantity||It.quantity||0,quantityType:Ye.quantityType||It.quantityType||"units",costPerUnit:Ye.costPerUnit||It.costPerUnit||0,buyPrice:Ye.buyPrice||It.buyPrice||0,sellPrice:Ye.sellPrice||It.sellPrice,location:Ye.location||It.location||""}))},[se,me]);ee.useEffect(()=>{n&&n!==ct.current&&!yt.current&&(yt.current=!0,ct.current=n,_n(n),setTimeout(()=>{yt.current=!1},100))},[n]);const Ft=Ge=>{const{name:Ye,value:At}=Ge.target;a(en=>({...en,[Ye]:At}))},Zt=Ge=>{const{name:Ye,value:At,type:en}=Ge.target,Ns=en==="number";u(It=>({...It,[Ye]:Ns?parseFloat(At)||0:At}))},jn=Ge=>{var At;pt(Ge),u(en=>({...en,supplierId:Ge||void 0}));const Ye=(At=Re.find(en=>en.id===Ge))==null?void 0:At.name;Ye&&a(en=>({...en,supplier:Ye}))},qn=Ge=>{const{name:Ye,value:At}=Ge.target;Ue(en=>({...en,[Ye]:At}))},ts=async Ge=>{if(Ge.preventDefault(),!De.name.trim()){U("Supplier name is required.");return}ae(!0),U(null);try{const Ye=await Yu({name:De.name.trim(),contactEmail:De.email.trim()||void 0});await vt(),ye("existing"),pt(Ye.id),u(At=>({...At,supplierId:Ye.id})),a(At=>({...At,supplier:Ye.name||Ye.id})),Ue({name:"",email:""})}catch(Ye){U(Ye instanceof Error?Ye.message:"Failed to create supplier.")}finally{ae(!1)}},ns=async Ge=>{if(Ge.preventDefault(),o.productName&&o.quantity>0){let Ye=[];if(ue.size>0&&o.productName){N(!0),U(null);try{const It=await Promise.all(Array.from(ue.entries()).map(async([Sr,Bo])=>{const cs=await Uy(o.productName,Sr,Bo,{productId:fe||o.productId||mt(o.productName),source:(pe==null?void 0:pe.fieldSources.get(Sr))||"manual"});return{field:String(Sr),captureId:cs,source:(pe==null?void 0:pe.fieldSources.get(Sr))||"manual",confidence:pe==null?void 0:pe.fieldConfidences.get(Sr)}})),Sn=new Date().toISOString();Ye=It.map(Sr=>({...Sr,capturedAt:Sn}))}catch(It){console.error(It),U("Could not save scan images.")}finally{N(!1)}}const At=pe?Array.from(pe.fieldConfidences.values()).filter(It=>typeof It=="number"):[],en=At.length>0?At.reduce((It,Sn)=>It+Sn,0)/At.length:void 0,Ns=Ye.length?{confidence:en,fieldCaptures:Ye}:en!==void 0?{confidence:en}:null;v(It=>[...It,{...o,productId:fe||o.productId,supplierId:He||o.supplierId,shareScope:Pe(o.shareScope),scanMetadata:Ns}]),u(jb),Me(""),pt(""),L(null),ke(null),tt(!1),ce.current&&(ce.current.value=""),te(new Map),se.forEach(It=>URL.revokeObjectURL(It)),le(new Map),ct.current=null,yt.current=!1}},mr=()=>{g.length>0&&s.supplier&&s.deliveryDate?(t(s,g),a(B0),v([])):U("Please add at least one item and fill in all batch details (Supplier, Delivery Date).")};return m.jsxs(m.Fragment,{children:[Q&&m.jsx(xh,{onDataScanned:_n,onClose:()=>re(!1),productOptions:qe}),m.jsxs("div",{className:"bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-sm p-8 rounded-xl border border-gray-700/50 shadow-2xl",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6 text-white flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-cyan-500/20 rounded-lg",children:m.jsx(nv,{className:"w-6 h-6 text-cyan-400"})}),"Add New Inventory Batch"]}),m.jsxs("div",{className:"space-y-6 p-6 bg-gray-900/40 border border-gray-700/50 rounded-xl mb-6 backdrop-blur-sm shadow-inner",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center",children:m.jsx("span",{className:"text-cyan-400 font-bold text-sm",children:"1"})}),m.jsx("h3",{className:"font-bold text-xl text-gray-100",children:"Batch Details"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[m.jsxs("div",{className:"space-y-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/30",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-gray-200 mb-3",children:"Product Selection"}),m.jsx("div",{className:"flex gap-2 mb-4",children:["existing","new"].map(Ge=>m.jsx("button",{type:"button",onClick:()=>Rt(Ge),className:`flex-1 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ${it===Ge?"bg-gradient-to-r from-cyan-600 to-cyan-500 text-white shadow-lg shadow-cyan-500/30":"bg-gray-700/50 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:Ge==="existing"?"Existing Product":"New Product"},Ge))})]}),Fe&&it==="new"&&m.jsx("div",{className:"p-3 bg-amber-500/10 border border-amber-500/40 rounded-lg text-sm text-amber-100",children:"New product detected. Review the static fields below so we can register it in the catalog when this batch is saved."}),it==="existing"?m.jsx("div",{children:m.jsxs("select",{className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",value:fe,onChange:Ge=>{const Ye=Ge.target.value;if(Me(Ye),!Ye){u(en=>({...en,productId:void 0,productName:"",manufacturer:"",category:"",productDescription:""}));return}const At=me.find(en=>en.id===Ye);At&&u(en=>({...en,productId:At.id,productName:At.name,manufacturer:At.manufacturer,category:At.category,productDescription:At.description||""}))},children:[m.jsx("option",{value:"",children:"Select from catalog"}),me.map(Ge=>m.jsxs("option",{value:Ge.id,children:[Ge.name,"  ",Ge.manufacturer]},Ge.id))]})}):m.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:m.jsx("p",{className:"text-sm text-blue-300",children:"Manual entry enabled. Fill in the product fields below to register a new product as you scan it."})})]}),m.jsxs("div",{className:"space-y-4 p-4 bg-gray-800/30 rounded-lg border border-gray-700/30",children:[m.jsx("div",{className:"flex items-center justify-between gap-2 mb-2",children:m.jsx("p",{className:"text-sm font-semibold text-gray-200",children:"Supplier Management"})}),m.jsx("div",{className:"flex gap-2 mb-4",children:["existing","new"].map(Ge=>m.jsx("button",{type:"button",onClick:()=>ye(Ge),className:`flex-1 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 ${ie===Ge?"bg-gradient-to-r from-cyan-600 to-cyan-500 text-white shadow-lg shadow-cyan-500/30":"bg-gray-700/50 text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:Ge==="existing"?"Choose Supplier":"Create Supplier"},Ge))}),ie==="existing"?m.jsxs("select",{className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",value:He,onChange:Ge=>jn(Ge.target.value),children:[m.jsx("option",{value:"",children:"Select Supplier"}),Re.map(Ge=>m.jsx("option",{value:Ge.id,children:Ge.name},Ge.id))]}):m.jsxs("form",{onSubmit:ts,className:"space-y-3",children:[m.jsx("input",{name:"name",value:De.name,onChange:qn,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",placeholder:"Supplier name"}),m.jsx("input",{type:"email",name:"email",value:De.email,onChange:qn,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",placeholder:"Contact email (optional)"}),m.jsx("button",{type:"submit",disabled:je,className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-cyan-600 to-cyan-500 text-white text-sm font-semibold disabled:opacity-60 hover:from-cyan-500 hover:to-cyan-400 transition-all shadow-lg shadow-cyan-500/20",children:je?"Creating...":"Create & Use Supplier"})]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4 border-t border-gray-700/50",children:Object.keys(B0).map(Ge=>m.jsxs("div",{children:[m.jsx("label",{htmlFor:`batch-${Ge}`,className:"block text-sm font-medium text-gray-300 mb-2 capitalize",children:Ge.replace(/([A-Z])/g," $1")}),m.jsx("input",{type:Ge.includes("Date")?"date":"text",name:Ge,id:`batch-${Ge}`,value:s[Ge],onChange:Ft,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all shadow-sm"})]},Ge))})]}),m.jsxs("div",{className:"space-y-6 p-6 bg-gray-900/40 border border-gray-700/50 rounded-xl backdrop-blur-sm shadow-inner",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center",children:m.jsx("span",{className:"text-cyan-400 font-bold text-sm",children:"2"})}),m.jsx("h3",{className:"font-bold text-xl text-gray-100",children:"Add Items to Batch"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"flex justify-center px-6 pt-6 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl cursor-pointer hover:border-cyan-400/50 hover:bg-cyan-500/5 transition-all duration-200 group",onClick:()=>{var Ge;return(Ge=ce.current)==null?void 0:Ge.click()},children:m.jsxs("div",{className:"space-y-2 text-center",children:[F?m.jsx("img",{src:F,alt:"Preview",className:"mx-auto h-32 w-auto rounded-lg object-cover shadow-lg"}):m.jsx("div",{className:"mx-auto p-4 bg-gray-800/50 rounded-full group-hover:bg-cyan-500/10 transition-all",children:m.jsx(P_,{className:"h-10 w-10 text-gray-400 group-hover:text-cyan-400 transition-colors"})}),m.jsx("p",{className:"text-sm text-gray-400 group-hover:text-cyan-300 transition-colors",children:p?"Analyzing...":"Click to upload image"})]})}),m.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:Vt,ref:ce,accept:"image/*"}),m.jsxs("button",{type:"button",onClick:()=>re(!0),className:"w-full flex items-center justify-center gap-2 py-3 px-4 border border-gray-600/50 rounded-lg text-sm font-semibold text-gray-200 bg-gray-700/30 hover:bg-gray-700/50 hover:border-cyan-500/50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all shadow-sm",children:[m.jsx(Mo,{className:"w-5 h-5"}),"Live Scan Item"]})]}),p&&m.jsxs("div",{className:"flex items-center justify-center py-4",children:[m.jsx("div",{className:"animate-spin rounded-full h-7 w-7 border-2 border-cyan-400 border-t-transparent"}),m.jsx("p",{className:"ml-3 text-cyan-400 font-medium",children:"Extracting data..."})]}),R&&m.jsx("div",{className:"p-3 bg-red-900/30 border border-red-700/50 rounded-lg",children:m.jsx("p",{className:"text-red-400 text-sm",children:R})}),m.jsxs("form",{onSubmit:ns,className:"space-y-5 pt-2",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Name"}),m.jsx("input",{name:"productName",value:o.productName,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white disabled:bg-gray-800/50 disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",disabled:!!fe})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Manufacturer"}),m.jsx("input",{name:"manufacturer",value:o.manufacturer,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white disabled:bg-gray-800/50 disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",disabled:!!fe})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Category"}),m.jsx("input",{name:"category",value:o.category,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white disabled:bg-gray-800/50 disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",disabled:!!fe})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Expiration Date"}),m.jsx("input",{type:"date",name:"expirationDate",value:o.expirationDate,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Product Description"}),m.jsx("textarea",{name:"productDescription",value:o.productDescription,onChange:Zt,rows:3,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white disabled:bg-gray-800/50 disabled:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all resize-none",disabled:!!fe})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quantity"}),m.jsx("input",{type:"number",name:"quantity",value:o.quantity,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quantity Type"}),m.jsx("input",{name:"quantityType",value:o.quantityType,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),m.jsx("input",{name:"location",value:o.location,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cost Per Unit"}),m.jsx("input",{type:"number",name:"costPerUnit",value:o.costPerUnit,onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Buy Price"}),m.jsx("input",{type:"number",name:"buyPrice",value:o.buyPrice??"",onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Sell Price"}),m.jsx("input",{type:"number",name:"sellPrice",value:o.sellPrice??"",onChange:Zt,className:"w-full px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-all",step:"0.01"})]})]}),Ra&&m.jsxs("div",{className:"p-4 bg-cyan-900/10 border border-cyan-800/40 rounded-lg space-y-2",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("input",{id:"dan-sharing",type:"checkbox",className:"mt-1 h-4 w-4 rounded border-gray-500 text-cyan-500 focus:ring-cyan-400 bg-gray-900",checked:(o.shareScope||[]).includes("dan"),onChange:Ge=>at("dan",Ge.target.checked)}),m.jsxs("label",{htmlFor:"dan-sharing",className:"text-sm text-gray-200",children:[m.jsx("span",{className:"font-semibold text-cyan-200",children:"Share with DAN network (beta)"}),m.jsx("span",{className:"block text-gray-400",children:"Broadcast anonymized surplus signals (product, quantity, expiration bucket, aisle zone) so trusted partners can discover this offer."})]})]}),m.jsx("p",{className:"text-xs text-gray-500 pl-7",children:"Provenance proofs are signed with your shop key. Disable anytime to keep inventory local-only."})]}),m.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg text-sm font-semibold text-white bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-500 hover:to-indigo-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 disabled:from-gray-600 disabled:to-gray-600 disabled:cursor-not-allowed transition-all shadow-lg shadow-indigo-500/20",children:p?"Saving Scan...":"Add This Item"})]})]}),g.length>0&&m.jsxs("div",{className:"mt-6",children:[m.jsxs("h3",{className:"font-semibold text-lg text-gray-200 mb-2",children:["Items in this Batch (",g.length,")"]}),m.jsx("ul",{className:"space-y-2 max-h-40 overflow-y-auto p-2 bg-gray-900/50 rounded-md",children:g.map((Ge,Ye)=>{var At;return m.jsxs("li",{className:"text-sm text-gray-300 p-2 bg-gray-700/50 rounded-md flex justify-between items-center gap-3",children:[m.jsxs("span",{children:[Ge.quantity,"x ",Ge.productName]}),m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsxs("span",{children:["Exp: ",Ge.expirationDate]}),((At=Ge.shareScope)==null?void 0:At.includes("dan"))&&m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-cyan-600/40 bg-cyan-900/40 text-cyan-200",children:"DAN"})]})]},Ye)})})]}),m.jsx("button",{onClick:mr,disabled:g.length===0,className:"mt-6 w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 disabled:bg-gray-600 disabled:cursor-not-allowed transition-all",children:"Finish and Save Batch"})]})]})},av=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),m.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),x4=({summaries:t,onScanComplete:e,onClose:n})=>{const s=ee.useRef(null),a=ee.useRef(null),[o,u]=ee.useState("idle"),[g,v]=ee.useState(null),[p,N]=ee.useState(null),[R,U]=ee.useState(new Set),[F,L]=ee.useState(0),{showToast:Q}=Ki(),[re,ce]=ee.useState(!1),ue=t.map(fe=>fe.productName),te=new Map(t.map(fe=>[fe.productName.toLowerCase(),fe]));ee.useEffect(()=>{let fe=null;return(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){v("Camera not supported. Please use a modern browser on HTTPS.");return}try{fe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),s.current&&(s.current.srcObject=fe)}catch{v("Could not access camera. Please grant permissions.")}})(),()=>{fe&&fe.getTracks().forEach(He=>He.stop())}},[]);const se=ee.useCallback(async()=>{if(!s.current||!a.current)return null;const fe=s.current,Me=a.current;Me.width=fe.videoWidth,Me.height=fe.videoHeight;const He=Me.getContext("2d");return He?(He.drawImage(fe,0,0,fe.videoWidth,fe.videoHeight),new Promise(pt=>Me.toBlob(pt,"image/jpeg",.85))):null},[]),le=ee.useCallback(async()=>{u("scanning"),v(null),ce(!1);const fe=await se();if(!fe){v("Failed to capture photo"),u("idle");return}u("processing");try{const Me=await N_(fe,ue);N(Me),u("results"),Q(`Detected ${Me.totalProductsDetected} products on shelf!`,"success")}catch(Me){Me instanceof Ws?(ce(!0),v(Me.message),u("idle")):(v(Me instanceof Error?Me.message:"Failed to scan shelf"),u("idle"))}},[se,ue,Q]),me=ee.useCallback(async(fe,Me)=>{const He=kg();if(!He)return Q("No active shop context","error"),!1;const pt=(Me==null?void 0:Me.productId)||Kn(),it=new Date().toISOString(),Rt=Kn();let ie=fe.expirationDate;if(!ie){const Ue=new Date;Ue.setDate(Ue.getDate()+30),ie=Ue.toISOString().split("T")[0]}const ye={ocrText:fe.productName,confidence:fe.confidence,sourcePhotoId:Rt,fieldCaptures:[]},De={id:Date.now(),inventoryUuid:Rt,shopId:He,productId:pt,batchId:"",expirationDate:ie,quantity:Math.max(1,Math.round(fe.estimatedQuantity)),costPerUnit:(Me==null?void 0:Me.averageCostPerUnit)||0,buyPrice:(Me==null?void 0:Me.averageCostPerUnit)||0,sellPrice:Me!=null&&Me.averageCostPerUnit?Me.averageCostPerUnit*1.4:void 0,location:fe.location,scanMetadata:ye,qdrantId:Rt,status:"ACTIVE",createdByUserId:He,createdAt:it,updatedAt:it,shareScope:["local"]};try{return await Xl(De,ye),!0}catch(Ue){return console.error("Failed to update inventory:",Ue),!1}},[Q]),ve=ee.useCallback(async()=>{if(!p)return;u("updating"),U(new Set),L(0);let fe=0,Me=0;for(const He of p.products){const pt=He.productName.toLowerCase();U(ie=>new Set(ie).add(He.productName));const it=te.get(pt);await me(He,it||void 0)?(fe++,L(fe)):Me++,U(ie=>{const ye=new Set(ie);return ye.delete(He.productName),ye})}u("results"),Q(`Inventory updated: ${fe} products added, ${Me} failed`,fe>0?"success":"error"),e&&e()},[p,te,me,e,Q]),Re=fe=>{if(!fe)return"ok";const Me=new Date(fe),He=new Date,pt=Math.ceil((Me.getTime()-He.getTime())/(1e3*60*60*24));return pt<0?"expired":pt<=7?"expiring-soon":"ok"},Ne=(p==null?void 0:p.products.filter(fe=>{const Me=Re(fe.expirationDate);return Me==="expired"||Me==="expiring-soon"}))||[];return o==="results"&&p?m.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-50 flex flex-col overflow-hidden",children:[m.jsxs("div",{className:"flex-shrink-0 bg-gray-800 border-b border-gray-700 p-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"Shelf Scan Results"}),m.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white text-2xl leading-5",children:""})]}),m.jsxs("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-300",children:[m.jsxs("span",{children:["Shelf Fullness: ",m.jsxs("strong",{className:"text-cyan-400",children:[p.shelfFullness,"%"]})]}),m.jsxs("span",{children:["Products Detected: ",m.jsx("strong",{className:"text-cyan-400",children:p.totalProductsDetected})]})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[Ne.length>0&&m.jsxs("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(qu,{className:"w-5 h-5 text-red-400"}),m.jsxs("h3",{className:"font-semibold text-red-300",children:["Expiration Alerts (",Ne.length,")"]})]}),m.jsx("div",{className:"space-y-2",children:Ne.map((fe,Me)=>{const He=Re(fe.expirationDate),pt=fe.expirationDate?Math.ceil((new Date(fe.expirationDate).getTime()-new Date().getTime())/(1e3*60*60*24)):null;return m.jsxs("div",{className:"bg-red-900/30 rounded p-2 text-sm",children:[m.jsx("span",{className:"font-medium text-white",children:fe.productName}),fe.expirationDate&&m.jsx("span",{className:`ml-2 ${He==="expired"?"text-red-300":"text-yellow-300"}`,children:He==="expired"?`Expired: ${fe.expirationDate}`:`Expires in ${pt} days: ${fe.expirationDate}`})]},Me)})})]}),m.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Detected Products"}),m.jsx("div",{className:"space-y-3",children:p.products.map((fe,Me)=>{const He=R.has(fe.productName),pt=te.get(fe.productName.toLowerCase()),it=Re(fe.expirationDate);return m.jsx("div",{className:`p-3 rounded-lg border ${it==="expired"?"bg-red-900/20 border-red-700":it==="expiring-soon"?"bg-yellow-900/20 border-yellow-700":"bg-gray-700/50 border-gray-600"}`,children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h4",{className:"font-semibold text-white",children:fe.productName}),pt&&m.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-700/50 text-green-300 rounded",children:"In Catalog"}),it==="expired"&&m.jsx(qu,{className:"w-4 h-4 text-red-400"}),it==="expiring-soon"&&m.jsx(qu,{className:"w-4 h-4 text-yellow-400"})]}),fe.manufacturer&&m.jsx("p",{className:"text-sm text-gray-400",children:fe.manufacturer}),m.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400",children:"Quantity: "}),m.jsxs("span",{className:"text-white font-medium",children:[fe.estimatedQuantity," (",fe.visibleUnits," visible)"]})]}),fe.expirationDate&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400",children:"Expires: "}),m.jsx("span",{className:`font-medium ${it==="expired"?"text-red-300":it==="expiring-soon"?"text-yellow-300":"text-green-300"}`,children:fe.expirationDate})]}),fe.location&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400",children:"Location: "}),m.jsx("span",{className:"text-white",children:fe.location})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-400",children:"Confidence: "}),m.jsxs("span",{className:"text-white",children:[Math.round(fe.confidence*100),"%"]})]})]}),fe.notes&&m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:fe.notes})]}),He&&m.jsx("div",{className:"ml-4",children:m.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-cyan-400"})})]})},Me)})})]}),Ne.length>0&&m.jsxs("div",{className:"bg-indigo-900/20 border border-indigo-700 rounded-lg p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),m.jsxs("h3",{className:"font-semibold text-indigo-300",children:["Marketplace Opportunities (",Ne.length,")"]})]}),m.jsx("p",{className:"text-sm text-gray-300 mb-3",children:"These products are expiring soon and could be listed on the marketplace to reduce waste:"}),m.jsx("div",{className:"space-y-2",children:Ne.slice(0,5).map((fe,Me)=>{const He=fe.expirationDate?Math.ceil((new Date(fe.expirationDate).getTime()-new Date().getTime())/864e5):null;return m.jsxs("div",{className:"bg-indigo-900/30 rounded p-2 text-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-medium text-white",children:fe.productName}),fe.expirationDate&&m.jsx("span",{className:"ml-2 text-indigo-300",children:He!==null&&He>0?`${He} days left`:"Expired"}),m.jsxs("span",{className:"ml-2 text-gray-400",children:["Qty: ",fe.estimatedQuantity]})]}),m.jsx("button",{onClick:()=>{Q(`Consider listing ${fe.productName} on marketplace to reduce waste`,"info")},className:"text-xs px-3 py-1 bg-indigo-600 hover:bg-indigo-700 rounded text-white transition-colors",children:"List on Marketplace"})]},Me)})})]}),p.recommendations&&p.recommendations.length>0&&m.jsxs("div",{className:"bg-blue-900/20 border border-blue-700 rounded-lg p-4",children:[m.jsx("h3",{className:"font-semibold text-blue-300 mb-2",children:"Recommendations"}),m.jsx("ul",{className:"space-y-1 text-sm text-gray-300",children:p.recommendations.map((fe,Me)=>m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx("span",{className:"text-blue-400",children:""}),m.jsx("span",{children:fe})]},Me))})]})]}),m.jsx("div",{className:"flex-shrink-0 bg-gray-800 border-t border-gray-700 p-4",children:m.jsxs("div",{className:"flex items-center justify-between gap-4",children:[m.jsx("div",{className:"text-sm text-gray-400",children:o==="updating"&&m.jsxs("span",{children:["Updating inventory... (",F,"/",p.products.length,")"]})}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:()=>{u("idle"),N(null)},className:"px-4 py-2 rounded-md bg-gray-700 text-white hover:bg-gray-600",children:"Scan Again"}),m.jsx("button",{onClick:ve,disabled:o==="updating",className:"px-6 py-2 rounded-md bg-cyan-600 text-white hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o==="updating"?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Updating..."]}):m.jsxs(m.Fragment,{children:[m.jsx(av,{className:"w-5 h-5"}),"Update Inventory"]})})]})]})})]}):m.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col","aria-modal":"true",children:[m.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("canvas",{ref:a,className:"hidden"}),re&&m.jsxs("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-yellow-600/95 text-white p-4 rounded-lg text-center z-30 max-w-md mx-auto shadow-2xl border-2 border-yellow-400",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[m.jsx("svg",{className:"w-6 h-6 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),m.jsx("h3",{className:"text-lg font-bold",children:"Gemini API Overloaded"})]}),m.jsx("p",{className:"text-sm mb-3",children:g||"Please wait a moment and try again."}),m.jsx("button",{onClick:()=>{ce(!1),v(null)},className:"px-4 py-2 bg-yellow-700 hover:bg-yellow-800 rounded-md text-sm font-semibold transition-colors",children:"Retry"})]}),g&&!re&&m.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-red-800/80 text-white p-3 rounded-lg text-center z-30 max-w-md",children:g}),m.jsxs("div",{className:"absolute top-4 left-4 bg-black/50 text-white px-4 py-2 rounded-full z-20",children:[o==="scanning"&&"Capturing shelf photo...",o==="processing"&&"Analyzing shelf for products...",o==="idle"&&"Position your phone to scan the shelf"]}),o==="processing"&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-cyan-400 mx-auto mb-4"}),m.jsx("p",{className:"text-white text-lg",children:"Analyzing shelf..."}),m.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Detecting products and quantities"})]})}),m.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-white bg-black/50 rounded-full p-2 hover:bg-black/80 transition-colors z-30","aria-label":"Close scanner",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 backdrop-blur-sm p-6 z-20",children:m.jsxs("div",{className:"max-w-2xl mx-auto",children:[m.jsxs("h3",{className:"text-xl font-bold text-white mb-2 flex items-center gap-2",children:[m.jsx(Mo,{className:"w-6 h-6 text-cyan-400"}),"Shelf Scanner"]}),m.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Point your camera at a shelf to automatically detect all products, update stock levels, and check expiration dates."}),m.jsx("button",{onClick:le,disabled:o==="scanning"||o==="processing",className:"w-full flex items-center justify-center gap-3 py-4 px-6 bg-cyan-600 text-white font-semibold rounded-lg hover:bg-cyan-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-lg",children:o==="scanning"||o==="processing"?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),o==="scanning"?"Capturing...":"Processing..."]}):m.jsxs(m.Fragment,{children:[m.jsx(Mo,{className:"w-6 h-6"}),"Scan Shelf"]})})]})})]})},b4=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),m.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),m.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),w4=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("line",{x1:"8",y1:"6",x2:"21",y2:"6"}),m.jsx("line",{x1:"8",y1:"12",x2:"21",y2:"12"}),m.jsx("line",{x1:"8",y1:"18",x2:"21",y2:"18"}),m.jsx("line",{x1:"3",y1:"6",x2:"3.01",y2:"6"}),m.jsx("line",{x1:"3",y1:"12",x2:"3.01",y2:"12"}),m.jsx("line",{x1:"3",y1:"18",x2:"3.01",y2:"18"})]}),_4=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),m.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),m.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),m.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),S4=({summaries:t,items:e,batches:n,onAddBatch:s,onDataRefresh:a})=>{const[o,u]=ee.useState(null),[g,v]=ee.useState("grid"),[p,N]=ee.useState("overview"),[R,U]=ee.useState(!1),[F,L]=ee.useState(!1),[Q,re]=ee.useState(null),[ce,ue]=ee.useState(!1),{showToast:te}=Ki(),[se,le]=ee.useState(null),[me,ve]=ee.useState({}),[Re,Ne]=ee.useState(null),[fe,Me]=ee.useState(null),[He,pt]=ee.useState(!1),it=ee.useMemo(()=>t.map(Pe=>({productId:Pe.productId,productName:Pe.productName})),[t]),Rt=ee.useMemo(()=>{const Pe=new Date,mt=new Date(Pe.getTime()+10080*60*1e3);return t.filter(at=>{const vt=new Date(at.earliestExpiration);return vt<=mt&&vt>=Pe})},[t]),ie=ee.useMemo(()=>{const Pe=new Date;return t.filter(mt=>new Date(mt.earliestExpiration)<Pe)},[t]);ee.useCallback(()=>{a(),te("New product successfully learned and added to catalog!","success")},[a,te]);const[ye,De]=ee.useState(null),Ue=ee.useCallback(Pe=>{U(!1),De(Pe),N("manual"),te("Scan complete! Please verify and edit the pre-populated data in the form below before adding to inventory.","success")},[te]),je=ee.useCallback(()=>{N("overview"),a(),te("Inventory batch added successfully!","success")},[a,te]),[ae,pe]=ee.useState(!1),ke=ee.useCallback(async Pe=>{pe(!1),ue(!0),re(null);try{const mt=kg();if(!mt){te("No active shop context. Please ensure you are logged in.","error"),ue(!1);return}const at=await iv(Pe,mt);re(at),at.length>0?te(`Found ${at.length} matching items in inventory!`,"success"):te("This item is not in the inventory.","info")}catch(mt){te("Visual search failed: "+(mt instanceof Error?mt.message:"Unknown error"),"error")}finally{ue(!1)}},[te]),Fe=ee.useCallback(Pe=>{if(!Pe.inventoryUuid){te("This entry was imported without a Qdrant reference and cannot be edited.","error");return}Me(null),ve({quantity:Pe.quantity,expirationDate:Pe.expirationDate,location:Pe.location||"",costPerUnit:Pe.costPerUnit,sellPrice:Pe.sellPrice??void 0}),le(Pe)},[te]),tt=ee.useCallback(Pe=>{if(!Pe.inventoryUuid){te("This entry was imported without a Qdrant reference and cannot be deleted.","error");return}Me(null),Ne(Pe)},[te]),ct=ee.useCallback((Pe,mt)=>{if(Pe==="quantity"||Pe==="costPerUnit"||Pe==="sellPrice"){ve(at=>({...at,[Pe]:mt===""?void 0:Number(mt)}));return}ve(at=>({...at,[Pe]:mt}))},[]),yt=ee.useCallback(async Pe=>{if(Pe.preventDefault(),!!(se!=null&&se.inventoryUuid)){pt(!0),Me(null);try{await s_(se.inventoryUuid,me),await Promise.resolve(a()),te("Inventory item updated.","success"),le(null)}catch(mt){Me(mt instanceof Error?mt.message:"Failed to update inventory item.")}finally{pt(!1)}}},[se,me,a,te]),qe=ee.useCallback(async()=>{if(Re!=null&&Re.inventoryUuid){pt(!0),Me(null);try{await i_(Re.inventoryUuid),await Promise.resolve(a()),te("Inventory item deleted.","success"),Ne(null)}catch(Pe){Me(Pe instanceof Error?Pe.message:"Failed to delete inventory item.")}finally{pt(!1)}}},[Re,a,te]);return m.jsxs(m.Fragment,{children:[o&&m.jsx(y4,{product:o,allItems:e,allBatches:n,onClose:()=>u(null)}),R&&m.jsx(xh,{onDataScanned:Ue,onClose:()=>U(!1),productOptions:it}),F&&m.jsx(x4,{summaries:t,onScanComplete:()=>{L(!1),a()},onClose:()=>L(!1)}),ae&&m.jsx(xh,{onDataScanned:Pe=>{const mt=Pe.blobs.get("productName")||Pe.blobs.get("manufacturer")||Array.from(Pe.blobs.values())[0];mt?ke(mt):(te("No image captured. Please try again.","error"),pe(!1))},onClose:()=>pe(!1),productOptions:it,mode:"visual-search"}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Inventory Management"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>N("overview"),className:`px-4 py-2 rounded-md text-sm font-semibold transition ${p==="overview"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Overview"}),m.jsx("button",{onClick:()=>N("manual"),className:`px-4 py-2 rounded-md text-sm font-semibold transition ${p==="manual"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Manual Entry"})]})]}),(Rt.length>0||ie.length>0)&&m.jsxs("div",{className:"mt-4 p-4 rounded-lg border-l-4 bg-yellow-900/20 border-yellow-500",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(qu,{className:"w-5 h-5 text-yellow-400"}),m.jsxs("h3",{className:"font-semibold text-yellow-300",children:[ie.length>0&&`${ie.length} Expired`,ie.length>0&&Rt.length>0&&"  ",Rt.length>0&&`${Rt.length} Expiring Soon`]})]}),m.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[ie.slice(0,5).map(Pe=>m.jsxs("span",{className:"px-2 py-1 bg-red-900/50 text-red-300 rounded text-xs",children:[Pe.productName," (Expired)"]},Pe.productId)),Rt.slice(0,5).map(Pe=>m.jsxs("span",{className:"px-2 py-1 bg-yellow-900/50 text-yellow-300 rounded text-xs",children:[Pe.productName," (Expires: ",new Date(Pe.earliestExpiration).toLocaleDateString(),")"]},Pe.productId))]})]})]}),p==="overview"&&m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 shadow-lg",children:[m.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Quick Actions"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:()=>L(!0),className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all",children:[m.jsx(Mo,{className:"w-6 h-6"}),"Scan Shelf"]}),m.jsx("p",{className:"text-xs text-gray-400 text-center px-2",children:"Scan entire shelf - detects all products, updates stock, shows expiration alerts"}),m.jsxs("button",{onClick:()=>U(!0),className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all",children:[m.jsx(Mo,{className:"w-6 h-6"}),"Live Scan Item"]}),m.jsx("p",{className:"text-xs text-gray-400 text-center px-2",children:"Use your camera to automatically extract product data"}),m.jsxs("button",{onClick:()=>pe(!0),disabled:ce,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-purple-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(Mo,{className:"w-6 h-6"}),ce?"Searching...":"Live Imagery Search"]}),m.jsx("p",{className:"text-xs text-gray-400 text-center px-2",children:"Use your camera to search inventory by image"}),m.jsxs("button",{onClick:()=>N("manual"),className:"w-full flex items-center justify-center gap-3 py-3 px-4 border border-gray-600 rounded-md shadow-sm text-base font-medium text-gray-200 bg-gray-700/50 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all",children:[m.jsx(_4,{className:"w-6 h-6"}),"Manual Entry"]}),m.jsx("p",{className:"text-xs text-gray-400 text-center px-2",children:"Enter inventory details manually or complete a scan"})]}),Q&&Q.length>0&&m.jsxs("div",{className:"mt-4 p-4 bg-purple-900/20 border border-purple-700 rounded-lg",children:[m.jsxs("h3",{className:"text-sm font-semibold text-purple-300 mb-2",children:["Visual Search Results (",Q.length," found)"]}),m.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Q.map((Pe,mt)=>m.jsxs("div",{className:"text-xs p-2 bg-gray-900/50 rounded",children:[m.jsxs("p",{className:"text-white font-medium",children:["Product ID: ",Pe.productId]}),m.jsxs("p",{className:"text-gray-400",children:["Qty: ",Pe.quantity," | Exp: ",Pe.expirationDate]})]},mt))}),m.jsx("button",{onClick:()=>re(null),className:"mt-2 text-xs text-purple-400 hover:text-purple-300",children:"Clear results"})]})]}),m.jsx(g4,{items:e,batches:n})]}),m.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:"Current Inventory"}),m.jsxs("div",{className:"flex items-center p-1 bg-gray-900/50 rounded-lg border border-gray-700",children:[m.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded-md transition-colors ${g==="grid"?"bg-cyan-600 text-white":"text-gray-400 hover:text-white"}`,"aria-label":"Grid view",title:"Grid View",children:m.jsx(b4,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>v("table"),className:`p-2 rounded-md transition-colors ${g==="table"?"bg-cyan-600 text-white":"text-gray-400 hover:text-white"}`,"aria-label":"Table view",title:"Table View",children:m.jsx(w4,{className:"w-5 h-5"})})]})]}),g==="grid"?m.jsx(p4,{summaries:t,inventoryItems:e,onSelectProduct:u,onEditItem:Fe,onDeleteItem:tt}):m.jsx(m4,{inventory:e,batches:n,onEditRequest:Fe,onDeleteRequest:tt})]})]}),p==="manual"&&m.jsx(v4,{onAddBatch:(Pe,mt)=>{s(Pe,mt),je(),De(null)},summaries:t,pendingScanResult:ye,onScanResultProcessed:()=>De(null)}),se&&m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-lg",children:[m.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 p-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Edit Inventory Item"}),m.jsx("p",{className:"text-sm text-gray-400",children:se.productName})]}),m.jsx("button",{onClick:()=>{le(null),Me(null)},className:"text-gray-400 hover:text-white text-2xl leading-5","aria-label":"Close edit item modal",children:""})]}),m.jsxs("form",{onSubmit:yt,className:"p-4 space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[m.jsxs("label",{className:"text-sm text-gray-300",children:["Quantity",m.jsx("input",{type:"number",min:0,className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-white",value:me.quantity??"",onChange:Pe=>ct("quantity",Pe.target.value)})]}),m.jsxs("label",{className:"text-sm text-gray-300",children:["Expiration Date",m.jsx("input",{type:"date",className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-white",value:me.expirationDate??"",onChange:Pe=>ct("expirationDate",Pe.target.value)})]}),m.jsxs("label",{className:"text-sm text-gray-300",children:["Cost / Unit",m.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-white",value:me.costPerUnit??"",onChange:Pe=>ct("costPerUnit",Pe.target.value)})]}),m.jsxs("label",{className:"text-sm text-gray-300",children:["Sell Price",m.jsx("input",{type:"number",step:"0.01",className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-white",value:me.sellPrice??"",onChange:Pe=>ct("sellPrice",Pe.target.value)})]})]}),m.jsxs("label",{className:"text-sm text-gray-300 block",children:["Location",m.jsx("input",{type:"text",className:"mt-1 w-full bg-gray-800 border border-gray-700 rounded-md p-2 text-white",value:me.location??"",onChange:Pe=>ct("location",Pe.target.value)})]}),fe&&m.jsx("p",{className:"text-sm text-red-400",children:fe}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:()=>{le(null),Me(null)},className:"px-4 py-2 rounded-md bg-gray-700 text-white hover:bg-gray-600",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:He,className:"px-4 py-2 rounded-md bg-cyan-600 text-white hover:bg-cyan-500 disabled:opacity-60",children:He?"Saving...":"Save Changes"})]})]})]})}),Re&&m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:m.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 w-full max-w-md p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Delete Inventory Item"}),m.jsxs("p",{className:"text-sm text-gray-300",children:["Are you sure you want to remove ",m.jsx("span",{className:"text-white font-semibold",children:Re.productName})," from inventory? This action cannot be undone."]}),fe&&m.jsx("p",{className:"text-sm text-red-400 mt-3",children:fe}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:()=>{Ne(null),Me(null)},className:"px-4 py-2 rounded-md bg-gray-700 text-white hover:bg-gray-600",children:"Cancel"}),m.jsx("button",{onClick:qe,disabled:He,className:"px-4 py-2 rounded-md bg-red-600 text-white hover:bg-red-500 disabled:opacity-60",children:He?"Deleting...":"Delete"})]})]})})]})]})},gy=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("circle",{cx:"9",cy:"21",r:"1"}),m.jsx("circle",{cx:"20",cy:"21",r:"1"}),m.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),M_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),O_=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:m.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),vg=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("polyline",{points:"3 6 5 6 21 6"}),m.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),m.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),m.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),U_=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),m.jsx("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),m.jsx("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),m.jsx("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),m.jsx("line",{x1:"7",y1:"12",x2:"17",y2:"12"})]}),E4=({summaries:t,onProductScanned:e,onClose:n})=>{const s=ee.useRef(null),a=ee.useRef(null),o=ee.useRef(null),[u,g]=ee.useState("SCANNING"),[v,p]=ee.useState(null),[N,R]=ee.useState(null),U=ee.useMemo(()=>t.map(ue=>ue.productName),[t]),F=ee.useCallback(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]),L=ee.useCallback(async()=>{if(!s.current||!a.current||document.hidden)return;const ue=s.current,te=a.current;te.width=ue.videoWidth,te.height=ue.videoHeight;const se=te.getContext("2d");se&&(se.drawImage(ue,0,0,ue.videoWidth,ue.videoHeight),te.toBlob(async le=>{if(le&&o.current)try{const me=await sv(le,U);me?(p(me),g("DETECTED"),e(me),F(),setTimeout(()=>{g("SCANNING"),p(null),o.current=window.setInterval(L,2e3)},2500)):g("NO_PRODUCT")}catch(me){console.warn("Scan failed:",me),g("ERROR")}},"image/jpeg",.8))},[U,e,F]);ee.useEffect(()=>{let ue=null;return(async()=>{try{ue=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}}),s.current&&(s.current.srcObject=ue),F(),o.current=window.setInterval(L,2e3)}catch(se){console.error("Error accessing camera:",se),R("Could not access the camera. Please ensure permissions are granted."),g("ERROR")}})(),()=>{F(),ue&&ue.getTracks().forEach(se=>se.stop())}},[L,F]);const Q=()=>{switch(u){case"SCANNING":return{message:"Point camera at a product",color:"border-gray-500"};case"DETECTED":return{message:`${v} added to cart!`,color:"border-green-500 animate-pulse-border"};case"NO_PRODUCT":return{message:"Searching for product...",color:"border-yellow-500"};case"ERROR":return{message:"Scanner error. Please try again.",color:"border-red-500"};default:return{message:"",color:"border-transparent"}}},{message:re,color:ce}=Q();return m.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center","aria-modal":"true",children:[m.jsx("style",{children:`
            @keyframes pulse-border {
                0%, 100% { box-shadow: 0 0 0 0 rgba(4, 120, 87, 0.7); }
                50% { box-shadow: 0 0 0 10px rgba(4, 120, 87, 0); }
            }
            .animate-pulse-border {
                animation: pulse-border 1.5s infinite;
            }
        `}),m.jsxs("div",{className:`relative w-full max-w-4xl aspect-video bg-black rounded-lg overflow-hidden border-4 ${ce} transition-all`,children:[m.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),m.jsx("canvas",{ref:a,className:"hidden"})]}),m.jsxs("div",{className:"mt-4 text-center",children:[m.jsx("p",{className:"text-white text-lg font-semibold",children:re}),N&&m.jsx("p",{className:"text-red-400 text-sm mt-1",children:N})]}),m.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-white bg-black/50 rounded-full p-2 hover:bg-black/80 transition-colors z-30","aria-label":"Close scanner",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),m.jsx("button",{onClick:n,className:"mt-8 px-8 py-3 bg-cyan-600 text-white font-bold rounded-lg hover:bg-cyan-700 transition-colors shadow-lg",children:"Done Scanning"})]})},Lb=1.4,C4=({summaries:t,onPurchase:e})=>{const[n,s]=ee.useState([]),[a,o]=ee.useState(!1),[u,g]=ee.useState("All"),[v,p]=ee.useState(!1),N=ee.useMemo(()=>t.map(se=>({...se,price:se.averageCostPerUnit*Lb})).filter(se=>u==="All"?!0:se.category===u),[t,u]),R=ee.useMemo(()=>{const se=new Set(t.map(le=>le.category));return["All",...Array.from(se)]},[t]),U=se=>{s(le=>{const me=le.find(ve=>ve.productName===se.productName);if(me){const ve=ce(se.productName);return me.quantity>=ve?le:le.map(Re=>Re.productName===se.productName?{...Re,quantity:Re.quantity+1}:Re)}return[...le,{productName:se.productName,quantity:1,price:se.price}]})},F=(se,le)=>{s(me=>me.map(Re=>Re.productName===se?{...Re,quantity:Re.quantity+le}:Re).filter(Re=>Re.quantity>0))},L=se=>{s(le=>le.filter(me=>me.productName!==se))},Q=ee.useMemo(()=>n.reduce((se,le)=>se+le.price*le.quantity,0),[n]),re=()=>{e(n.map(({productName:se,quantity:le})=>({productName:se,quantity:le}))),s([]),o(!0),setTimeout(()=>o(!1),4e3)},ce=se=>{var le;return((le=t.find(me=>me.productName===se))==null?void 0:le.totalQuantity)||0},ue=se=>{var le;return((le=n.find(me=>me.productName===se))==null?void 0:le.quantity)||0},te=se=>{const le=t.find(me=>me.productName===se);if(le){const me={...le,price:le.averageCostPerUnit*Lb};U(me)}};return m.jsxs(m.Fragment,{children:[v&&m.jsx(E4,{summaries:t,onProductScanned:te,onClose:()=>p(!1)}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 gap-4",children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Welcome to the Kiosk"}),m.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center gap-2 py-2 px-4 border border-cyan-600 rounded-md shadow-sm text-sm font-medium text-cyan-400 bg-cyan-900/30 hover:bg-cyan-900/60 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all",children:[m.jsx(U_,{className:"w-5 h-5"}),"Scan Item to Add"]})]}),m.jsx("div",{className:"mb-6",children:m.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(se=>m.jsx("button",{onClick:()=>g(se),className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${u===se?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:se},se))})}),N.length===0?m.jsx("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 text-center text-gray-400",children:m.jsx("p",{children:"There are no products available in this category. Please check back later."})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:N.map(se=>{const le=ue(se.productName),me=se.totalQuantity,ve=le<me;return m.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700 overflow-hidden flex flex-col",children:[m.jsxs("div",{className:"p-4 flex-grow",children:[m.jsx("div",{className:"flex justify-center items-center h-24 w-24 bg-gray-700/50 rounded-lg mx-auto mb-4",children:m.jsx(b_,{className:"w-12 h-12 text-gray-500"})}),m.jsx("h3",{className:"font-semibold text-white truncate",children:se.productName}),m.jsx("p",{className:"text-sm text-gray-400 mb-2 truncate",children:se.manufacturer}),m.jsxs("p",{className:"text-xl font-bold text-cyan-400",children:["$",se.price.toFixed(2)]})]}),m.jsx("div",{className:"p-4 bg-gray-900/50",children:m.jsxs("button",{onClick:()=>U(se),disabled:!ve,className:"w-full flex items-center justify-center gap-2 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all disabled:bg-gray-600 disabled:cursor-not-allowed",children:[m.jsx(gy,{className:"w-5 h-5"}),ve?"Add to Cart":"Out of Stock"]})})]},se.productName)})})]}),m.jsx("div",{className:"lg:col-span-1",children:m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700 sticky top-28",children:[m.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[m.jsx(gy,{className:"w-6 h-6 text-cyan-400"}),"Your Cart"]}),a&&m.jsxs("div",{className:"bg-green-800/50 border border-green-600 text-green-300 p-4 rounded-lg mb-4 text-center",children:[m.jsx("h3",{className:"font-bold",children:"Purchase Successful!"}),m.jsx("p",{className:"text-sm",children:"Thank you for your order."})]}),n.length>0?m.jsxs("div",{className:"space-y-4",children:[m.jsx("ul",{className:"space-y-3 max-h-80 overflow-y-auto pr-2 -mr-2",children:n.map(se=>m.jsxs("li",{className:"flex items-center gap-4 text-sm",children:[m.jsxs("div",{className:"flex-grow",children:[m.jsx("p",{className:"font-medium text-white truncate",children:se.productName}),m.jsxs("p",{className:"text-gray-400",children:["$",se.price.toFixed(2)]})]}),m.jsxs("div",{className:"flex items-center gap-1 bg-gray-700/50 rounded-md",children:[m.jsx("button",{onClick:()=>F(se.productName,-1),className:"p-1 text-gray-300 hover:text-white",children:m.jsx(O_,{className:"w-4 h-4"})}),m.jsx("span",{className:"font-bold text-white px-1",children:se.quantity}),m.jsx("button",{onClick:()=>F(se.productName,1),disabled:se.quantity>=ce(se.productName),className:"p-1 text-gray-300 hover:text-white disabled:text-gray-600",children:m.jsx(M_,{className:"w-4 h-4"})})]}),m.jsx("button",{onClick:()=>L(se.productName),className:"p-1 text-gray-400 hover:text-red-400",children:m.jsx(vg,{className:"w-4 h-4"})})]},se.productName))}),m.jsxs("div",{className:"border-t border-gray-700 pt-4 space-y-4",children:[m.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[m.jsx("span",{className:"text-gray-300",children:"Total:"}),m.jsxs("span",{className:"text-white",children:["$",Q.toFixed(2)]})]}),m.jsx("button",{onClick:re,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all",children:"Checkout"})]})]}):m.jsx("p",{className:"text-center text-gray-500 py-8",children:"Your cart is empty."})]})})]})]})},T4=({summaries:t,onClose:e,onListProduct:n})=>{const[s,a]=ee.useState(""),[o,u]=ee.useState(1),[g,v]=ee.useState(0),[p,N]=ee.useState(""),R=t.find(L=>L.productName===s),U=(R==null?void 0:R.totalQuantity)||0,F=L=>{if(L.preventDefault(),N(""),!s||o<=0||g<=0){N("Please fill all fields with valid values.");return}if(o>U){N(`Quantity cannot exceed available stock of ${U}.`);return}n(s,o,g)};return m.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 flex items-center justify-center p-4",onClick:e,children:m.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg shadow-2xl w-full max-w-lg",onClick:L=>L.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center",children:[m.jsx("h2",{className:"text-2xl font-bold text-white",children:"List Product on Marketplace"}),m.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition-colors",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("form",{onSubmit:F,className:"p-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"product",className:"block text-sm font-medium text-gray-300",children:"Product"}),m.jsxs("select",{id:"product",value:s,onChange:L=>a(L.target.value),className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm",children:[m.jsx("option",{value:"",children:"Select a product..."}),t.map(L=>m.jsxs("option",{value:L.productName,children:[L.productName," (In Stock: ",L.totalQuantity,")"]},L.productName))]})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-300",children:"Quantity to List"}),m.jsx("input",{type:"number",id:"quantity",value:o,onChange:L=>u(Math.max(1,parseInt(L.target.value)||1)),min:"1",max:U,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-300",children:"Price per Unit ($)"}),m.jsx("input",{type:"number",id:"price",value:g,onChange:L=>v(parseFloat(L.target.value)||0),min:"0.01",step:"0.01",className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm"})]}),p&&m.jsx("p",{className:"text-red-400 text-sm",children:p}),m.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[m.jsx("button",{type:"button",onClick:e,className:"py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700/50 hover:bg-gray-700",children:"Cancel"}),m.jsx("button",{type:"submit",className:"py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700",children:"List Product"})]})]})]})})},A4=({summaries:t,user:e,onPurchase:n})=>{const[s,a]=ee.useState([]),[o,u]=ee.useState([]),[g,v]=ee.useState(!0),[p,N]=ee.useState(null),[R,U]=ee.useState(!1),[F,L]=ee.useState("peer"),[Q,re]=ee.useState([]),[ce,ue]=ee.useState(!1),[te,se]=ee.useState(null),le=ee.useCallback(async()=>{if(!e.isVerified){v(!1);return}v(!0),N(null);try{const[fe,Me]=await Promise.all([R3(e),Bw()]);a(fe),u(Me)}catch(fe){N(fe instanceof Error?fe.message:"Failed to load marketplace data.")}finally{v(!1)}},[e]),me=ee.useCallback(async()=>{if(Ra){ue(!0),se(null);try{const fe=await n_();re(fe)}catch(fe){se(fe instanceof Error?fe.message:"Failed to load DAN offers.")}finally{ue(!1)}}},[]);ee.useEffect(()=>{le()},[le]),ee.useEffect(()=>{Ra&&F==="dan"&&me()},[F,me]);const ve=async(fe,Me,He)=>{if(!t.find(Rt=>Rt.productName===fe))return;const it=fe.toLowerCase().replace(/ /g,"-");await Lw({productId:it,productName:fe,quantity:Me,price:He}),U(!1),le()},Re=fe=>{alert(`Signal sent! Coordinate with ${fe.shopName||fe.shopId} to fulfill ${fe.productName}.`)},Ne=fe=>{const Me=prompt(`How many units of ${fe.productName} would you like to buy? (Available: ${fe.quantity})`,"1");if(Me){const He=parseInt(Me,10);!isNaN(He)&&He>0&&He<=fe.quantity?(n(fe,He),alert(`Successfully purchased ${He} ${fe.productName}! It has been added to your inventory.`)):alert("Invalid quantity entered.")}};return e.isVerified?m.jsxs(m.Fragment,{children:[R&&m.jsx(T4,{summaries:t,onClose:()=>U(!1),onListProduct:ve}),m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Marketplace"}),m.jsx("p",{className:"text-lg text-gray-400",children:"Buy and sell inventory with other verified shops in the network."})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[m.jsx("div",{className:"lg:col-span-4",children:m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"My Listings"}),m.jsx("button",{onClick:()=>U(!0),className:"w-full text-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all",children:"List a Product"}),m.jsx("div",{className:"mt-4 space-y-3 max-h-96 overflow-y-auto",children:o.length>0?o.map(fe=>m.jsxs("div",{className:"p-3 bg-gray-900/50 rounded-md text-sm",children:[m.jsx("p",{className:"font-semibold text-white",children:fe.productName}),m.jsxs("p",{className:"text-gray-400",children:[fe.quantity," units at $",fe.price.toFixed(2),"/each"]})]},fe.id)):m.jsx("p",{className:"text-center text-gray-500 py-4",children:"You haven't listed any products."})})]})}),m.jsx("div",{className:"lg:col-span-8",children:m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:F==="dan"?"DAN Offers":"Peer Offerings"}),Ra&&m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>L("peer"),className:`px-4 py-2 rounded-md text-sm font-semibold transition ${F==="peer"?"bg-cyan-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"Peer Network"}),m.jsx("button",{onClick:()=>L("dan"),className:`px-4 py-2 rounded-md text-sm font-semibold transition ${F==="dan"?"bg-indigo-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"DAN Offers Only"})]})]}),F==="peer"&&m.jsxs(m.Fragment,{children:[g&&m.jsx("p",{className:"text-cyan-400 mt-4",children:"Loading peer listings..."}),p&&m.jsx("p",{className:"text-red-400 mt-4",children:p}),!g&&!p&&m.jsx("div",{className:"space-y-6 mt-4",children:s.map(fe=>m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-cyan-400",children:fe.name}),m.jsx("div",{className:"mt-2 divide-y divide-gray-700 border-t border-b border-gray-700",children:fe.listings.map(Me=>m.jsxs("div",{className:"p-3 grid grid-cols-1 md:grid-cols-4 gap-4 items-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold text-white",children:Me.productName}),m.jsx("p",{className:"text-xs text-gray-400",children:Me.manufacturer})]}),m.jsx("div",{className:"text-sm",children:m.jsxs("p",{className:"text-gray-300",children:[Me.quantity," ",Me.quantityType]})}),m.jsx("div",{className:"text-sm font-bold",children:m.jsxs("p",{className:"text-white",children:["$",Me.price.toFixed(2)]})}),m.jsx("div",{children:m.jsx("button",{onClick:()=>Ne(Me),className:"w-full md:w-auto text-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition-all",children:"Buy"})})]},Me.listingId))})]},fe.id))})]}),F==="dan"&&Ra&&m.jsxs("div",{className:"mt-4 space-y-4",children:[ce&&m.jsx("p",{className:"text-indigo-300",children:"Syncing DAN offers..."}),te&&m.jsx("p",{className:"text-red-400",children:te}),!ce&&!te&&m.jsx(m.Fragment,{children:Q.filter(fe=>fe.shopId!==(e.shopId||e.clientId)).length===0?m.jsx("p",{className:"text-gray-400",children:"No external DAN offers yet. Encourage peers to opt-in sharing from Inventory > Manual Entry."}):m.jsx("div",{className:"grid grid-cols-1 gap-4",children:Q.filter(fe=>fe.shopId!==(e.shopId||e.clientId)).map(fe=>{var Me;return m.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-900/40",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-lg font-semibold text-white",children:fe.productName}),m.jsxs("p",{className:"text-xs text-gray-400",children:["From ",fe.shopName||fe.shopId]})]}),m.jsx("span",{className:"text-xs px-2 py-1 rounded-full border border-indigo-400 text-indigo-300",children:"DAN"})]}),m.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-4 gap-3 text-sm text-gray-300",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Quantity"}),m.jsxs("p",{children:[fe.quantity," units"]})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Expires"}),m.jsx("p",{children:new Date(fe.expirationDate).toLocaleDateString()})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Aisle Zone"}),m.jsx("p",{children:fe.locationBucket||"Hidden"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-gray-400 text-xs uppercase",children:"Signal Hash"}),m.jsx("p",{className:"font-mono text-xs",children:((Me=fe.proofHash)==null?void 0:Me.slice(0,12))??""})]})]}),m.jsxs("div",{className:"mt-4 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[m.jsx("div",{className:"text-sm text-gray-400",children:fe.sellPrice?`Listed at $${fe.sellPrice.toFixed(2)} / unit`:"Price shared privately"}),m.jsx("button",{onClick:()=>Re(fe),className:"w-full md:w-auto text-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all",children:"Signal Interest"})]})]},fe.inventoryUuid)})})})]})]})})]})]})]}):m.jsxs("div",{className:"text-center bg-gray-800/50 p-12 rounded-lg border border-gray-700",children:[m.jsx("h1",{className:"text-2xl font-bold text-yellow-400",children:"Verification Pending"}),m.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Your shop is awaiting verification by the network admin."}),m.jsx("p",{className:"text-gray-500 mt-4",children:"Once verified, you will be able to access the peer-to-peer marketplace here."}),m.jsx("p",{className:"text-gray-500 mt-1",children:'Navigate to the "Backend" tab to simulate the admin view and verify this shop.'})]})},N4=()=>{const[t,e]=ee.useState([]),[n,s]=ee.useState([]),[a,o]=ee.useState([]),[u,g]=ee.useState([]),[v,p]=ee.useState(!0),[N,R]=ee.useState(new Date),U=ee.useCallback(async()=>{p(!0);const[Q,re,ce,ue]=await Promise.all([E3(),C3(),T3(),A3()]);e(Q),s(re),o(ce),g(ue),p(!1)},[]);ee.useEffect(()=>{U()},[U,N]);const F=async Q=>{await N3(Q),R(new Date)},L=async Q=>{await k3(Q),R(new Date)};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-white",children:"Backend Admin Panel"}),m.jsx("p",{className:"text-lg text-gray-400",children:"Simulated proxy server for verifying new shops and drivers."})]}),m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsxs("h2",{className:"text-xl font-semibold text-white",children:["Pending Shop Verifications (",t.length,")"]}),m.jsx("button",{onClick:()=>R(new Date),className:"text-sm text-cyan-400 hover:text-cyan-300",children:"Refresh"})]}),v?m.jsx("p",{className:"text-center text-gray-400",children:"Loading..."}):t.length===0?m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No shops are awaiting verification."}):m.jsx(Zm,{users:t,onVerify:F})]}),m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsxs("h2",{className:"text-xl font-semibold text-white mb-4",children:["Pending Driver Verifications (",a.length,")"]}),v?m.jsx("p",{className:"text-center text-gray-400",children:"Loading..."}):a.length===0?m.jsx("p",{className:"text-center text-gray-500 py-8",children:"No drivers are awaiting verification."}):m.jsx(Zm,{users:a,onVerify:L,isDriverTable:!0})]}),m.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-lg border border-gray-700",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Active Network Participants"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-cyan-400",children:["Verified Shops (",n.length,")"]}),n.length>0?m.jsx(Zm,{users:n}):m.jsx("p",{className:"text-gray-500 text-sm",children:"No verified shops."}),m.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mt-6",children:["Verified Drivers (",u.length,")"]}),u.length>0?m.jsx(Zm,{users:u,isDriverTable:!0}):m.jsx("p",{className:"text-gray-500 text-sm",children:"No verified drivers."})]})]}),m.jsxs("div",{className:"mt-6 p-4 bg-gray-900/50 rounded-lg border border-cyan-800/50",children:[m.jsx("h4",{className:"font-semibold text-cyan-500",children:"How this simulation works:"}),m.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'When a new user registers, they appear in the appropriate "Pending" list. Clicking "Verify" updates a shared `localStorage` value. The main application is continuously polling for this change. Once it detects it has been verified, it will automatically unlock the relevant features (Marketplace, Orders, or Driver panel).'})]})]})},Zm=({users:t,onVerify:e,isDriverTable:n})=>m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-800",children:m.jsxs("tr",{children:[m.jsx("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-300 sm:pl-6",children:n?"Name":"Company"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Email"}),m.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-300",children:"Client ID"}),e&&m.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:m.jsx("span",{className:"sr-only",children:"Verify"})})]})}),m.jsx("tbody",{className:"divide-y divide-gray-700 bg-gray-900/50",children:t.map(s=>m.jsxs("tr",{children:[m.jsx("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-white sm:pl-6",children:s.companyName}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-400",children:s.email}),m.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 font-mono text-xs",children:s.clientId}),e&&m.jsx("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:m.jsx("button",{onClick:()=>e(s.clientId),className:"py-1 px-3 border border-transparent rounded-md shadow-sm text-xs font-medium text-white bg-green-600 hover:bg-green-700",children:"Verify"})})]},s.clientId))})]})}),j_=ee.createContext(void 0),k4=({children:t})=>{const[e,n]=ee.useState(()=>{if(typeof window<"u"){const s=sessionStorage.getItem("current_shop");return s?JSON.parse(s):null}return null});return ee.useEffect(()=>{typeof window<"u"&&(e?sessionStorage.setItem("current_shop",JSON.stringify(e)):sessionStorage.removeItem("current_shop"))},[e]),m.jsx(j_.Provider,{value:{currentShop:e,setCurrentShop:n},children:t})},ov=()=>{const t=ee.useContext(j_);if(t===void 0)throw new Error("useShopContext must be used within a ShopContextProvider");return t},L_=ee.createContext(void 0),I4=({children:t,initialCustomer:e})=>{const[n,s]=ee.useState(()=>{if(e)return e;if(typeof window<"u"){const u=sessionStorage.getItem("customer_profile");return u?JSON.parse(u):null}return null});ee.useEffect(()=>{e&&s(u=>(u==null?void 0:u.user.clientId)===e.user.clientId?u:e)},[e]),ee.useEffect(()=>{typeof window<"u"&&(n?sessionStorage.setItem("customer_profile",JSON.stringify(n)):sessionStorage.removeItem("customer_profile"))},[n]);const a=u=>{s(u)},o=()=>{s(null)};return m.jsx(L_.Provider,{value:{customer:n,setCustomer:a,clearCustomer:o},children:t})},B_=()=>{const t=ee.useContext(L_);if(t===void 0)throw new Error("useCustomerContext must be used within a CustomerContextProvider");return t},Bb=({onShopSelected:t,showQRScanner:e=!1})=>{const{currentShop:n,setCurrentShop:s}=ov(),[a,o]=ee.useState([]),[u,g]=ee.useState(!0),[v,p]=ee.useState(!1),[N,R]=ee.useState(""),{showToast:U}=Ki();ee.useEffect(()=>{F()},[]);const F=async()=>{try{g(!0);const re=await Dw();o(re)}catch(re){console.error("Failed to load shops:",re),U("Failed to load shops","error")}finally{g(!1)}},L=re=>{s(re),U(`Selected shop: ${re.name}`,"success"),t&&t()},Q=async()=>{if(!N.trim()){U("Please enter a shop ID","error");return}try{const re=await Pw(N.trim());re?(L(re),R(""),p(!1)):U("Shop not found. Please check the QR code.","error")}catch(re){console.error("Error validating shop:",re),U("Failed to validate shop","error")}};return n?m.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Current Shop"}),m.jsx("p",{className:"text-gray-300",children:n.name})]}),m.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 text-sm text-cyan-400 hover:text-cyan-300 border border-cyan-600 rounded-lg hover:bg-cyan-900/30 transition",children:"Change Shop"})]})}):m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select a Shop"}),e&&m.jsxs("div",{className:"mb-6",children:[m.jsxs("button",{onClick:()=>p(!v),className:"w-full flex items-center justify-center gap-3 py-3 px-6 border border-transparent rounded-lg shadow-lg text-base font-semibold text-white bg-cyan-600 hover:bg-cyan-700 transition-all mb-4",children:[m.jsx(U_,{className:"w-5 h-5"}),v?"Hide QR Scanner":"Scan Shop QR Code"]}),v&&m.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Enter shop ID from QR code:"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{type:"text",value:N,onChange:re=>R(re.target.value),onKeyPress:re=>re.key==="Enter"&&Q(),placeholder:"Shop ID",className:"flex-1 px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),m.jsx("button",{onClick:Q,className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-semibold transition",children:"Go"})]})]})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Or Browse Shops"}),u?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400 mx-auto"}),m.jsx("p",{className:"text-gray-400 mt-2",children:"Loading shops..."})]}):a.length===0?m.jsx("div",{className:"text-center py-8",children:m.jsx("p",{className:"text-gray-400",children:"No shops available"})}):m.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.map(re=>m.jsxs("button",{onClick:()=>L(re),className:"w-full text-left px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg hover:bg-gray-900 hover:border-cyan-600 transition text-white",children:[m.jsx("div",{className:"font-semibold",children:re.name}),re.contactEmail&&m.jsx("div",{className:"text-sm text-gray-400",children:re.contactEmail})]},re.id))})]})]})},R4=({cart:t,totalPrice:e,shopId:n,customerId:s,onComplete:a,onCancel:o})=>{const[u,g]=ee.useState(!1),[v,p]=ee.useState(!1),{showToast:N}=Ki(),R=async()=>{try{g(!0);const U=await Ig(),F=new Map(U.map(Q=>[Q.productName,{id:Q.productId,name:Q.productName}])),L=t.map(Q=>({productName:Q.productName,quantity:Q.quantity}));gh({id:n,name:null,contactEmail:null,location:null,qdrantNamespace:null});try{await Qy(L,F)}finally{gh(null)}p(!0),N("Purchase completed successfully!","success"),setTimeout(()=>{a()},2e3)}catch(U){console.error("Purchase error:",U),N("Purchase failed: "+(U instanceof Error?U.message:"Unknown error"),"error"),g(!1)}};return v?m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 text-center",children:[m.jsx(av,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Purchase Complete!"}),m.jsx("p",{className:"text-gray-400",children:"Thank you for your purchase"})]}):m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Checkout"}),m.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4 mb-4",children:[m.jsx("h3",{className:"font-semibold text-white mb-3",children:"Order Summary"}),m.jsx("div",{className:"space-y-2",children:t.map(U=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{className:"text-gray-300",children:[U.productName," x ",U.quantity]}),m.jsxs("span",{className:"text-white font-semibold",children:["$",(U.price*U.quantity).toFixed(2)]})]},U.productId))}),m.jsxs("div",{className:"border-t border-gray-700 mt-3 pt-3 flex justify-between",children:[m.jsx("span",{className:"text-lg font-semibold text-white",children:"Total"}),m.jsxs("span",{className:"text-xl font-bold text-cyan-400",children:["$",e.toFixed(2)]})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Payment Method"}),m.jsx("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-3",children:m.jsx("p",{className:"text-gray-300 text-sm",children:"Cash / Card at pickup"})})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("button",{onClick:o,disabled:u,className:"flex-1 py-3 px-4 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:R,disabled:u,className:"flex-1 py-3 px-4 bg-cyan-600 hover:bg-cyan-700 text-white font-semibold rounded-lg transition disabled:opacity-50",children:u?"Processing...":"Complete Purchase"})]})]})},D4=({cart:t,onUpdateQuantity:e,onRemoveItem:n,totalPrice:s,shopId:a,onPurchaseComplete:o})=>{const{customer:u}=B_(),[g,v]=ee.useState(!1);return g?m.jsx(R4,{cart:t,totalPrice:s,shopId:a,customerId:(u==null?void 0:u.user.customerId)||(u==null?void 0:u.user.clientId),onComplete:o,onCancel:()=>v(!1)}):m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 sticky top-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(gy,{className:"w-6 h-6 text-cyan-400"}),m.jsx("h2",{className:"text-xl font-bold text-white",children:"Cart"}),t.length>0&&m.jsx("span",{className:"bg-cyan-600 text-white text-xs font-semibold px-2 py-1 rounded-full",children:t.length})]}),t.length===0?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("p",{className:"text-gray-400",children:"Your cart is empty"}),m.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Add items to get started"})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-4",children:t.map(p=>m.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-3",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-white text-sm",children:p.productName}),m.jsxs("p",{className:"text-xs text-gray-400",children:["$",p.price.toFixed(2)," each"]})]}),m.jsx("button",{onClick:()=>n(p.productId),className:"text-gray-400 hover:text-red-400 transition","aria-label":"Remove item",children:m.jsx(vg,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>e(p.productId,-1),className:"p-1 bg-gray-700 hover:bg-gray-600 rounded text-white transition","aria-label":"Decrease quantity",children:m.jsx(O_,{className:"w-4 h-4"})}),m.jsx("span",{className:"text-white font-semibold w-8 text-center",children:p.quantity}),m.jsx("button",{onClick:()=>e(p.productId,1),className:"p-1 bg-gray-700 hover:bg-gray-600 rounded text-white transition","aria-label":"Increase quantity",children:m.jsx(M_,{className:"w-4 h-4"})})]}),m.jsxs("p",{className:"text-cyan-400 font-semibold",children:["$",(p.price*p.quantity).toFixed(2)]})]})]},p.productId))}),m.jsxs("div",{className:"border-t border-gray-700 pt-4 space-y-3",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("span",{className:"text-lg font-semibold text-white",children:"Total"}),m.jsxs("span",{className:"text-2xl font-bold text-cyan-400",children:["$",s.toFixed(2)]})]}),m.jsx("button",{onClick:()=>{if(!u){alert("Please log in to checkout");return}v(!0)},className:"w-full py-3 px-4 bg-cyan-600 hover:bg-cyan-700 text-white font-semibold rounded-lg transition",children:u?"Checkout":"Login to Checkout"})]})]})]})},P4=()=>{const{currentShop:t,setCurrentShop:e}=ov(),[n,s]=ee.useState([]),[a,o]=ee.useState([]),[u,g]=ee.useState([]),[v,p]=ee.useState(!0),{showToast:N}=Ki();ee.useEffect(()=>{t&&R()},[t]);const R=async()=>{if(t)try{p(!0);const ue=(await Uw(t.id)).filter(se=>se.quantity>0&&(!se.status||se.status==="ACTIVE"));s(ue);const te=await Ig();o(te)}catch(ce){console.error("Failed to load inventory:",ce),N("Failed to load inventory","error")}finally{p(!1)}},U=ce=>{const ue=a.find(te=>te.productId===ce);return(ue==null?void 0:ue.productName)||"Unknown Product"},F=ce=>{const ue=U(ce.productId),te=u.find(se=>se.productId===ce.productId);if(te)te.quantity<ce.quantity?(g(u.map(se=>se.productId===ce.productId?{...se,quantity:se.quantity+1}:se)),N(`Added ${ue} to cart`,"success")):N(`Only ${ce.quantity} available`,"warning");else{const se=ce.sellPrice||ce.costPerUnit*1.4;g([...u,{productId:ce.productId,productName:ue,quantity:1,price:se,stockItem:ce}]),N(`Added ${ue} to cart`,"success")}},L=(ce,ue)=>{g(u.map(te=>{if(te.productId===ce){const se=te.quantity+ue,le=te.stockItem.quantity;return se<=0?null:se>le?(N(`Only ${le} available`,"warning"),te):{...te,quantity:se}}return te}).filter(Boolean))},Q=ce=>{g(u.filter(ue=>ue.productId!==ce))};if(!t)return m.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 text-center",children:m.jsx("p",{className:"text-gray-400",children:"Please select a shop to start shopping"})});const re=u.reduce((ce,ue)=>ce+ue.price*ue.quantity,0);return m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-4",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:t.name}),t.contactEmail&&m.jsx("p",{className:"text-gray-400 text-sm",children:t.contactEmail})]}),m.jsx("button",{onClick:()=>{e(null),g([])},className:"px-4 py-2 text-sm text-cyan-400 hover:text-cyan-300 border border-cyan-600 rounded-lg hover:bg-cyan-900/30 transition whitespace-nowrap",children:"Change Shop"})]})}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Available Products"}),v?m.jsxs("div",{className:"text-center py-12",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400 mx-auto"}),m.jsx("p",{className:"text-gray-400 mt-4",children:"Loading inventory..."})]}):n.length===0?m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-400",children:"No products available at this shop"})}):m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(ce=>{const ue=U(ce.productId),te=ce.sellPrice||ce.costPerUnit*1.4,se=u.find(me=>me.productId===ce.productId),le=se!==void 0;return m.jsxs("div",{className:"bg-gray-900/50 border border-gray-700 rounded-lg p-4 hover:border-cyan-600 transition",children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-white",children:ue}),m.jsxs("p",{className:"text-sm text-gray-400",children:[ce.quantity," ",ce.quantityType||"units"," available"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-bold text-cyan-400",children:["$",te.toFixed(2)]}),ce.expirationDate&&m.jsxs("p",{className:"text-xs text-gray-500",children:["Exp: ",new Date(ce.expirationDate).toLocaleDateString()]})]})]}),m.jsx("button",{onClick:()=>F(ce),disabled:ce.quantity===0||le&&se.quantity>=ce.quantity,className:`w-full py-2 px-4 rounded-lg font-semibold transition ${ce.quantity===0||le&&se.quantity>=ce.quantity?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-cyan-600 hover:bg-cyan-700 text-white"}`,children:le?`In Cart (${se.quantity})`:"Add to Cart"})]},ce.id)})})]})}),m.jsx("div",{className:"lg:col-span-1",children:m.jsx(D4,{cart:u,onUpdateQuantity:L,onRemoveItem:Q,totalPrice:re,shopId:t.id,onPurchaseComplete:()=>{g([]),R()}})})]})]})},M4=({name:t})=>{const[e,n]=ee.useState([]),[s,a]=ee.useState([]),[o,u]=ee.useState(""),[g,v]=ee.useState(!0),[p,N]=ee.useState(!1),[R,U]=ee.useState(null),[F,L]=ee.useState(!1),[Q,re]=ee.useState(null),[ce,ue]=ee.useState(""),te=ee.useRef(!1);ee.useEffect(()=>{let le=!1;const me=setTimeout(async()=>{const ve=o.trim();N(!!ve),!ve&&!te.current&&v(!0);try{const Re=await hy(ve,30);if(le)return;ve&&Re.length===0?(U("No such product found!"),n([])):(n(Re),U(null)),te.current=!0}catch(Re){le||U(Re instanceof Error?Re.message:"Failed to load products.")}finally{le||(v(!1),N(!1))}},250);return()=>{le=!0,clearTimeout(me)}},[o]),ee.useEffect(()=>{(async()=>{try{const me=await hy("",200);a(me)}catch(me){console.warn("Failed to preload scanner catalog",me)}})()},[]);const se=async le=>{L(!1),N(!0),U(null);try{const me=s.length>0?s:e,{identifyProductNameFromImage:ve}=await x_(async()=>{const{identifyProductNameFromImage:fe}=await Promise.resolve().then(()=>u4);return{identifyProductNameFromImage:fe}},void 0),Re=me.map(fe=>fe.name),Ne=await ve(le,Re);if(Ne){const fe=me.find(Me=>Me.name===Ne);fe?(n([fe]),ue(fe.name),u(fe.name),re(fe),U(null)):(U("Product found in image but not in catalog."),n([]))}else U("Could not identify product from image. Please try again."),n([])}catch(me){U("Visual search failed: "+(me instanceof Error?me.message:"Unknown error"))}finally{N(!1)}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Welcome, ",t,"!"]}),m.jsx("p",{className:"text-gray-300",children:"Search the live catalog to see if a product is available in nearby autonomous shops. You can search by name, manufacturer, category, or use the live visual search to find products by image."}),m.jsxs("div",{className:"mt-4 flex flex-col gap-3 sm:flex-row sm:items-center",children:[m.jsx("input",{type:"search",value:o,onChange:le=>u(le.target.value),placeholder:"Search products by name, category, or manufacturer...",className:"flex-1 px-4 py-2.5 rounded-lg bg-gray-900/80 border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),m.jsxs("button",{onClick:()=>L(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg bg-indigo-600 text-white font-semibold hover:bg-indigo-500",children:[m.jsx(Mo,{className:"w-5 h-5"}),"Live Visual Search"]})]}),(Q||ce)&&m.jsx("p",{className:"mt-3 text-sm text-cyan-300",children:ce?m.jsxs(m.Fragment,{children:["Showing results for visual search: ",m.jsx("span",{className:"font-semibold",children:ce})]}):m.jsxs(m.Fragment,{children:["Showing matches for ",m.jsx("span",{className:"font-semibold",children:Q==null?void 0:Q.name})," based on the latest scan."]})}),R&&m.jsx("p",{className:"mt-3 text-sm text-red-400",children:R})]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:"Product Catalog"}),g?m.jsx("span",{className:"text-sm text-gray-400",children:"Loading catalog..."}):p?m.jsx("span",{className:"text-sm text-gray-400",children:"Searching"}):m.jsxs("span",{className:"text-sm text-gray-400",children:[e.length," result(s)"]})]}),g?m.jsx("p",{className:"text-gray-400",children:"Fetching catalog..."}):e.length===0&&o.trim()?m.jsx("p",{className:"text-gray-400",children:"No such product found! Try a different keyword or use the live visual search."}):e.length===0?m.jsx("p",{className:"text-gray-400",children:"No products available. Try searching or use the live visual search."}):m.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map(le=>m.jsxs("div",{className:"p-4 rounded-lg bg-gray-900/60 border border-gray-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h3",{className:"text-lg font-semibold text-white truncate",title:le.name,children:le.name}),le.category&&m.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-cyan-900/40 text-cyan-200 border border-cyan-700/40",children:le.category})]}),m.jsx("p",{className:"text-sm text-gray-400 mb-2",children:le.manufacturer||"Unknown manufacturer"}),le.description&&m.jsx("p",{className:"text-xs text-gray-400 line-clamp-3",children:le.description})]},le.id))})]}),F&&m.jsx(xh,{onDataScanned:le=>{const me=le.blobs.get("productName")||le.blobs.get("manufacturer")||Array.from(le.blobs.values())[0];me?se(me):(U("No image captured. Please try again."),L(!1))},onClose:()=>L(!1),productOptions:s.map(le=>({productId:le.id,productName:le.name})),mode:"visual-search"})]})},O4=({onLogout:t,name:e})=>{const{currentShop:n,setCurrentShop:s}=ov(),{customer:a,setCustomer:o,clearCustomer:u}=B_(),[g,v]=ee.useState(!1),[p,N]=ee.useState("discovery"),{showToast:R}=Ki(),U=L=>{var re;const Q=L.user;if((re=Q.roles)!=null&&re.shop||Q.shopId){R("Shop account detected. Please sign in via the shop dashboard.","info"),v(!1);return}o(L),v(!1),R("Welcome! You can now checkout.","success")},F=()=>{u(),R("Logged out successfully","success"),t==null||t(),v(!1)};return ee.useEffect(()=>{n&&N("shop")},[n]),m.jsxs("div",{className:"min-h-screen bg-gray-900",children:[m.jsx("div",{className:"bg-gray-800/50 border-b border-gray-700 p-4",children:m.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-white",children:"ShopNexus Customer"}),a&&m.jsxs("p",{className:"text-sm text-gray-400",children:["Logged in as ",a.user.companyName||a.user.email]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[n&&m.jsx("button",{onClick:()=>{s(null),N("discovery")},className:"px-4 py-2 text-sm text-cyan-400 hover:text-cyan-300 border border-cyan-600 rounded-lg hover:bg-cyan-900/30 transition",children:"Change Shop"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>N("discovery"),className:`px-4 py-2 text-sm border rounded-lg transition ${p==="discovery"?"bg-cyan-600 text-white border-cyan-600":"text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"Browse Catalog"}),n&&m.jsx("button",{onClick:()=>N("shop"),className:`px-4 py-2 text-sm border rounded-lg transition ${p==="shop"?"bg-cyan-600 text-white border-cyan-600":"text-gray-300 border-gray-600 hover:bg-gray-700"}`,children:"Shop View"})]}),a?m.jsx("button",{onClick:F,className:"px-4 py-2 text-sm text-gray-300 hover:text-white border border-gray-600 rounded-lg hover:bg-gray-700 transition",children:"Logout"}):m.jsx("button",{onClick:()=>v(!0),className:"px-4 py-2 text-sm text-cyan-400 hover:text-cyan-300 border border-cyan-600 rounded-lg hover:bg-cyan-900/30 transition",children:"Login"})]})]})}),m.jsx("div",{className:"container mx-auto p-4 md:p-8",children:g?m.jsxs("div",{className:"max-w-lg mx-auto",children:[m.jsx(v_,{onAuthenticated:U}),m.jsx("button",{onClick:()=>v(!1),className:"mt-4 w-full py-2 px-4 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition",children:"Cancel"})]}):p==="discovery"?m.jsxs(m.Fragment,{children:[!n&&m.jsx(Bb,{}),n&&m.jsx("div",{className:"mb-6",children:m.jsx(Bb,{})}),m.jsx(M4,{name:e||"Guest"})]}):m.jsx(P4,{})})]})},qb=({name:t,initialProfile:e,onLogout:n})=>m.jsx(k4,{children:m.jsx(I4,{initialCustomer:e,children:m.jsx(O4,{name:t,onLogout:n})})}),U4=({name:t})=>{const[e,n]=ee.useState([]),[s,a]=ee.useState(!0),[o,u]=ee.useState(""),[g,v]=ee.useState(""),[p,N]=ee.useState(null),R=async()=>{a(!0),N(null);try{const F=await jo();n(F)}catch(F){N(F instanceof Error?F.message:"Failed to load suppliers.")}finally{a(!1)}};ee.useEffect(()=>{R()},[]);const U=async F=>{if(F.preventDefault(),!o.trim()){N("Supplier name is required.");return}N(null);try{await Yu({name:o.trim(),contactEmail:g.trim()||void 0}),u(""),v(""),await R()}catch(L){N(L instanceof Error?L.message:"Failed to create supplier.")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Supplier Console"}),m.jsxs("p",{className:"text-gray-300",children:["Hello ",t,"! Manage your supplier network here. Register local suppliers (created by your shop) or review existing ones (local or global suppliers linked to registered users)."]})]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Register Local Supplier"}),m.jsxs("form",{onSubmit:U,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Supplier Name"}),m.jsx("input",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:o,onChange:F=>u(F.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Contact Email (optional)"}),m.jsx("input",{type:"email",className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:g,onChange:F=>v(F.target.value)})]}),m.jsx("button",{type:"submit",className:"px-4 py-2 rounded-md bg-cyan-600 text-white font-semibold",children:"Add Supplier"})]}),p&&m.jsx("p",{className:"text-red-400 text-sm mt-2",children:p})]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:"Suppliers"}),m.jsx("button",{onClick:R,className:"px-3 py-1.5 bg-gray-700 rounded-md text-sm text-white hover:bg-gray-600",children:"Refresh"})]}),s?m.jsx("p",{className:"text-gray-400",children:"Loading suppliers..."}):e.length===0?m.jsx("p",{className:"text-gray-500",children:"No suppliers yet. Add a local supplier above."}):m.jsx("div",{className:"space-y-3",children:e.map(F=>m.jsx("div",{className:"p-3 bg-gray-900/40 rounded-lg border border-gray-700 hover:bg-gray-900/60 transition-colors",children:m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"text-white font-semibold",children:F.name}),F.shopId?m.jsx("span",{className:"text-xs bg-cyan-600/20 text-cyan-400 px-2 py-1 rounded",children:"Local"}):F.linkedUserId?m.jsx("span",{className:"text-xs bg-green-600/20 text-green-400 px-2 py-1 rounded",children:"Global"}):null]}),F.contact&&m.jsx("p",{className:"text-sm text-gray-400 mt-1",children:F.contact}),F.linkedUserId&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Linked User ID: ",F.linkedUserId]}),F.shopId&&m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Shop ID: ",F.shopId]})]})})},F.id))})]})]})},j4=({onClose:t,onProductCreated:e})=>{const n=ee.useRef(null),s=ee.useRef(null),a=ee.useRef(null),o=ee.useRef(null),[u,g]=ee.useState("scanning"),[v,p]=ee.useState(null),[N,R]=ee.useState({}),[U,F]=ee.useState(new Set),[L,Q]=ee.useState(new Map),[re,ce]=ee.useState(null),[ue,te]=ee.useState(null),[se,le]=ee.useState(null),[me,ve]=ee.useState(!1),Re=ee.useCallback(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]),Ne=ee.useCallback(()=>{if(n.current&&a.current){const ie=n.current,ye=a.current,De=ie.getBoundingClientRect();ye.width=De.width,ye.height=De.height}},[]);ee.useEffect(()=>{let ie=null;return(async()=>{try{ie=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}}),n.current&&(n.current.srcObject=ie,n.current.onloadedmetadata=()=>Ne())}catch{p("Could not access camera. Please grant permissions.")}})(),window.addEventListener("resize",Ne),()=>{window.removeEventListener("resize",Ne),Re(),ie==null||ie.getTracks().forEach(De=>De.stop())}},[Ne,Re]);const fe=ee.useCallback(async()=>{if(!n.current||!s.current||document.hidden||u!=="scanning")return;const ie=n.current,ye=s.current;ye.width=ie.videoWidth,ye.height=ie.videoHeight;const De=ye.getContext("2d");if(!De)return;De.drawImage(ie,0,0,ie.videoWidth,ie.videoHeight);const Ue=await new Promise(je=>ye.toBlob(je,"image/jpeg",.8));if(!(!Ue||u!=="scanning"))try{const je=await Rg(Ue);R(ae=>{const pe={...ae};for(const ke in je){const Fe=ke;U.has(Fe)||(pe[Fe]=je[Fe])}return pe})}catch(je){console.warn("Auto-scan failed:",je)}},[u,U]);ee.useEffect(()=>{u==="scanning"&&!o.current?o.current=window.setInterval(fe,3500):u!=="scanning"&&Re()},[u,fe,Re]);const Me=ie=>{ce(ie),g("drawingBox"),te(null),le(null)},He=ie=>{var je;if(u!=="drawingBox"||!re)return;const ye=(je=a.current)==null?void 0:je.getBoundingClientRect();if(!ye)return;const De=ie.clientX-ye.left,Ue=ie.clientY-ye.top;if(!ue)te({x:De,y:Ue});else{const ae={x:Math.min(ue.x,De),y:Math.min(ue.y,Ue),width:Math.abs(De-ue.x),height:Math.abs(Ue-ue.y)};ae.width>5&&ae.height>5&&(le(ae),pt(ae)),te(null)}},pt=ee.useCallback(async ie=>{if(!n.current||!s.current||!re)return;g("analyzing");const ye=n.current,De=s.current,Ue=ye.videoWidth/ye.clientWidth,je=ye.videoHeight/ye.clientHeight,ae=ie.x*Ue,pe=ie.y*je,ke=ie.width*Ue,Fe=ie.height*je;De.width=ke,De.height=Fe;const tt=De.getContext("2d");if(tt){tt.drawImage(ye,ae,pe,ke,Fe,0,0,ke,Fe);const ct=await new Promise(yt=>De.toBlob(yt,"image/jpeg",.9));if(ct){Q(yt=>new Map(yt).set(re,ct));try{const yt=await rv(ct,re);R(qe=>({...qe,[re]:yt})),F(qe=>new Set(qe).add(re))}catch(yt){p(yt instanceof Error?yt.message:"Analysis failed")}}}ce(null),le(null),g("scanning")},[re]),it=async()=>{const ie=N;if(!ie.productName||!ie.manufacturer||!ie.category){p("Product Name, Manufacturer, and Category are required to save."),g("scanning");return}if(!nt){p("No shop selected. Please select a shop before saving."),g("scanning");return}ve(!0),p(null);try{const ye=await Gu({name:ie.productName,manufacturer:ie.manufacturer,category:ie.category,description:ie.productDescription||""}),De=Array.from(L.entries()).map(([Fe,tt])=>Uy(ye.name,Fe,tt,{productId:ye.id,source:"manual"}));await Promise.all(De);const Ue=new Date().toISOString(),je=Kn(),ae={ocrText:ie.productName||"",confidence:1,sourcePhotoId:je,fieldCaptures:Array.from(L.keys()).map(Fe=>({field:String(Fe),captureId:Kn(),source:"manual",capturedAt:Ue,confidence:.9}))},pe=Array.from(L.entries()).map(([Fe,tt])=>({url:"",type:"manual",source:String(Fe),addedAt:Ue})),ke={id:Date.now(),inventoryUuid:je,shopId:nt,productId:ye.id,batchId:"",expirationDate:ie.expirationDate||new Date(Date.now()+365*24*60*60*1e3).toISOString(),quantity:ie.quantity||1,costPerUnit:ie.buyPrice||0,buyPrice:ie.buyPrice,sellPrice:ie.sellPrice||(ie.buyPrice?ie.buyPrice*1.4:void 0),location:ie.location,images:pe.length>0?pe:void 0,scanMetadata:ae,qdrantId:je,status:"ACTIVE",createdByUserId:nt,createdAt:Ue,updatedAt:Ue,shareScope:["local"]};await Xl(ke,ae),e(),t()}catch(ye){p(ye instanceof Error?ye.message:"Failed to save product.")}finally{ve(!1)}},Rt=()=>u==="scanning"?"Auto-scanning product... Tap screen to manually select a field.":u==="drawingBox"?ue?"Tap the opposite corner to create a selection.":`Tap the first corner for ${Ts[re].displayName}.`:u==="analyzing"?`Analyzing ${Ts[re].displayName}...`:u==="verifying"?"Review the extracted data and confirm to save the new product.":"";return u==="verifying"?m.jsxs("div",{className:"fixed inset-0 bg-gray-900 z-50 p-4 sm:p-8 flex flex-col","aria-modal":"true",children:[m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Verify New Product"}),v&&m.jsx("p",{className:"bg-red-900/50 text-red-300 p-3 rounded-md mb-4",children:v}),m.jsx("div",{className:"flex-grow overflow-y-auto space-y-4 bg-gray-800/50 p-4 rounded-lg",children:Object.entries(N).map(([ie,ye])=>{var je;const De=ie,Ue=L.get(De);return m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-400",children:((je=Ts[De])==null?void 0:je.displayName)||ie}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("input",{value:String(ye),onChange:ae=>R(pe=>({...pe,[De]:ae.target.value})),className:"flex-grow px-3 py-2 rounded-md bg-gray-700 border border-gray-600 text-white"}),Ue&&m.jsx("img",{src:URL.createObjectURL(Ue),alt:`Crop of ${ie}`,className:"w-24 h-12 object-contain rounded-md bg-black"})]})]},ie)})}),m.jsxs("div",{className:"flex-shrink-0 pt-6 flex justify-end gap-4",children:[m.jsx("button",{onClick:()=>g("scanning"),disabled:me,className:"px-6 py-2 rounded-md bg-gray-600 text-white font-semibold",children:"Back to Scanner"}),m.jsx("button",{onClick:it,disabled:me,className:"px-6 py-2 rounded-md bg-cyan-600 text-white font-semibold",children:me?"Saving...":"Confirm & Save Product"})]})]}):m.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex","aria-modal":"true",children:[m.jsxs("div",{className:"flex-grow relative",children:[m.jsx("video",{ref:n,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),m.jsx("canvas",{ref:s,className:"hidden"}),m.jsx("canvas",{ref:a,className:"absolute inset-0 w-full h-full z-10",onClick:He}),v&&m.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-red-800/80 text-white p-3 rounded-lg text-center z-30 max-w-md mx-auto",children:v}),m.jsx("div",{className:"absolute top-4 left-4 bg-black/50 text-white px-4 py-2 rounded-full z-20 text-center text-sm",children:Rt()})]}),m.jsxs("div",{className:"w-full md:w-96 bg-gray-900/80 backdrop-blur-sm border-l border-gray-700 flex flex-col p-4 space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsx("h2",{className:"text-xl font-bold text-white",children:"Learn Product"}),m.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white",children:""})]}),m.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:Object.keys(Ts).map(ie=>{const ye=U.has(ie),De=N[ie]!==void 0&&N[ie]!==""&&N[ie]!==0;return m.jsxs("button",{onClick:()=>Me(ie),className:`w-full text-left p-3 rounded-md transition-colors flex items-center justify-between ${ye?"bg-indigo-800/50":"bg-gray-700/50 hover:bg-gray-700"}`,children:[m.jsxs("div",{children:[m.jsx("span",{className:"font-semibold text-white",children:Ts[ie].displayName}),De&&m.jsx("p",{className:"text-sm text-cyan-300 truncate",children:String(N[ie])})]}),ye&&m.jsx(R_,{className:"w-5 h-5 text-indigo-300 flex-shrink-0"})]},ie)})}),m.jsx("div",{className:"flex-shrink-0",children:m.jsxs("button",{onClick:()=>g("verifying"),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-cyan-600 text-white font-semibold rounded-md hover:bg-cyan-700 transition-colors",children:[m.jsx(av,{className:"w-6 h-6"}),"Verify & Save"]})})]})]})},L4=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[m.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),m.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),B4=()=>{const[t,e]=ee.useState([]),[n,s]=ee.useState([]),[a,o]=ee.useState(!0),[u,g]=ee.useState(null),[v,p]=ee.useState(""),[N,R]=ee.useState(""),[U,F]=ee.useState(""),[L,Q]=ee.useState(""),[re,ce]=ee.useState(void 0),[ue,te]=ee.useState(""),[se,le]=ee.useState(!1),[me,ve]=ee.useState([]),[Re,Ne]=ee.useState(""),[fe,Me]=ee.useState(""),[He,pt]=ee.useState(""),[it,Rt]=ee.useState(null),[ie,ye]=ee.useState(null),[De,Ue]=ee.useState(!1),{showToast:je}=Ki(),ae=async()=>{o(!0),g(null);try{const[qe,Pe]=await Promise.all([Ng(),jo()]);e(qe),s(qe),ve(Pe.map(mt=>({id:mt.id,name:mt.name||mt.id})))}catch(qe){g(qe instanceof Error?qe.message:"Failed to load products.")}finally{o(!1)}};$b.useEffect(()=>{let qe=t;if(Re.trim()){const Pe=Re.toLowerCase();qe=qe.filter(mt=>mt.name.toLowerCase().includes(Pe)||mt.manufacturer.toLowerCase().includes(Pe)||mt.category.toLowerCase().includes(Pe)||mt.description&&mt.description.toLowerCase().includes(Pe))}fe&&(qe=qe.filter(Pe=>Pe.category===fe)),He&&(qe=qe.filter(Pe=>Pe.manufacturer===He)),s(qe)},[t,Re,fe,He]),ee.useEffect(()=>{ae()},[]);const pe=()=>{ae(),je("New product successfully learned and added to catalog!","success")},ke=async qe=>{if(qe.preventDefault(),!v.trim()){g("Name is required.");return}le(!0),g(null);try{const Pe=ue?[{url:ue.trim(),type:"manual",source:"user",addedAt:new Date().toISOString()}]:[];await Gu({name:v,manufacturer:N,category:U,description:L,defaultSupplierId:re,images:Pe}),p(""),R(""),F(""),Q(""),te(""),ce(void 0),await ae(),je("Product created successfully!","success")}catch(Pe){const mt=Pe instanceof Error?Pe.message:"Failed to create product.";g(mt),je(mt,"error")}finally{le(!1)}},Fe=qe=>{var Pe,mt;Rt(qe),p(qe.name),R(qe.manufacturer),F(qe.category),Q(qe.description||""),te(((mt=(Pe=qe.images)==null?void 0:Pe[0])==null?void 0:mt.url)||""),ce(qe.defaultSupplierId||void 0)},tt=()=>{Rt(null),p(""),R(""),F(""),Q(""),te(""),ce(void 0),g(null)},ct=async qe=>{if(qe.preventDefault(),!it||!v.trim()){g("Name is required.");return}le(!0),g(null);try{const Pe=ue?[{url:ue.trim(),type:"manual",source:"user",addedAt:new Date().toISOString()}]:[];await Ew(it.id,{name:v,manufacturer:N,category:U,description:L,defaultSupplierId:re,images:Pe}),tt(),await ae(),je("Product updated successfully!","success")}catch(Pe){const mt=Pe instanceof Error?Pe.message:"Failed to update product.";g(mt),je(mt,"error")}finally{le(!1)}},yt=async qe=>{try{await Cw(qe),ye(null),await ae(),je("Product deleted successfully!","success")}catch(Pe){const mt=Pe instanceof Error?Pe.message:"Failed to delete product.";je(mt,"error")}};return m.jsxs(m.Fragment,{children:[De&&m.jsx(j4,{onClose:()=>Ue(!1),onProductCreated:pe}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Product Catalog"}),m.jsxs("button",{onClick:()=>Ue(!0),className:"flex items-center justify-center gap-3 py-3 px-6 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-indigo-500 transition-all",children:[m.jsx(D_,{className:"w-6 h-6"}),"Scan & Train New Product"]})]}),m.jsx("p",{className:"text-gray-400 text-sm",children:"Use the AI scanner to learn new products. The system will extract all relevant information sections from the product image and learn where to look for specific data fields for future scans."})]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:it?"Edit Product":"Create Product Manually"}),m.jsxs("form",{onSubmit:it?ct:ke,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Name"}),m.jsx("input",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:v,onChange:qe=>p(qe.target.value),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Manufacturer"}),m.jsx("input",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:N,onChange:qe=>R(qe.target.value)})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Category"}),m.jsx("input",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:U,onChange:qe=>F(qe.target.value)})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Description"}),m.jsx("textarea",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:L,onChange:qe=>Q(qe.target.value),rows:3})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Default Supplier"}),m.jsxs("select",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:re||"",onChange:qe=>ce(qe.target.value||void 0),children:[m.jsx("option",{value:"",children:"None"}),me.map(qe=>m.jsx("option",{value:qe.id,children:qe.name},qe.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Image URL"}),m.jsx("input",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:ue,onChange:qe=>te(qe.target.value),placeholder:"https://example.com/photo.jpg"})]})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{type:"submit",disabled:se,className:"px-4 py-2 rounded-md bg-cyan-600 text-white font-semibold disabled:opacity-60 hover:bg-cyan-700 transition-colors",children:se?it?"Updating...":"Creating...":it?"Update Product":"Create Product"}),it&&m.jsx("button",{type:"button",onClick:tt,disabled:se,className:"px-4 py-2 rounded-md bg-gray-700 text-white font-semibold disabled:opacity-60 hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}),u&&m.jsx("p",{className:"text-red-400 text-sm mt-2",children:u})]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:"All Products"}),m.jsx("button",{onClick:ae,className:"px-3 py-1.5 rounded-md bg-gray-700 text-sm text-white hover:bg-gray-600",children:"Refresh"})]}),m.jsxs("div",{className:"mb-6 space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Search Products"}),m.jsx("input",{type:"text",className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",placeholder:"Search by name, manufacturer, category, or description...",value:Re,onChange:qe=>Ne(qe.target.value)})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Filter by Category"}),m.jsxs("select",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:fe,onChange:qe=>Me(qe.target.value),children:[m.jsx("option",{value:"",children:"All Categories"}),Array.from(new Set(t.map(qe=>qe.category).filter(Boolean))).sort().map(qe=>m.jsx("option",{value:qe,children:qe},qe))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Filter by Manufacturer"}),m.jsxs("select",{className:"w-full px-3 py-2 rounded-md bg-gray-900 border border-gray-700 text-white",value:He,onChange:qe=>pt(qe.target.value),children:[m.jsx("option",{value:"",children:"All Manufacturers"}),Array.from(new Set(t.map(qe=>qe.manufacturer).filter(Boolean))).sort().map(qe=>m.jsx("option",{value:qe,children:qe},qe))]})]})]})]}),a?m.jsx("p",{className:"text-gray-400",children:"Loading products..."}):n.length===0?m.jsxs("div",{className:"text-center py-12",children:[m.jsx(L4,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-500 text-lg mb-2",children:t.length===0?"No products yet.":"No products match your filters."}),t.length===0&&m.jsx("button",{onClick:()=>Ue(!0),className:"mt-4 px-6 py-3 rounded-md bg-indigo-600 text-white font-semibold hover:bg-indigo-700 transition-colors",children:"Scan Your First Product"})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("p",{className:"text-sm text-gray-400",children:["Showing ",n.length," of ",t.length," products"]}),n.map(qe=>{var Pe;return m.jsxs("div",{className:"p-4 bg-gray-900/40 rounded-lg border border-gray-700 hover:bg-gray-900/60 transition-colors",children:[m.jsxs("div",{className:"flex items-start justify-between gap-4",children:[m.jsx("div",{className:"flex-1 min-w-0",children:m.jsxs("div",{className:"flex items-start gap-3",children:[qe.images&&qe.images[0]&&m.jsx("img",{src:qe.images[0].url,alt:qe.name,className:"w-16 h-16 object-cover rounded-md flex-shrink-0",onError:mt=>{mt.target.style.display="none"}}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-white font-semibold text-lg",children:qe.name}),m.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[qe.manufacturer,"  ",qe.category]}),qe.description&&m.jsx("p",{className:"text-sm text-gray-400 mt-2 line-clamp-2",children:qe.description}),qe.defaultSupplierId&&m.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-700",children:[m.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Default Supplier:"}),m.jsx("span",{className:"inline-block px-2 py-0.5 text-xs bg-blue-900/30 text-blue-300 rounded border border-blue-700/50",children:((Pe=me.find(mt=>mt.id===qe.defaultSupplierId))==null?void 0:Pe.name)||qe.defaultSupplierId})]})]})]})}),m.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[m.jsx("button",{onClick:()=>Fe(qe),className:"px-3 py-1.5 rounded-md bg-blue-600/80 text-white text-sm hover:bg-blue-600 transition-colors",title:"Edit product",children:"Edit"}),m.jsx("button",{onClick:()=>ye(qe.id),className:"px-3 py-1.5 rounded-md bg-red-600/80 text-white text-sm hover:bg-red-600 transition-colors",title:"Delete product",children:"Delete"})]})]}),ie===qe.id&&m.jsxs("div",{className:"mt-4 p-3 bg-red-900/30 border border-red-700 rounded-md",children:[m.jsxs("p",{className:"text-red-300 text-sm mb-3",children:['Are you sure you want to delete "',qe.name,'"?']}),m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("button",{onClick:()=>yt(qe.id),className:"px-3 py-1.5 rounded-md bg-red-600 text-white text-sm hover:bg-red-700 transition-colors",children:"Yes, Delete"}),m.jsx("button",{onClick:()=>ye(null),className:"px-3 py-1.5 rounded-md bg-gray-700 text-white text-sm hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]},qe.id)})]})]})]})]})},q4=()=>{const[t,e]=ee.useState([]),[n,s]=ee.useState([]),[a,o]=ee.useState([]),[u,g]=ee.useState(!0),[v,p]=ee.useState({deliveryDate:new Date().toISOString().split("T")[0],lineItems:[],documents:[]}),[N,R]=ee.useState([]),[U,F]=ee.useState(!1),[L,Q]=ee.useState(!1),[re,ce]=ee.useState(!1),[ue,te]=ee.useState(null),se=ee.useRef(null),le=ee.useMemo(()=>new Map(a.map(ie=>[ie.id,ie])),[a]),me=ee.useMemo(()=>new Map(n.map(ie=>[ie.id,ie.name||ie.id])),[n]),ve=async()=>{g(!0),te(null);try{const[ie,ye,De]=await Promise.all([Nw(),jo(),Ng()]);e(ie.sort((Ue,je)=>new Date(je.deliveryDate).getTime()-new Date(Ue.deliveryDate).getTime())),s(ye),o(De)}catch(ie){te(ie instanceof Error?ie.message:"Failed to load data.")}finally{g(!1)}};ee.useEffect(()=>{ve()},[]);const Re=()=>{p({deliveryDate:new Date().toISOString().split("T")[0],lineItems:[],documents:[]}),R([]),se.current&&(se.current.value="")},Ne=ie=>{ie.target.files&&R(ye=>[...ye,...Array.from(ie.target.files)])},fe=ie=>{R(ye=>ye.filter((De,Ue)=>Ue!==ie))},Me=async()=>{if(N.length!==0){Q(!0),te(null);try{const ie=await w_(N),ye=n.find(Ue=>ie.supplierName&&Ue.name.toLowerCase().includes(ie.supplierName.toLowerCase())),De=ie.items.map(Ue=>{const je=a.find(ae=>ae.name.toLowerCase()===Ue.productName.toLowerCase());return{productId:(je==null?void 0:je.id)||"",productName:Ue.productName,quantity:Ue.quantity,cost:Ue.costPerUnit}});p(Ue=>({...Ue,supplierId:(ye==null?void 0:ye.id)||Ue.supplierId,invoiceNumber:ie.invoiceNumber||Ue.invoiceNumber,deliveryDate:ie.deliveryDate||Ue.deliveryDate,lineItems:De}))}catch(ie){te(ie instanceof Error?ie.message:"Failed to analyze documents.")}finally{Q(!1)}}},He=(ie,ye,De)=>{const Ue=[...v.lineItems||[]];if(Ue[ie]={...Ue[ie],[ye]:De},ye==="productId"){const je=le.get(De);je&&(Ue[ie].productName=je.name)}p(je=>({...je,lineItems:Ue}))},pt=()=>{const ie={productId:"",productName:"Manual Entry",quantity:1,cost:0};p(ye=>({...ye,lineItems:[...ye.lineItems||[],ie]}))},it=ie=>{p(ye=>{var De;return{...ye,lineItems:(De=ye.lineItems)==null?void 0:De.filter((Ue,je)=>je!==ie)}})},Rt=async ie=>{if(ie.preventDefault(),!v.deliveryDate||!v.lineItems||v.lineItems.length===0){te("Delivery date and at least one valid line item are required.");return}const ye=v.lineItems.filter(De=>De.productId&&De.quantity>0);if(ye.length===0){te("At least one line item must be assigned to a product.");return}F(!0),te(null);try{await dh({...v,deliveryDate:v.deliveryDate,lineItems:ye}),Re(),await ve()}catch(De){te(De instanceof Error?De.message:"Failed to create batch.")}finally{F(!1)}};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("h2",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[m.jsx(nv,{className:"w-6 h-6 text-cyan-400"}),"Log New Delivery Batch"]}),m.jsxs("form",{onSubmit:Rt,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Delivery Date"}),m.jsx("input",{type:"date",className:"form-input",value:v.deliveryDate||"",onChange:ie=>p(ye=>({...ye,deliveryDate:ie.target.value})),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Supplier"}),m.jsxs("select",{className:"form-input",value:v.supplierId||"",onChange:ie=>p(ye=>({...ye,supplierId:ie.target.value||void 0})),children:[m.jsx("option",{value:"",children:"Select Supplier..."}),n.map(ie=>m.jsx("option",{value:ie.id,children:ie.name},ie.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-300 mb-1",children:"Invoice Number"}),m.jsx("input",{className:"form-input",value:v.invoiceNumber||"",onChange:ie=>p(ye=>({...ye,invoiceNumber:ie.target.value}))})]})]}),m.jsxs("div",{className:"p-4 border border-gray-700 rounded-lg space-y-3",children:[m.jsx("h3",{className:"text-base font-semibold text-gray-200",children:"Upload Documents"}),m.jsx("input",{type:"file",ref:se,onChange:Ne,accept:"image/*",className:"hidden",multiple:!0}),m.jsxs("button",{type:"button",onClick:()=>{var ie;return(ie=se.current)==null?void 0:ie.click()},className:"button-secondary w-full",children:[m.jsx(P_,{className:"w-5 h-5"})," Add Document(s)"]}),m.jsx("div",{className:"space-y-2",children:N.map((ie,ye)=>m.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 p-2 rounded text-sm",children:[m.jsx("span",{className:"truncate text-gray-300",children:ie.name}),m.jsx("button",{type:"button",onClick:()=>fe(ye),className:"text-red-400 hover:text-red-300",children:m.jsx(vg,{className:"w-4 h-4"})})]},ye))}),N.length>0&&m.jsx("button",{type:"button",onClick:Me,disabled:L,className:"button-primary w-full",children:L?"Analyzing...":`Analyze ${N.length} Document(s) with AI`})]})]}),m.jsxs("div",{className:"space-y-4 p-4 border border-gray-700 rounded-lg bg-gray-900/20",children:[m.jsx("h3",{className:"text-base font-semibold text-gray-200",children:"Line Items"}),m.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(v.lineItems||[]).map((ie,ye)=>m.jsxs("div",{className:"p-2 rounded-md bg-gray-800/50 grid grid-cols-12 gap-2 items-center",children:[m.jsxs("div",{className:"col-span-6",children:[m.jsxs("select",{className:"form-input text-sm",value:ie.productId,onChange:De=>He(ye,"productId",De.target.value),required:!0,children:[m.jsx("option",{value:"",children:"Match Product..."}),a.map(De=>m.jsx("option",{value:De.id,children:De.name},De.id))]}),ie.productId===""&&m.jsxs("p",{className:"text-xs text-yellow-400 mt-1",children:['Unmatched: "',ie.productName,'"']})]}),m.jsx("div",{className:"col-span-2",children:m.jsx("input",{type:"number",placeholder:"Qty",className:"form-input text-sm",value:ie.quantity,onChange:De=>He(ye,"quantity",Number(De.target.value))})}),m.jsx("div",{className:"col-span-3",children:m.jsx("input",{type:"number",placeholder:"Cost",step:"0.01",className:"form-input text-sm",value:ie.cost,onChange:De=>He(ye,"cost",Number(De.target.value))})}),m.jsx("div",{className:"col-span-1",children:m.jsx("button",{type:"button",onClick:()=>it(ye),className:"text-red-400 hover:text-red-300",children:m.jsx(vg,{className:"w-4 h-4"})})})]},ye))}),m.jsx("button",{type:"button",onClick:pt,className:"button-secondary text-sm",children:"Add Manual Item"}),m.jsx("button",{type:"submit",disabled:U,className:"button-primary w-full",children:U?"Saving Batch...":"Save Batch"})]})]}),ue&&m.jsx("p",{className:"text-red-400 text-sm mt-4",children:ue})]}),m.jsxs("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:"Logged Batches"}),m.jsx("button",{onClick:ve,className:"button-secondary text-sm",children:"Refresh"})]}),u?m.jsx("p",{className:"text-gray-400",children:"Loading batches..."}):t.length===0?m.jsx("p",{className:"text-gray-500 text-center py-4",children:"No batches logged yet."}):m.jsx("div",{className:"space-y-3",children:t.map(ie=>{var ye,De;return m.jsxs("details",{className:"p-3 bg-gray-900/40 rounded-lg border border-gray-700 transition-colors",children:[m.jsx("summary",{className:"cursor-pointer",children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsxs("p",{className:"text-white font-semibold",children:["Delivery: ",ie.deliveryDate]}),m.jsxs("p",{className:"text-sm text-gray-400",children:["Supplier: ",me.get(ie.supplierId||"")||ie.supplierId||"N/A"]}),m.jsxs("p",{className:"text-xs text-gray-500",children:["Invoice #: ",ie.invoiceNumber||"N/A"]})]}),m.jsx("div",{className:"text-right text-sm",children:m.jsxs("span",{className:"text-gray-300",children:[((ye=ie.lineItems)==null?void 0:ye.length)||0," items"]})})]})}),m.jsx("div",{className:"mt-3 pt-3 border-t border-gray-700",children:m.jsx("ul",{className:"space-y-1 text-sm",children:(De=ie.lineItems)==null?void 0:De.map((Ue,je)=>{var ae;return m.jsxs("li",{className:"flex justify-between text-gray-300",children:[m.jsxs("span",{children:[Ue.quantity,"x ",((ae=le.get(Ue.productId))==null?void 0:ae.name)||Ue.productName]}),m.jsxs("span",{className:"text-gray-400",children:["$",Ue.cost.toFixed(2),"/unit"]})]},je)})})})]},ie.id)})})]}),m.jsx("style",{children:`
        .form-input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border-radius: 0.375rem;
            background-color: #1f2937;
            border: 1px solid #4b5563;
            color: white;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .form-input:focus {
            outline: none;
            border-color: #22d3ee;
            box-shadow: 0 0 0 2px rgba(34, 211, 238, 0.4);
        }
        .button-primary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.625rem 1rem;
            border-radius: 0.375rem;
            background-color: #0891b2;
            color: white;
            font-weight: 600;
            transition: background-color 0.2s;
        }
        .button-primary:hover {
            background-color: #0e7490;
        }
        .button-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        .button-secondary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            background-color: #4b5563;
            color: white;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        .button-secondary:hover {
            background-color: #6b7280;
        }
      `})]})},$4=()=>{var ie,ye,De,Ue;const[t,e]=ee.useState(null),{toasts:n,removeToast:s}=Ki(),a=(t==null?void 0:t.user)??null,o=!!((ie=a==null?void 0:a.roles)!=null&&ie.shop||a!=null&&a.shopId),u=!!((ye=a==null?void 0:a.roles)!=null&&ye.customer||a!=null&&a.customerId),g=!!((De=a==null?void 0:a.roles)!=null&&De.supplier||a!=null&&a.supplierId),[v,p]=ee.useState([]),[N,R]=ee.useState([]),[U,F]=ee.useState([]),[L,Q]=ee.useState("dashboard"),[re,ce]=ee.useState(!0),ue=!a,te=ee.useMemo(()=>{if(!(t!=null&&t.shopContext)||!a)return null;let je;if(typeof t.shopContext=="string")je=t.shopContext;else if(t.shopContext&&typeof t.shopContext=="object"&&"id"in t.shopContext)je=t.shopContext.id;else return null;return{id:je,name:a.companyName,contactEmail:a.email,location:a.address,qdrantNamespace:je}},[t==null?void 0:t.shopContext,(Ue=t==null?void 0:t.user)==null?void 0:Ue.shopId,a==null?void 0:a.shopId,a==null?void 0:a.companyName,a==null?void 0:a.email,a==null?void 0:a.address]),se=ee.useRef(null);ee.useEffect(()=>{var pe;const je=(pe=se.current)==null?void 0:pe.id,ae=te==null?void 0:te.id;je!==ae&&(se.current=te,gh(te))},[te]);const le=ee.useCallback(async je=>{var pe;if(!je){ce(!1);return}const ae=!!((pe=je.roles)!=null&&pe.shop||je.shopId);if(ce(!0),ae){const ke=await Ig(),Fe=await a_(),tt=await Xy();R(ke),p(Fe),F(tt)}else R([]),p([]),F([]);ce(!1)},[]),me=ee.useRef(!1),ve=ee.useRef(null);ee.useEffect(()=>{var ke;if(ue||!a){me.current=!1;return}const je=!!((ke=a.roles)!=null&&ke.shop||a.shopId),ae=a.shopId||null;if(!je||me.current&&ve.current===ae)return;(async()=>{await r_(),await le(a),me.current=!0,ve.current=ae})()},[ue,a==null?void 0:a.shopId,le]),ee.useEffect(()=>{if(!a||!o)return;const je=setInterval(()=>{le(a)},6e4);return()=>clearInterval(je)},[a,o,le]);const Re=ee.useCallback(je=>{var pe,ke,Fe;e(je),ce(!1);const ae=je.user;ae.shopId||(pe=ae.roles)!=null&&pe.shop?Q("dashboard"):ae.supplierId||(ke=ae.roles)!=null&&ke.supplier?Q("supplier"):ae.customerId||(Fe=ae.roles)!=null&&Fe.customer?Q("customer"):Q("dashboard")},[]),Ne=ee.useCallback(()=>{e(null),p([]),R([]),F([]),Q("dashboard")},[]),fe=async(je,ae)=>{await Bu(je,ae),a&&await le(a)},Me=async je=>{await Qy(je),a&&await le(a)},He=async(je,ae)=>{await o_(je,ae),await D3(je.listingId,ae),a&&await le(a)},pt=je=>Q(je),it=ee.useMemo(()=>{if(!a||!o)return[];const je=U.filter(pe=>pe.quantity>0&&(!pe.status||pe.status==="ACTIVE")),ae=new Map(N.map(pe=>[pe.productId,pe]));return je.map(pe=>{const ke=ae.get(pe.productId);return{id:pe.id,batchId:String(pe.batchId),productId:pe.productId,inventoryUuid:pe.inventoryUuid,productName:(ke==null?void 0:ke.productName)||"N/A",manufacturer:(ke==null?void 0:ke.manufacturer)||"N/A",category:(ke==null?void 0:ke.category)||"N/A",expirationDate:pe.expirationDate,quantity:pe.quantity,quantityType:(ke==null?void 0:ke.quantityType)||"units",costPerUnit:pe.costPerUnit,location:pe.location||void 0,createdAt:pe.createdAt,updatedAt:pe.updatedAt,supplierId:pe.supplierId||null,buyPrice:pe.buyPrice??pe.costPerUnit,sellPrice:pe.sellPrice??void 0}})},[U,N,a==null?void 0:a.shopId,o]);return a&&u&&!o?m.jsx(qb,{name:a.companyName||"Guest",initialProfile:t??void 0,onLogout:Ne}):ue?m.jsx(v_,{onAuthenticated:Re}):!a||o&&re?m.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center text-white",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400"}),m.jsx("p",{className:"mt-4 text-lg",children:"Initializing Application..."})]}):m.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 font-sans",children:[m.jsx(X3,{activeTab:L,onTabChange:pt,user:a,onLogout:Ne,isBackendAvailable:GR}),m.jsxs("main",{className:"container mx-auto p-4 md:p-8",children:[L==="dashboard"&&m.jsx(f4,{summaries:o?N:[],onNavigateToInventory:()=>o&&pt("inventory"),onRefreshData:a?()=>le(a):void 0}),L==="inventory"&&o&&m.jsx(S4,{summaries:N,items:it,batches:v,onAddBatch:fe,onDataRefresh:()=>a&&le(a)}),L==="catalog"&&o&&m.jsx(B4,{}),L==="batches"&&o&&m.jsx(q4,{}),L==="kiosk"&&o&&m.jsx(C4,{summaries:N,onPurchase:Me}),L==="marketplace"&&o&&m.jsx(A4,{summaries:N,user:a,onPurchase:He}),L==="customer"&&u&&m.jsx(qb,{name:a.companyName}),L==="supplier"&&g&&m.jsx(U4,{name:a.companyName}),L==="backend"&&m.jsx(N4,{}),!o&&["inventory","catalog","batches","kiosk","marketplace"].includes(L)&&m.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 text-center",children:m.jsx("p",{className:"text-red-400",children:"Access Denied: Shop role required"})}),!u&&L==="customer"&&m.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 text-center",children:m.jsx("p",{className:"text-red-400",children:"Access Denied: Customer role required"})}),!g&&L==="supplier"&&m.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-6 text-center",children:m.jsx("p",{className:"text-red-400",children:"Access Denied: Supplier role required"})})]}),m.jsx("footer",{className:"text-center p-4 mt-8 text-gray-500 text-sm",children:m.jsx("p",{children:"Built for the modern autonomous shop.  2024 Inventory AI"})}),m.jsx(r4,{toasts:n,onRemove:s})]})};(()=>{var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,u=c=>e(c,"__esModule",{value:!0}),g=c=>{if(typeof require<"u")return require(c);throw new Error('Dynamic require of "'+c+'" is not supported')},v=(c,d)=>()=>(c&&(d=c(c=0)),d),p=(c,d)=>()=>(d||c((d={exports:{}}).exports,d),d.exports),N=(c,d)=>{u(c);for(var h in d)e(c,h,{get:d[h],enumerable:!0})},R=(c,d,h)=>{if(d&&typeof d=="object"||typeof d=="function")for(let y of s(d))!o.call(c,y)&&y!=="default"&&e(c,y,{get:()=>d[y],enumerable:!(h=n(d,y))||h.enumerable});return c},U=c=>R(u(e(c!=null?t(a(c)):{},"default",c&&c.__esModule&&"default"in c?{get:()=>c.default,enumerable:!0}:{value:c,enumerable:!0})),c),F,L=v(()=>{F={platform:"",env:{},versions:{node:"14.17.6"}}}),Q,re,ce=v(()=>{L(),Q=0,re={readFileSync:c=>self[c]||"",statSync:()=>({mtimeMs:Q++}),promises:{readFile:c=>Promise.resolve(self[c]||"")}}}),ue=p((c,d)=>{L();var h=class{constructor(y={}){if(!(y.maxSize&&y.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof y.maxAge=="number"&&y.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=y.maxSize,this.maxAge=y.maxAge||1/0,this.onEviction=y.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(y){if(typeof this.onEviction=="function")for(let[x,w]of y)this.onEviction(x,w.value)}_deleteIfExpired(y,x){return typeof x.expiry=="number"&&x.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(y,x.value),this.delete(y)):!1}_getOrDeleteIfExpired(y,x){if(this._deleteIfExpired(y,x)===!1)return x.value}_getItemValue(y,x){return x.expiry?this._getOrDeleteIfExpired(y,x):x.value}_peek(y,x){let w=x.get(y);return this._getItemValue(y,w)}_set(y,x){this.cache.set(y,x),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(y,x){this.oldCache.delete(y),this._set(y,x)}*_entriesAscending(){for(let y of this.oldCache){let[x,w]=y;this.cache.has(x)||this._deleteIfExpired(x,w)===!1&&(yield y)}for(let y of this.cache){let[x,w]=y;this._deleteIfExpired(x,w)===!1&&(yield y)}}get(y){if(this.cache.has(y)){let x=this.cache.get(y);return this._getItemValue(y,x)}if(this.oldCache.has(y)){let x=this.oldCache.get(y);if(this._deleteIfExpired(y,x)===!1)return this._moveToRecent(y,x),x.value}}set(y,x,{maxAge:w=this.maxAge===1/0?void 0:Date.now()+this.maxAge}={}){this.cache.has(y)?this.cache.set(y,{value:x,maxAge:w}):this._set(y,{value:x,expiry:w})}has(y){return this.cache.has(y)?!this._deleteIfExpired(y,this.cache.get(y)):this.oldCache.has(y)?!this._deleteIfExpired(y,this.oldCache.get(y)):!1}peek(y){if(this.cache.has(y))return this._peek(y,this.cache);if(this.oldCache.has(y))return this._peek(y,this.oldCache)}delete(y){let x=this.cache.delete(y);return x&&this._size--,this.oldCache.delete(y)||x}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(y){if(!(y&&y>0))throw new TypeError("`maxSize` must be a number greater than 0");let x=[...this._entriesAscending()],w=x.length-y;w<0?(this.cache=new Map(x),this.oldCache=new Map,this._size=x.length):(w>0&&this._emitEvictions(x.slice(0,w)),this.oldCache=new Map(x.slice(w)),this.cache=new Map,this._size=0),this.maxSize=y}*keys(){for(let[y]of this)yield y}*values(){for(let[,y]of this)yield y}*[Symbol.iterator](){for(let y of this.cache){let[x,w]=y;this._deleteIfExpired(x,w)===!1&&(yield[x,w.value])}for(let y of this.oldCache){let[x,w]=y;this.cache.has(x)||this._deleteIfExpired(x,w)===!1&&(yield[x,w.value])}}*entriesDescending(){let y=[...this.cache];for(let x=y.length-1;x>=0;--x){let w=y[x],[S,E]=w;this._deleteIfExpired(S,E)===!1&&(yield[S,E.value])}y=[...this.oldCache];for(let x=y.length-1;x>=0;--x){let w=y[x],[S,E]=w;this.cache.has(S)||this._deleteIfExpired(S,E)===!1&&(yield[S,E.value])}}*entriesAscending(){for(let[y,x]of this._entriesAscending())yield[y,x.value]}get size(){if(!this._size)return this.oldCache.size;let y=0;for(let x of this.oldCache.keys())this.cache.has(x)||y++;return Math.min(this._size+y,this.maxSize)}};d.exports=h}),te,se=v(()=>{L(),te=c=>c&&c._hash});function le(c){return te(c,{ignoreUnknown:!0})}var me=v(()=>{L(),se()});function ve(c){if(c=`${c}`,c==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(c))return c.replace(/^[+-]?/,h=>h==="-"?"":"-");let d=["var","calc","min","max","clamp"];for(let h of d)if(c.includes(`${h}(`))return`calc(${c} * -1)`}var Re=v(()=>{L()}),Ne,fe=v(()=>{L(),Ne=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","size","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","textWrap","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","contain","content","forcedColorAdjust"]});function Me(c,d){return c===void 0?d:Array.isArray(c)?c:[...new Set(d.filter(h=>c!==!1&&c[h]!==!1).concat(Object.keys(c).filter(h=>c[h]!==!1)))]}var He=v(()=>{L()}),pt={};N(pt,{default:()=>it});var it,Rt=v(()=>{L(),it=new Proxy({},{get:()=>String})});function ie(c,d,h){typeof F<"u"&&F.env.JEST_WORKER_ID||h&&De.has(h)||(h&&De.add(h),console.warn(""),d.forEach(y=>console.warn(c,"-",y)))}function ye(c){return it.dim(c)}var De,Ue,je=v(()=>{L(),Rt(),De=new Set,Ue={info(c,d){ie(it.bold(it.cyan("info")),...Array.isArray(c)?[c]:[d,c])},warn(c,d){["content-problems"].includes(c)||ie(it.bold(it.yellow("warn")),...Array.isArray(c)?[c]:[d,c])},risk(c,d){ie(it.bold(it.magenta("risk")),...Array.isArray(c)?[c]:[d,c])}}}),ae={};N(ae,{default:()=>ke});function pe({version:c,from:d,to:h}){Ue.warn(`${d}-color-renamed`,[`As of Tailwind CSS ${c}, \`${d}\` has been renamed to \`${h}\`.`,"Update your configuration file to silence this warning."])}var ke,Fe=v(()=>{L(),je(),ke={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return pe({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return pe({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return pe({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return pe({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return pe({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}});function tt(c,...d){var h,y;for(let x of d){for(let w in x)(h=c==null?void 0:c.hasOwnProperty)!=null&&h.call(c,w)||(c[w]=x[w]);for(let w of Object.getOwnPropertySymbols(x))(y=c==null?void 0:c.hasOwnProperty)!=null&&y.call(c,w)||(c[w]=x[w])}return c}var ct=v(()=>{L()});function yt(c){if(Array.isArray(c))return c;let d=c.split("[").length-1,h=c.split("]").length-1;if(d!==h)throw new Error(`Path is invalid. Has unbalanced brackets: ${c}`);return c.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}var qe=v(()=>{L()});function Pe(c,d){var h,y;return Yt.future.includes(d)?c.future==="all"||(((h=c==null?void 0:c.future)==null?void 0:h[d])??vt[d]??!1):Yt.experimental.includes(d)?c.experimental==="all"||(((y=c==null?void 0:c.experimental)==null?void 0:y[d])??vt[d]??!1):!1}function mt(c){return c.experimental==="all"?Yt.experimental:Object.keys((c==null?void 0:c.experimental)??{}).filter(d=>Yt.experimental.includes(d)&&c.experimental[d])}function at(c){if(F.env.JEST_WORKER_ID===void 0&&mt(c).length>0){let d=mt(c).map(h=>it.yellow(h)).join(", ");Ue.warn("experimental-flags-enabled",[`You have enabled experimental features: ${d}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}var vt,Yt,Vt=v(()=>{L(),Rt(),je(),vt={optimizeUniversalDefaults:!1,generalizedModifiers:!0,disableColorOpacityUtilitiesByDefault:!1,relativeContentPathsByDefault:!1},Yt={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]}});function _n(c){(()=>{if(c.purge||!c.content||!Array.isArray(c.content)&&!(typeof c.content=="object"&&c.content!==null))return!1;if(Array.isArray(c.content))return c.content.every(d=>typeof d=="string"?!0:!(typeof(d==null?void 0:d.raw)!="string"||d!=null&&d.extension&&typeof(d==null?void 0:d.extension)!="string"));if(typeof c.content=="object"&&c.content!==null){if(Object.keys(c.content).some(d=>!["files","relative","extract","transform"].includes(d)))return!1;if(Array.isArray(c.content.files)){if(!c.content.files.every(d=>typeof d=="string"?!0:!(typeof(d==null?void 0:d.raw)!="string"||d!=null&&d.extension&&typeof(d==null?void 0:d.extension)!="string")))return!1;if(typeof c.content.extract=="object"){for(let d of Object.values(c.content.extract))if(typeof d!="function")return!1}else if(!(c.content.extract===void 0||typeof c.content.extract=="function"))return!1;if(typeof c.content.transform=="object"){for(let d of Object.values(c.content.transform))if(typeof d!="function")return!1}else if(!(c.content.transform===void 0||typeof c.content.transform=="function"))return!1;if(typeof c.content.relative!="boolean"&&typeof c.content.relative<"u")return!1}return!0}return!1})()||Ue.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),c.safelist=(()=>{var x;let{content:d,purge:h,safelist:y}=c;return Array.isArray(y)?y:Array.isArray(d==null?void 0:d.safelist)?d.safelist:Array.isArray(h==null?void 0:h.safelist)?h.safelist:Array.isArray((x=h==null?void 0:h.options)==null?void 0:x.safelist)?h.options.safelist:[]})(),c.blocklist=(()=>{let{blocklist:d}=c;if(Array.isArray(d)){if(d.every(h=>typeof h=="string"))return d;Ue.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof c.prefix=="function"?(Ue.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),c.prefix=""):c.prefix=c.prefix??"",c.content={relative:(()=>{let{content:d}=c;return d!=null&&d.relative?d.relative:Pe(c,"relativeContentPathsByDefault")})(),files:(()=>{let{content:d,purge:h}=c;return Array.isArray(h)?h:Array.isArray(h==null?void 0:h.content)?h.content:Array.isArray(d)?d:Array.isArray(d==null?void 0:d.content)?d.content:Array.isArray(d==null?void 0:d.files)?d.files:[]})(),extract:(()=>{let d=(()=>{var x,w,S,E,_,T,I,k,P,M;return(x=c.purge)!=null&&x.extract?c.purge.extract:(w=c.content)!=null&&w.extract?c.content.extract:(E=(S=c.purge)==null?void 0:S.extract)!=null&&E.DEFAULT?c.purge.extract.DEFAULT:(T=(_=c.content)==null?void 0:_.extract)!=null&&T.DEFAULT?c.content.extract.DEFAULT:(k=(I=c.purge)==null?void 0:I.options)!=null&&k.extractors?c.purge.options.extractors:(M=(P=c.content)==null?void 0:P.options)!=null&&M.extractors?c.content.options.extractors:{}})(),h={},y=(()=>{var x,w,S,E;if((w=(x=c.purge)==null?void 0:x.options)!=null&&w.defaultExtractor)return c.purge.options.defaultExtractor;if((E=(S=c.content)==null?void 0:S.options)!=null&&E.defaultExtractor)return c.content.options.defaultExtractor})();if(y!==void 0&&(h.DEFAULT=y),typeof d=="function")h.DEFAULT=d;else if(Array.isArray(d))for(let{extensions:x,extractor:w}of d??[])for(let S of x)h[S]=w;else typeof d=="object"&&d!==null&&Object.assign(h,d);return h})(),transform:(()=>{let d=(()=>{var y,x,w,S,E,_;return(y=c.purge)!=null&&y.transform?c.purge.transform:(x=c.content)!=null&&x.transform?c.content.transform:(S=(w=c.purge)==null?void 0:w.transform)!=null&&S.DEFAULT?c.purge.transform.DEFAULT:(_=(E=c.content)==null?void 0:E.transform)!=null&&_.DEFAULT?c.content.transform.DEFAULT:{}})(),h={};return typeof d=="function"?h.DEFAULT=d:typeof d=="object"&&d!==null&&Object.assign(h,d),h})()};for(let d of c.content.files)if(typeof d=="string"&&/{([^,]*?)}/g.test(d)){Ue.warn("invalid-glob-braces",[`The glob pattern ${ye(d)} in your Tailwind CSS configuration is invalid.`,`Update it to ${ye(d.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return c}var Ft=v(()=>{L(),Vt(),je()});function Zt(c){if(Object.prototype.toString.call(c)!=="[object Object]")return!1;let d=Object.getPrototypeOf(c);return d===null||Object.getPrototypeOf(d)===null}var jn=v(()=>{L()});function qn(c){return Array.isArray(c)?c.map(d=>qn(d)):typeof c=="object"&&c!==null?Object.fromEntries(Object.entries(c).map(([d,h])=>[d,qn(h)])):c}var ts=v(()=>{L()});function ns(c){return c.replace(/\\,/g,"\\2c ")}var mr=v(()=>{L()}),Ge,Ye=v(()=>{L(),Ge={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});function At(c,{loose:d=!1}={}){var w,S;if(typeof c!="string")return null;if(c=c.trim(),c==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(c in Ge)return{mode:"rgb",color:Ge[c].map(E=>E.toString())};let h=c.replace(It,(E,_,T,I,k)=>["#",_,_,T,T,I,I,k?k+k:""].join("")).match(Ns);if(h!==null)return{mode:"rgb",color:[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)].map(E=>E.toString()),alpha:h[4]?(parseInt(h[4],16)/255).toString():void 0};let y=c.match(Ua)??c.match(Er);if(y===null)return null;let x=[y[2],y[3],y[4]].filter(Boolean).map(E=>E.toString());return x.length===2&&x[0].startsWith("var(")?{mode:y[1],color:[x[0]],alpha:x[1]}:!d&&x.length!==3||x.length<3&&!x.some(E=>/^var\(.*?\)$/.test(E))?null:{mode:y[1],color:x,alpha:(S=(w=y[5])==null?void 0:w.toString)==null?void 0:S.call(w)}}function en({mode:c,color:d,alpha:h}){let y=h!==void 0;return c==="rgba"||c==="hsla"?`${c}(${d.join(", ")}${y?`, ${h}`:""})`:`${c}(${d.join(" ")}${y?` / ${h}`:""})`}var Ns,It,Sn,Sr,Bo,cs,Ua,Er,ei=v(()=>{L(),Ye(),Ns=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,It=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Sn=/(?:\d+|\d*\.\d+)%?/,Sr=/(?:\s*,\s*|\s+)/,Bo=/\s*[,/]\s*/,cs=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,Ua=new RegExp(`^(rgba?)\\(\\s*(${Sn.source}|${cs.source})(?:${Sr.source}(${Sn.source}|${cs.source}))?(?:${Sr.source}(${Sn.source}|${cs.source}))?(?:${Bo.source}(${Sn.source}|${cs.source}))?\\s*\\)$`),Er=new RegExp(`^(hsla?)\\(\\s*((?:${Sn.source})(?:deg|rad|grad|turn)?|${cs.source})(?:${Sr.source}(${Sn.source}|${cs.source}))?(?:${Sr.source}(${Sn.source}|${cs.source}))?(?:${Bo.source}(${Sn.source}|${cs.source}))?\\s*\\)$`)});function nr(c,d,h){if(typeof c=="function")return c({opacityValue:d});let y=At(c,{loose:!0});return y===null?h:en({...y,alpha:d})}function Cr({color:c,property:d,variable:h}){let y=[].concat(d);if(typeof c=="function")return{[h]:"1",...Object.fromEntries(y.map(w=>[w,c({opacityVariable:h,opacityValue:`var(${h}, 1)`})]))};let x=At(c);return x===null?Object.fromEntries(y.map(w=>[w,c])):x.alpha!==void 0?Object.fromEntries(y.map(w=>[w,c])):{[h]:"1",...Object.fromEntries(y.map(w=>[w,en({...x,alpha:`var(${h}, 1)`})]))}}var Zl=v(()=>{L(),ei()});function rs(c,d){let h=[],y=[],x=0,w=!1;for(let S=0;S<c.length;S++){let E=c[S];h.length===0&&E===d[0]&&!w&&(d.length===1||c.slice(S,S+d.length)===d)&&(y.push(c.slice(x,S)),x=S+d.length),w=w?!1:E==="\\",E==="("||E==="["||E==="{"?h.push(E):(E===")"&&h[h.length-1]==="("||E==="]"&&h[h.length-1]==="["||E==="}"&&h[h.length-1]==="{")&&h.pop()}return y.push(c.slice(x)),y}var ti=v(()=>{L()});function qo(c){return rs(c,",").map(d=>{let h=d.trim(),y={raw:h},x=h.split($o),w=new Set;for(let S of x)Wi.lastIndex=0,!w.has("KEYWORD")&&Ti.has(S)?(y.keyword=S,w.add("KEYWORD")):Wi.test(S)?w.has("X")?w.has("Y")?w.has("BLUR")?w.has("SPREAD")||(y.spread=S,w.add("SPREAD")):(y.blur=S,w.add("BLUR")):(y.y=S,w.add("Y")):(y.x=S,w.add("X")):y.color?(y.unknown||(y.unknown=[]),y.unknown.push(S)):y.color=S;return y.valid=y.x!==void 0&&y.y!==void 0,y})}function ec(c){return c.map(d=>d.valid?[d.keyword,d.x,d.y,d.blur,d.spread,d.color].filter(Boolean).join(" "):d.raw).join(", ")}var Ti,$o,Wi,Eh=v(()=>{L(),ti(),Ti=new Set(["inset","inherit","initial","revert","unset"]),$o=/\ +(?![^(]*\))/g,Wi=/^-?(\d+|\.\d+)(.*?)$/g});function tc(c){return ed.some(d=>new RegExp(`^${d}\\(.*\\)`).test(c))}function cn(c,d=null,h=!0){let y=d&&La.has(d.property);return c.startsWith("--")&&!y?`var(${c})`:c.includes("url(")?c.split(/(url\(.*?\))/g).filter(Boolean).map(x=>/^url\(.*?\)$/.test(x)?x:cn(x,d,!1)).join(""):(c=c.replace(/([^\\])_+/g,(x,w)=>w+" ".repeat(x.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),h&&(c=c.trim()),c=Dg(c),c)}function Tr(c){return c.includes("=")&&(c=c.replace(/(=.*)/g,(d,h)=>{if(h[1]==="'"||h[1]==='"')return h;if(h.length>2){let y=h[h.length-1];if(h[h.length-2]===" "&&(y==="i"||y==="I"||y==="s"||y==="S"))return`="${h.slice(1,-2)}" ${h[h.length-1]}`}return`="${h.slice(1)}"`})),c}function Dg(c){let d=["theme"],h=["min-content","max-content","fit-content","safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left","titlebar-area-x","titlebar-area-y","titlebar-area-width","titlebar-area-height","keyboard-inset-top","keyboard-inset-right","keyboard-inset-bottom","keyboard-inset-left","keyboard-inset-width","keyboard-inset-height","radial-gradient","linear-gradient","conic-gradient","repeating-radial-gradient","repeating-linear-gradient","repeating-conic-gradient","anchor-size"];return c.replace(/(calc|min|max|clamp)\(.+\)/g,y=>{let x="";function w(){let S=x.trimEnd();return S[S.length-1]}for(let S=0;S<y.length;S++){let E=function(I){return I.split("").every((k,P)=>y[S+P]===k)},_=function(I){let k=1/0;for(let M of I){let O=y.indexOf(M,S);O!==-1&&O<k&&(k=O)}let P=y.slice(S,k);return S+=P.length-1,P},T=y[S];if(E("var"))x+=_([")",","]);else if(h.some(I=>E(I))){let I=h.find(k=>E(k));x+=I,S+=I.length-1}else d.some(I=>E(I))?x+=_([")"]):E("[")?x+=_(["]"]):["+","-","*","/"].includes(T)&&!["(","+","-","*","/",","].includes(w())?x+=` ${T} `:x+=T}return x.replace(/\s+/g," ")})}function Wu(c){return c.startsWith("url(")}function Qu(c){return!isNaN(Number(c))||tc(c)}function nc(c){return c.endsWith("%")&&Qu(c.slice(0,-1))||tc(c)}function zo(c){return c==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${Qi}$`).test(c)||tc(c)}function Xu(c){return Xi.has(c)}function Ch(c){let d=qo(cn(c));for(let h of d)if(!h.valid)return!1;return!0}function Th(c){let d=0;return rs(c,"_").every(h=>(h=cn(h),h.startsWith("var(")?!0:At(h,{loose:!0})!==null?(d++,!0):!1))?d>0:!1}function Ai(c){let d=0;return rs(c,",").every(h=>(h=cn(h),h.startsWith("var(")?!0:Wu(h)||lr(h)||["element(","image(","cross-fade(","image-set("].some(y=>h.startsWith(y))?(d++,!0):!1))?d>0:!1}function lr(c){c=cn(c);for(let d of Ba)if(c.startsWith(`${d}(`))return!0;return!1}function Ar(c){let d=0;return rs(c,"_").every(h=>(h=cn(h),h.startsWith("var(")?!0:Zi.has(h)||zo(h)||nc(h)?(d++,!0):!1))?d>0:!1}function ja(c){let d=0;return rs(c,",").every(h=>(h=cn(h),h.startsWith("var(")?!0:h.includes(" ")&&!/(['"])([^"']+)\1/g.test(h)||/^\d/g.test(h)?!1:(d++,!0)))?d>0:!1}function Zu(c){return Wn.has(c)}function Pg(c){return td.has(c)}function Mg(c){return nd.has(c)}var ed,La,rc,Qi,Xi,Ba,Zi,Wn,td,nd,ks=v(()=>{L(),ei(),Eh(),ti(),ed=["min","max","clamp","calc"],La=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","anchor-name","anchor-scope","position-anchor","position-try-options","scroll-timeline","animation-timeline","view-timeline","position-try"]),rc=["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"],Qi=`(?:${rc.join("|")})`,Xi=new Set(["thin","medium","thick"]),Ba=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]),Zi=new Set(["center","top","right","bottom","left"]),Wn=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),td=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large"]),nd=new Set(["larger","smaller"])});function qa(c){let d=["cover","contain"];return rs(c,",").every(h=>{let y=rs(h,"_").filter(Boolean);return y.length===1&&d.includes(y[0])?!0:y.length!==1&&y.length!==2?!1:y.every(x=>zo(x)||nc(x)||x==="auto")})}var Og=v(()=>{L(),ks(),ti()});function Ah(c,d){c.walkClasses(h=>{h.value=d(h.value),h.raws&&h.raws.value&&(h.raws.value=ns(h.raws.value))})}function rd(c,d){if(!us(c))return;let h=c.slice(1,-1);if(d(h))return cn(h)}function Ug(c,d={},h){let y=d[c];if(y!==void 0)return ve(y);if(us(c)){let x=rd(c,h);return x===void 0?void 0:ve(x)}}function ea(c,d={},{validate:h=()=>!0}={}){var x;let y=(x=d.values)==null?void 0:x[c];return y!==void 0?y:d.supportsNegativeValues&&c.startsWith("-")?Ug(c.slice(1),d.values,h):rd(c,h)}function us(c){return c.startsWith("[")&&c.endsWith("]")}function Is(c){let d=c.lastIndexOf("/"),h=c.lastIndexOf("[",d),y=c.indexOf("]",d);return c[d-1]==="]"||c[d+1]==="["||h!==-1&&y!==-1&&h<d&&d<y&&(d=c.lastIndexOf("/",h)),d===-1||d===c.length-1?[c,void 0]:us(c)&&!c.includes("]/[")?[c,void 0]:[c.slice(0,d),c.slice(d+1)]}function gr(c){if(typeof c=="string"&&c.includes("<alpha-value>")){let d=c;return({opacityValue:h=1})=>d.replace(/<alpha-value>/g,h)}return c}function sd(c){return cn(c.slice(1,-1))}function jg(c,d={},{tailwindConfig:h={}}={}){var w,S,E,_,T;if(((w=d.values)==null?void 0:w[c])!==void 0)return gr((S=d.values)==null?void 0:S[c]);let[y,x]=Is(c);if(x!==void 0){let I=((E=d.values)==null?void 0:E[y])??(us(y)?y.slice(1,-1):void 0);return I===void 0?void 0:(I=gr(I),us(x)?nr(I,sd(x)):((T=(_=h.theme)==null?void 0:_.opacity)==null?void 0:T[x])===void 0?void 0:nr(I,h.theme.opacity[x]))}return ea(c,d,{validate:Th})}function id(c,d={}){var h;return(h=d.values)==null?void 0:h[c]}function Nr(c){return(d,h)=>ea(d,h,{validate:c})}function sc(c,d){let h=c.indexOf(d);return h===-1?[void 0,c]:[c.slice(0,h),c.slice(h+1)]}function Nh(c,d,h,y){if(h.values&&d in h.values)for(let{type:w}of c??[]){let S=$a[w](d,h,{tailwindConfig:y});if(S!==void 0)return[S,w,null]}if(us(d)){let w=d.slice(1,-1),[S,E]=sc(w,":");if(!/^[\w-_]+$/g.test(S))E=w;else if(S!==void 0&&!ic.includes(S))return[];if(E.length>0&&ic.includes(S))return[ea(`[${E}]`,h),S,null]}let x=zr(c,d,h,y);for(let w of x)return w;return[]}function*zr(c,d,h,y){var E;let x=Pe(y,"generalizedModifiers"),[w,S]=Is(d);if(x&&h.modifiers!=null&&(h.modifiers==="any"||typeof h.modifiers=="object"&&(S&&us(S)||S in h.modifiers))||(w=d,S=void 0),S!==void 0&&w===""&&(w="DEFAULT"),S!==void 0&&typeof h.modifiers=="object"){let _=((E=h.modifiers)==null?void 0:E[S])??null;_!==null?S=_:us(S)&&(S=sd(S))}for(let{type:_}of c??[]){let T=$a[_](w,h,{tailwindConfig:y});T!==void 0&&(yield[T,_,S??null])}}var $a,ic,za=v(()=>{L(),mr(),Zl(),ks(),Re(),Og(),Vt(),$a={any:ea,color:jg,url:Nr(Wu),image:Nr(Ai),length:Nr(zo),percentage:Nr(nc),position:Nr(Ar),lookup:id,"generic-name":Nr(Zu),"family-name":Nr(ja),number:Nr(Qu),"line-width":Nr(Xu),"absolute-size":Nr(Pg),"relative-size":Nr(Mg),shadow:Nr(Ch),size:Nr(qa)},ic=Object.keys($a)});function an(c){return typeof c=="function"?c({}):c}var ad=v(()=>{L()});function ta(c){return typeof c=="function"}function Rs(c,...d){let h=d.pop();for(let y of d)for(let x in y){let w=h(c[x],y[x]);w===void 0?Zt(c[x])&&Zt(y[x])?c[x]=Rs({},c[x],y[x],h):c[x]=y[x]:c[x]=w}return c}function Lg(c,...d){return ta(c)?c(...d):c}function kh(c){return c.reduce((d,{extend:h})=>Rs(d,h,(y,x)=>y===void 0?[x]:Array.isArray(y)?[x,...y]:[x,y]),{})}function Ih(c){return{...c.reduce((d,h)=>tt(d,h),{}),extend:kh(c)}}function ac(c,d){if(Array.isArray(c)&&Zt(c[0]))return c.concat(d);if(Array.isArray(d)&&Zt(d[0])&&Zt(c))return[c,...d];if(Array.isArray(d))return d}function Bg({extend:c,...d}){return Rs(d,c,(h,y)=>!ta(h)&&!y.some(ta)?Rs({},h,...y,ac):(x,w)=>Rs({},...[h,...y].map(S=>Lg(S,x,w)),ac))}function*qg(c){let d=yt(c);if(d.length===0||(yield d,Array.isArray(c)))return;let h=/^(.*?)\s*\/\s*([^/]+)$/,y=c.match(h);if(y!==null){let[,x,w]=y,S=yt(x);S.alpha=w,yield S}}function oc(c){let d=(h,y)=>{for(let x of qg(h)){let w=0,S=c;for(;S!=null&&w<x.length;)S=S[x[w++]],S=ta(S)&&(x.alpha===void 0||w<=x.length-1)?S(d,ni):S;if(S!==void 0){if(x.alpha!==void 0){let E=gr(S);return nr(E,x.alpha,an(E))}return Zt(S)?qn(S):S}}return y};return Object.assign(d,{theme:d,...ni}),Object.keys(c).reduce((h,y)=>(h[y]=ta(c[y])?c[y](d,ni):c[y],h),{})}function Ds(c){let d=[];return c.forEach(h=>{d=[...d,h];let y=(h==null?void 0:h.plugins)??[];y.length!==0&&y.forEach(x=>{x.__isOptionsFunction&&(x=x()),d=[...d,...Ds([(x==null?void 0:x.config)??{}])]})}),d}function od(c){return[...c].reduceRight((d,h)=>ta(h)?h({corePlugins:d}):Me(h,d),Ne)}function ld(c){return[...c].reduceRight((d,h)=>[...d,...h],[])}function Va(c){let d=[...Ds(c),{prefix:"",important:!1,separator:":"}];return _n(tt({theme:oc(Bg(Ih(d.map(h=>(h==null?void 0:h.theme)??{})))),corePlugins:od(d.map(h=>h.corePlugins)),plugins:ld(c.map(h=>(h==null?void 0:h.plugins)??[]))},...d))}var ni,Rh=v(()=>{L(),Re(),fe(),He(),Fe(),ct(),qe(),Ft(),jn(),ts(),za(),Zl(),ad(),ni={colors:ke,negative(c){return Object.keys(c).filter(d=>c[d]!=="0").reduce((d,h)=>{let y=ve(c[h]);return y!==void 0&&(d[`-${h}`]=y),d},{})},breakpoints(c){return Object.keys(c).filter(d=>typeof c[d]=="string").reduce((d,h)=>({...d,[`screen-${h}`]:c[h]}),{})}}}),Vo=p((c,d)=>{L(),d.exports={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:h})=>({...h("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:h})=>h("blur"),backdropBrightness:({theme:h})=>h("brightness"),backdropContrast:({theme:h})=>h("contrast"),backdropGrayscale:({theme:h})=>h("grayscale"),backdropHueRotate:({theme:h})=>h("hueRotate"),backdropInvert:({theme:h})=>h("invert"),backdropOpacity:({theme:h})=>h("opacity"),backdropSaturate:({theme:h})=>h("saturate"),backdropSepia:({theme:h})=>h("sepia"),backgroundColor:({theme:h})=>h("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:h})=>h("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:h})=>({...h("colors"),DEFAULT:h("colors.gray.200","currentColor")}),borderOpacity:({theme:h})=>h("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:h})=>({...h("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:h})=>h("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:h})=>h("colors"),colors:({colors:h})=>({inherit:h.inherit,current:h.current,transparent:h.transparent,black:h.black,white:h.white,slate:h.slate,gray:h.gray,zinc:h.zinc,neutral:h.neutral,stone:h.stone,red:h.red,orange:h.orange,amber:h.amber,yellow:h.yellow,lime:h.lime,green:h.green,emerald:h.emerald,teal:h.teal,cyan:h.cyan,sky:h.sky,blue:h.blue,indigo:h.indigo,violet:h.violet,purple:h.purple,fuchsia:h.fuchsia,pink:h.pink,rose:h.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:h})=>h("borderColor"),divideOpacity:({theme:h})=>h("borderOpacity"),divideWidth:({theme:h})=>h("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:h})=>({none:"none",...h("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:h})=>({auto:"auto",...h("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:h})=>h("spacing"),gradientColorStops:({theme:h})=>h("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:h})=>({auto:"auto",...h("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:h})=>({auto:"auto",...h("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:h})=>({auto:"auto",...h("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:h})=>({...h("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:h,breakpoints:y})=>({...h("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...y(h("screens"))}),minHeight:({theme:h})=>({...h("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:h})=>({...h("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:h})=>h("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:h})=>h("spacing"),placeholderColor:({theme:h})=>h("colors"),placeholderOpacity:({theme:h})=>h("opacity"),ringColor:({theme:h})=>({DEFAULT:h("colors.blue.500","#3b82f6"),...h("colors")}),ringOffsetColor:({theme:h})=>h("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:h})=>({DEFAULT:"0.5",...h("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:h})=>({...h("spacing")}),scrollPadding:({theme:h})=>h("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:h})=>({...h("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:h})=>({none:"none",...h("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:h})=>h("colors"),textDecorationColor:({theme:h})=>h("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:h})=>({...h("spacing")}),textOpacity:({theme:h})=>h("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:h})=>({...h("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:h})=>({auto:"auto",...h("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:h})=>({auto:"auto",...h("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]}});function cd(c){let d=((c==null?void 0:c.presets)??[Fa.default]).slice().reverse().flatMap(x=>cd(x instanceof Function?x():x)),h={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:x})=>({DEFAULT:"#3b82f67f",...x("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},y=Object.keys(h).filter(x=>Pe(c,x)).map(x=>h[x]);return[c,...y,...d]}var Fa,ri=v(()=>{L(),Fa=U(Vo()),Vt()}),lc={};N(lc,{default:()=>na});function na(...c){let[,...d]=cd(c[0]);return Va([...c,...d])}var si=v(()=>{L(),Rh(),ri()}),ra={};N(ra,{default:()=>Hn});var Hn,Ps=v(()=>{L(),Hn={resolve:c=>c,extname:c=>"."+c.split(".").pop()}});function sa(c){return typeof c=="object"&&c!==null}function cc(c){return Object.keys(c).length===0}function ud(c){return typeof c=="string"||c instanceof String}function kr(c){return sa(c)&&c.config===void 0&&!cc(c)?null:sa(c)&&c.config!==void 0&&ud(c.config)?Hn.resolve(c.config):sa(c)&&c.config!==void 0&&sa(c.config)?null:ud(c)?Hn.resolve(c):ia()}function ia(){for(let c of Fo)try{let d=Hn.resolve(c);return re.accessSync(d),d}catch{}return null}var Fo,Ho=v(()=>{L(),ce(),Ps(),Fo=["./tailwind.config.js","./tailwind.config.cjs","./tailwind.config.mjs","./tailwind.config.ts","./tailwind.config.cts","./tailwind.config.mts"]}),Dh={};N(Dh,{default:()=>Go});var Go,uc=v(()=>{L(),Go={parse:c=>({href:c})}}),Ha=p(()=>{L()}),Ga=p((c,d)=>{L();var h=(Rt(),pt),y=Ha(),x=class extends Error{constructor(w,S,E,_,T,I){super(w),this.name="CssSyntaxError",this.reason=w,T&&(this.file=T),_&&(this.source=_),I&&(this.plugin=I),typeof S<"u"&&typeof E<"u"&&(typeof S=="number"?(this.line=S,this.column=E):(this.line=S.line,this.column=S.column,this.endLine=E.line,this.endColumn=E.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,x)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(w){if(!this.source)return"";let S=this.source;w==null&&(w=h.isColorSupported);let E=O=>O,_=O=>O,T=O=>O;if(w){let{bold:O,gray:j,red:B}=h.createColors(!0);_=V=>O(B(V)),E=V=>j(V),y&&(T=V=>y(V))}let I=S.split(/\r?\n/),k=Math.max(this.line-3,0),P=Math.min(this.line+2,I.length),M=String(P).length;return I.slice(k,P).map((O,j)=>{let B=k+1+j,V=" "+(" "+B).slice(-M)+" | ";if(B===this.line){if(O.length>160){let G=20,Y=Math.max(0,this.column-G),q=Math.max(this.column+G,this.endColumn+G),z=O.slice(Y,q),J=E(V.replace(/\d/g," "))+O.slice(0,Math.min(this.column-1,G-1)).replace(/[^\t]/g," ");return _(">")+E(V)+T(z)+`
 `+J+_("^")}let $=E(V.replace(/\d/g," "))+O.slice(0,this.column-1).replace(/[^\t]/g," ");return _(">")+E(V)+T(O)+`
 `+$+_("^")}return" "+E(V)+T(O)}).join(`
`)}toString(){let w=this.showSourceCode();return w&&(w=`

`+w+`
`),this.name+": "+this.message+w}};d.exports=x,x.default=x}),dd=p((c,d)=>{L();var h={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function y(w){return w[0].toUpperCase()+w.slice(1)}var x=class{constructor(w){this.builder=w}atrule(w,S){let E="@"+w.name,_=w.params?this.rawValue(w,"params"):"";if(typeof w.raws.afterName<"u"?E+=w.raws.afterName:_&&(E+=" "),w.nodes)this.block(w,E+_);else{let T=(w.raws.between||"")+(S?";":"");this.builder(E+_+T,w)}}beforeAfter(w,S){let E;w.type==="decl"?E=this.raw(w,null,"beforeDecl"):w.type==="comment"?E=this.raw(w,null,"beforeComment"):S==="before"?E=this.raw(w,null,"beforeRule"):E=this.raw(w,null,"beforeClose");let _=w.parent,T=0;for(;_&&_.type!=="root";)T+=1,_=_.parent;if(E.includes(`
`)){let I=this.raw(w,null,"indent");if(I.length)for(let k=0;k<T;k++)E+=I}return E}block(w,S){let E=this.raw(w,"between","beforeOpen");this.builder(S+E+"{",w,"start");let _;w.nodes&&w.nodes.length?(this.body(w),_=this.raw(w,"after")):_=this.raw(w,"after","emptyBody"),_&&this.builder(_),this.builder("}",w,"end")}body(w){let S=w.nodes.length-1;for(;S>0&&w.nodes[S].type==="comment";)S-=1;let E=this.raw(w,"semicolon");for(let _=0;_<w.nodes.length;_++){let T=w.nodes[_],I=this.raw(T,"before");I&&this.builder(I),this.stringify(T,S!==_||E)}}comment(w){let S=this.raw(w,"left","commentLeft"),E=this.raw(w,"right","commentRight");this.builder("/*"+S+w.text+E+"*/",w)}decl(w,S){let E=this.raw(w,"between","colon"),_=w.prop+E+this.rawValue(w,"value");w.important&&(_+=w.raws.important||" !important"),S&&(_+=";"),this.builder(_,w)}document(w){this.body(w)}raw(w,S,E){let _;if(E||(E=S),S&&(_=w.raws[S],typeof _<"u"))return _;let T=w.parent;if(E==="before"&&(!T||T.type==="root"&&T.first===w||T&&T.type==="document"))return"";if(!T)return h[E];let I=w.root();if(I.rawCache||(I.rawCache={}),typeof I.rawCache[E]<"u")return I.rawCache[E];if(E==="before"||E==="after")return this.beforeAfter(w,E);{let k="raw"+y(E);this[k]?_=this[k](I,w):I.walk(P=>{if(_=P.raws[S],typeof _<"u")return!1})}return typeof _>"u"&&(_=h[E]),I.rawCache[E]=_,_}rawBeforeClose(w){let S;return w.walk(E=>{if(E.nodes&&E.nodes.length>0&&typeof E.raws.after<"u")return S=E.raws.after,S.includes(`
`)&&(S=S.replace(/[^\n]+$/,"")),!1}),S&&(S=S.replace(/\S/g,"")),S}rawBeforeComment(w,S){let E;return w.walkComments(_=>{if(typeof _.raws.before<"u")return E=_.raws.before,E.includes(`
`)&&(E=E.replace(/[^\n]+$/,"")),!1}),typeof E>"u"?E=this.raw(S,null,"beforeDecl"):E&&(E=E.replace(/\S/g,"")),E}rawBeforeDecl(w,S){let E;return w.walkDecls(_=>{if(typeof _.raws.before<"u")return E=_.raws.before,E.includes(`
`)&&(E=E.replace(/[^\n]+$/,"")),!1}),typeof E>"u"?E=this.raw(S,null,"beforeRule"):E&&(E=E.replace(/\S/g,"")),E}rawBeforeOpen(w){let S;return w.walk(E=>{if(E.type!=="decl"&&(S=E.raws.between,typeof S<"u"))return!1}),S}rawBeforeRule(w){let S;return w.walk(E=>{if(E.nodes&&(E.parent!==w||w.first!==E)&&typeof E.raws.before<"u")return S=E.raws.before,S.includes(`
`)&&(S=S.replace(/[^\n]+$/,"")),!1}),S&&(S=S.replace(/\S/g,"")),S}rawColon(w){let S;return w.walkDecls(E=>{if(typeof E.raws.between<"u")return S=E.raws.between.replace(/[^\s:]/g,""),!1}),S}rawEmptyBody(w){let S;return w.walk(E=>{if(E.nodes&&E.nodes.length===0&&(S=E.raws.after,typeof S<"u"))return!1}),S}rawIndent(w){if(w.raws.indent)return w.raws.indent;let S;return w.walk(E=>{let _=E.parent;if(_&&_!==w&&_.parent&&_.parent===w&&typeof E.raws.before<"u"){let T=E.raws.before.split(`
`);return S=T[T.length-1],S=S.replace(/\S/g,""),!1}}),S}rawSemicolon(w){let S;return w.walk(E=>{if(E.nodes&&E.nodes.length&&E.last.type==="decl"&&(S=E.raws.semicolon,typeof S<"u"))return!1}),S}rawValue(w,S){let E=w[S],_=w.raws[S];return _&&_.value===E?_.raw:E}root(w){this.body(w),w.raws.after&&this.builder(w.raws.after)}rule(w){this.block(w,this.rawValue(w,"selector")),w.raws.ownSemicolon&&this.builder(w.raws.ownSemicolon,w,"end")}stringify(w,S){if(!this[w.type])throw new Error("Unknown AST node type "+w.type+". Maybe you need to change PostCSS stringifier.");this[w.type](w,S)}};d.exports=x,x.default=x}),dc=p((c,d)=>{L();var h=dd();function y(x,w){new h(w).stringify(x)}d.exports=y,y.default=y}),fd=p((c,d)=>{L(),d.exports.isClean=Symbol("isClean"),d.exports.my=Symbol("my")}),fc=p((c,d)=>{L();var h=Ga(),y=dd(),x=dc(),{isClean:w,my:S}=fd();function E(I,k){let P=new I.constructor;for(let M in I){if(!Object.prototype.hasOwnProperty.call(I,M)||M==="proxyCache")continue;let O=I[M],j=typeof O;M==="parent"&&j==="object"?k&&(P[M]=k):M==="source"?P[M]=O:Array.isArray(O)?P[M]=O.map(B=>E(B,P)):(j==="object"&&O!==null&&(O=E(O)),P[M]=O)}return P}function _(I,k){if(k&&typeof k.offset<"u")return k.offset;let P=1,M=1,O=0;for(let j=0;j<I.length;j++){if(M===k.line&&P===k.column){O=j;break}I[j]===`
`?(P=1,M+=1):P+=1}return O}var T=class{constructor(I={}){this.raws={},this[w]=!1,this[S]=!0;for(let k in I)if(k==="nodes"){this.nodes=[];for(let P of I[k])typeof P.clone=="function"?this.append(P.clone()):this.append(P)}else this[k]=I[k]}addToError(I){if(I.postcssNode=this,I.stack&&this.source&&/\n\s{4}at /.test(I.stack)){let k=this.source;I.stack=I.stack.replace(/\n\s{4}at /,`$&${k.input.from}:${k.start.line}:${k.start.column}$&`)}return I}after(I){return this.parent.insertAfter(this,I),this}assign(I={}){for(let k in I)this[k]=I[k];return this}before(I){return this.parent.insertBefore(this,I),this}cleanRaws(I){delete this.raws.before,delete this.raws.after,I||delete this.raws.between}clone(I={}){let k=E(this);for(let P in I)k[P]=I[P];return k}cloneAfter(I={}){let k=this.clone(I);return this.parent.insertAfter(this,k),k}cloneBefore(I={}){let k=this.clone(I);return this.parent.insertBefore(this,k),k}error(I,k={}){if(this.source){let{end:P,start:M}=this.rangeBy(k);return this.source.input.error(I,{column:M.column,line:M.line},{column:P.column,line:P.line},k)}return new h(I)}getProxyProcessor(){return{get(I,k){return k==="proxyOf"?I:k==="root"?()=>I.root().toProxy():I[k]},set(I,k,P){return I[k]===P||(I[k]=P,(k==="prop"||k==="value"||k==="name"||k==="params"||k==="important"||k==="text")&&I.markDirty()),!0}}}markClean(){this[w]=!0}markDirty(){if(this[w]){this[w]=!1;let I=this;for(;I=I.parent;)I[w]=!1}}next(){if(!this.parent)return;let I=this.parent.index(this);return this.parent.nodes[I+1]}positionBy(I){let k=this.source.start;if(I.index)k=this.positionInside(I.index);else if(I.word){let P=this.source.input.css.slice(_(this.source.input.css,this.source.start),_(this.source.input.css,this.source.end)).indexOf(I.word);P!==-1&&(k=this.positionInside(P))}return k}positionInside(I){let k=this.source.start.column,P=this.source.start.line,M=_(this.source.input.css,this.source.start),O=M+I;for(let j=M;j<O;j++)this.source.input.css[j]===`
`?(k=1,P+=1):k+=1;return{column:k,line:P}}prev(){if(!this.parent)return;let I=this.parent.index(this);return this.parent.nodes[I-1]}rangeBy(I){let k={column:this.source.start.column,line:this.source.start.line},P=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:k.column+1,line:k.line};if(I.word){let M=this.source.input.css.slice(_(this.source.input.css,this.source.start),_(this.source.input.css,this.source.end)).indexOf(I.word);M!==-1&&(k=this.positionInside(M),P=this.positionInside(M+I.word.length))}else I.start?k={column:I.start.column,line:I.start.line}:I.index&&(k=this.positionInside(I.index)),I.end?P={column:I.end.column,line:I.end.line}:typeof I.endIndex=="number"?P=this.positionInside(I.endIndex):I.index&&(P=this.positionInside(I.index+1));return(P.line<k.line||P.line===k.line&&P.column<=k.column)&&(P={column:k.column+1,line:k.line}),{end:P,start:k}}raw(I,k){return new y().raw(this,I,k)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...I){if(this.parent){let k=this,P=!1;for(let M of I)M===this?P=!0:P?(this.parent.insertAfter(k,M),k=M):this.parent.insertBefore(k,M);P||this.remove()}return this}root(){let I=this;for(;I.parent&&I.parent.type!=="document";)I=I.parent;return I}toJSON(I,k){let P={},M=k==null;k=k||new Map;let O=0;for(let j in this){if(!Object.prototype.hasOwnProperty.call(this,j)||j==="parent"||j==="proxyCache")continue;let B=this[j];if(Array.isArray(B))P[j]=B.map(V=>typeof V=="object"&&V.toJSON?V.toJSON(null,k):V);else if(typeof B=="object"&&B.toJSON)P[j]=B.toJSON(null,k);else if(j==="source"){let V=k.get(B.input);V==null&&(V=O,k.set(B.input,O),O++),P[j]={end:B.end,inputId:V,start:B.start}}else P[j]=B}return M&&(P.inputs=[...k.keys()].map(j=>j.toJSON())),P}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(I=x){I.stringify&&(I=I.stringify);let k="";return I(this,P=>{k+=P}),k}warn(I,k,P){let M={node:this};for(let O in P)M[O]=P[O];return I.warn(k,M)}get proxyOf(){return this}};d.exports=T,T.default=T}),Ya=p((c,d)=>{L();var h=fc(),y=class extends h{constructor(x){super(x),this.type="comment"}};d.exports=y,y.default=y}),hc=p((c,d)=>{L();var h=fc(),y=class extends h{constructor(x){x&&typeof x.value<"u"&&typeof x.value!="string"&&(x={...x,value:String(x.value)}),super(x),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};d.exports=y,y.default=y}),aa=p((c,d)=>{L();var h=Ya(),y=hc(),x=fc(),{isClean:w,my:S}=fd(),E,_,T,I;function k(O){return O.map(j=>(j.nodes&&(j.nodes=k(j.nodes)),delete j.source,j))}function P(O){if(O[w]=!1,O.proxyOf.nodes)for(let j of O.proxyOf.nodes)P(j)}var M=class extends x{append(...O){for(let j of O){let B=this.normalize(j,this.last);for(let V of B)this.proxyOf.nodes.push(V)}return this.markDirty(),this}cleanRaws(O){if(super.cleanRaws(O),this.nodes)for(let j of this.nodes)j.cleanRaws(O)}each(O){if(!this.proxyOf.nodes)return;let j=this.getIterator(),B,V;for(;this.indexes[j]<this.proxyOf.nodes.length&&(B=this.indexes[j],V=O(this.proxyOf.nodes[B],B),V!==!1);)this.indexes[j]+=1;return delete this.indexes[j],V}every(O){return this.nodes.every(O)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let O=this.lastEach;return this.indexes[O]=0,O}getProxyProcessor(){return{get(O,j){return j==="proxyOf"?O:O[j]?j==="each"||typeof j=="string"&&j.startsWith("walk")?(...B)=>O[j](...B.map(V=>typeof V=="function"?($,G)=>V($.toProxy(),G):V)):j==="every"||j==="some"?B=>O[j]((V,...$)=>B(V.toProxy(),...$)):j==="root"?()=>O.root().toProxy():j==="nodes"?O.nodes.map(B=>B.toProxy()):j==="first"||j==="last"?O[j].toProxy():O[j]:O[j]},set(O,j,B){return O[j]===B||(O[j]=B,(j==="name"||j==="params"||j==="selector")&&O.markDirty()),!0}}}index(O){return typeof O=="number"?O:(O.proxyOf&&(O=O.proxyOf),this.proxyOf.nodes.indexOf(O))}insertAfter(O,j){let B=this.index(O),V=this.normalize(j,this.proxyOf.nodes[B]).reverse();B=this.index(O);for(let G of V)this.proxyOf.nodes.splice(B+1,0,G);let $;for(let G in this.indexes)$=this.indexes[G],B<$&&(this.indexes[G]=$+V.length);return this.markDirty(),this}insertBefore(O,j){let B=this.index(O),V=B===0?"prepend":!1,$=this.normalize(j,this.proxyOf.nodes[B],V).reverse();B=this.index(O);for(let Y of $)this.proxyOf.nodes.splice(B,0,Y);let G;for(let Y in this.indexes)G=this.indexes[Y],B<=G&&(this.indexes[Y]=G+$.length);return this.markDirty(),this}normalize(O,j){if(typeof O=="string")O=k(_(O).nodes);else if(typeof O>"u")O=[];else if(Array.isArray(O)){O=O.slice(0);for(let B of O)B.parent&&B.parent.removeChild(B,"ignore")}else if(O.type==="root"&&this.type!=="document"){O=O.nodes.slice(0);for(let B of O)B.parent&&B.parent.removeChild(B,"ignore")}else if(O.type)O=[O];else if(O.prop){if(typeof O.value>"u")throw new Error("Value field is missed in node creation");typeof O.value!="string"&&(O.value=String(O.value)),O=[new y(O)]}else if(O.selector||O.selectors)O=[new I(O)];else if(O.name)O=[new E(O)];else if(O.text)O=[new h(O)];else throw new Error("Unknown node type in node creation");return O.map(B=>(B[S]||M.rebuild(B),B=B.proxyOf,B.parent&&B.parent.removeChild(B),B[w]&&P(B),B.raws||(B.raws={}),typeof B.raws.before>"u"&&j&&typeof j.raws.before<"u"&&(B.raws.before=j.raws.before.replace(/\S/g,"")),B.parent=this.proxyOf,B))}prepend(...O){O=O.reverse();for(let j of O){let B=this.normalize(j,this.first,"prepend").reverse();for(let V of B)this.proxyOf.nodes.unshift(V);for(let V in this.indexes)this.indexes[V]=this.indexes[V]+B.length}return this.markDirty(),this}push(O){return O.parent=this,this.proxyOf.nodes.push(O),this}removeAll(){for(let O of this.proxyOf.nodes)O.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(O){O=this.index(O),this.proxyOf.nodes[O].parent=void 0,this.proxyOf.nodes.splice(O,1);let j;for(let B in this.indexes)j=this.indexes[B],j>=O&&(this.indexes[B]=j-1);return this.markDirty(),this}replaceValues(O,j,B){return B||(B=j,j={}),this.walkDecls(V=>{j.props&&!j.props.includes(V.prop)||j.fast&&!V.value.includes(j.fast)||(V.value=V.value.replace(O,B))}),this.markDirty(),this}some(O){return this.nodes.some(O)}walk(O){return this.each((j,B)=>{let V;try{V=O(j,B)}catch($){throw j.addToError($)}return V!==!1&&j.walk&&(V=j.walk(O)),V})}walkAtRules(O,j){return j?O instanceof RegExp?this.walk((B,V)=>{if(B.type==="atrule"&&O.test(B.name))return j(B,V)}):this.walk((B,V)=>{if(B.type==="atrule"&&B.name===O)return j(B,V)}):(j=O,this.walk((B,V)=>{if(B.type==="atrule")return j(B,V)}))}walkComments(O){return this.walk((j,B)=>{if(j.type==="comment")return O(j,B)})}walkDecls(O,j){return j?O instanceof RegExp?this.walk((B,V)=>{if(B.type==="decl"&&O.test(B.prop))return j(B,V)}):this.walk((B,V)=>{if(B.type==="decl"&&B.prop===O)return j(B,V)}):(j=O,this.walk((B,V)=>{if(B.type==="decl")return j(B,V)}))}walkRules(O,j){return j?O instanceof RegExp?this.walk((B,V)=>{if(B.type==="rule"&&O.test(B.selector))return j(B,V)}):this.walk((B,V)=>{if(B.type==="rule"&&B.selector===O)return j(B,V)}):(j=O,this.walk((B,V)=>{if(B.type==="rule")return j(B,V)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};M.registerParse=O=>{_=O},M.registerRule=O=>{I=O},M.registerAtRule=O=>{E=O},M.registerRoot=O=>{T=O},d.exports=M,M.default=M,M.rebuild=O=>{O.type==="atrule"?Object.setPrototypeOf(O,E.prototype):O.type==="rule"?Object.setPrototypeOf(O,I.prototype):O.type==="decl"?Object.setPrototypeOf(O,y.prototype):O.type==="comment"?Object.setPrototypeOf(O,h.prototype):O.type==="root"&&Object.setPrototypeOf(O,T.prototype),O[S]=!0,O.nodes&&O.nodes.forEach(j=>{M.rebuild(j)})}}),hd=p((c,d)=>{L();var h=aa(),y=class extends h{constructor(x){super(x),this.type="atrule"}append(...x){return this.proxyOf.nodes||(this.nodes=[]),super.append(...x)}prepend(...x){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...x)}};d.exports=y,y.default=y,h.registerAtRule(y)}),pd=p((c,d)=>{L();var h=aa(),y,x,w=class extends h{constructor(S){super({type:"document",...S}),this.nodes||(this.nodes=[])}toResult(S={}){return new y(new x,this,S).stringify()}};w.registerLazyResult=S=>{y=S},w.registerProcessor=S=>{x=S},d.exports=w,w.default=w}),$g=p((c,d)=>{L();var h="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",y=(w,S=21)=>(E=S)=>{let _="",T=E;for(;T--;)_+=w[Math.random()*w.length|0];return _},x=(w=21)=>{let S="",E=w;for(;E--;)S+=h[Math.random()*64|0];return S};d.exports={nanoid:x,customAlphabet:y}}),Ph=p(()=>{L()}),Mh=p((c,d)=>{L(),d.exports={}}),md=p((c,d)=>{L();var{nanoid:h}=$g(),{isAbsolute:y,resolve:x}=(Ps(),ra),{SourceMapConsumer:w,SourceMapGenerator:S}=Ph(),{fileURLToPath:E,pathToFileURL:_}=(uc(),Dh),T=Ga(),I=Mh(),k=Ha(),P=Symbol("fromOffsetCache"),M=!!(w&&S),O=!!(x&&y),j=class{constructor(B,V={}){if(B===null||typeof B>"u"||typeof B=="object"&&!B.toString)throw new Error(`PostCSS received ${B} instead of CSS string`);if(this.css=B.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,V.from&&(!O||/^\w+:\/\//.test(V.from)||y(V.from)?this.file=V.from:this.file=x(V.from)),O&&M){let $=new I(this.css,V);if($.text){this.map=$;let G=$.consumer().file;!this.file&&G&&(this.file=this.mapResolve(G))}}this.file||(this.id="<input css "+h(6)+">"),this.map&&(this.map.file=this.from)}error(B,V,$,G={}){let Y,q,z;if(V&&typeof V=="object"){let W=V,Z=$;if(typeof W.offset=="number"){let X=this.fromOffset(W.offset);V=X.line,$=X.col}else V=W.line,$=W.column;if(typeof Z.offset=="number"){let X=this.fromOffset(Z.offset);q=X.line,Y=X.col}else q=Z.line,Y=Z.column}else if(!$){let W=this.fromOffset(V);V=W.line,$=W.col}let J=this.origin(V,$,q,Y);return J?z=new T(B,J.endLine===void 0?J.line:{column:J.column,line:J.line},J.endLine===void 0?J.column:{column:J.endColumn,line:J.endLine},J.source,J.file,G.plugin):z=new T(B,q===void 0?V:{column:$,line:V},q===void 0?$:{column:Y,line:q},this.css,this.file,G.plugin),z.input={column:$,endColumn:Y,endLine:q,line:V,source:this.css},this.file&&(_&&(z.input.url=_(this.file).toString()),z.input.file=this.file),z}fromOffset(B){let V,$;if(this[P])$=this[P];else{let Y=this.css.split(`
`);$=new Array(Y.length);let q=0;for(let z=0,J=Y.length;z<J;z++)$[z]=q,q+=Y[z].length+1;this[P]=$}V=$[$.length-1];let G=0;if(B>=V)G=$.length-1;else{let Y=$.length-2,q;for(;G<Y;)if(q=G+(Y-G>>1),B<$[q])Y=q-1;else if(B>=$[q+1])G=q+1;else{G=q;break}}return{col:B-$[G]+1,line:G+1}}mapResolve(B){return/^\w+:\/\//.test(B)?B:x(this.map.consumer().sourceRoot||this.map.root||".",B)}origin(B,V,$,G){if(!this.map)return!1;let Y=this.map.consumer(),q=Y.originalPositionFor({column:V,line:B});if(!q.source)return!1;let z;typeof $=="number"&&(z=Y.originalPositionFor({column:G,line:$}));let J;y(q.source)?J=_(q.source):J=new URL(q.source,this.map.consumer().sourceRoot||_(this.map.mapFile));let W={column:q.column,endColumn:z&&z.column,endLine:z&&z.line,line:q.line,url:J.toString()};if(J.protocol==="file:")if(E)W.file=E(J);else throw new Error("file: protocol is not available in this PostCSS build");let Z=Y.sourceContentFor(q.source);return Z&&(W.source=Z),W}toJSON(){let B={};for(let V of["hasBOM","css","file","id"])this[V]!=null&&(B[V]=this[V]);return this.map&&(B.map={...this.map},B.map.consumerCache&&(B.map.consumerCache=void 0)),B}get from(){return this.file||this.id}};d.exports=j,j.default=j,k&&k.registerInput&&k.registerInput(j)}),Yo=p((c,d)=>{L();var h=aa(),y,x,w=class extends h{constructor(S){super(S),this.type="root",this.nodes||(this.nodes=[])}normalize(S,E,_){let T=super.normalize(S);if(E){if(_==="prepend")this.nodes.length>1?E.raws.before=this.nodes[1].raws.before:delete E.raws.before;else if(this.first!==E)for(let I of T)I.raws.before=E.raws.before}return T}removeChild(S,E){let _=this.index(S);return!E&&_===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[_].raws.before),super.removeChild(S)}toResult(S={}){return new y(new x,this,S).stringify()}};w.registerLazyResult=S=>{y=S},w.registerProcessor=S=>{x=S},d.exports=w,w.default=w,h.registerRoot(w)}),Oh=p((c,d)=>{L();var h={comma(y){return h.split(y,[","],!0)},space(y){let x=[" ",`
`,"	"];return h.split(y,x)},split(y,x,w){let S=[],E="",_=!1,T=0,I=!1,k="",P=!1;for(let M of y)P?P=!1:M==="\\"?P=!0:I?M===k&&(I=!1):M==='"'||M==="'"?(I=!0,k=M):M==="("?T+=1:M===")"?T>0&&(T-=1):T===0&&x.includes(M)&&(_=!0),_?(E!==""&&S.push(E.trim()),E="",_=!1):E+=M;return(w||E!=="")&&S.push(E.trim()),S}};d.exports=h,h.default=h}),Jo=p((c,d)=>{L();var h=aa(),y=Oh(),x=class extends h{constructor(w){super(w),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return y.comma(this.selector)}set selectors(w){let S=this.selector?this.selector.match(/,\s*/):null,E=S?S[0]:","+this.raw("between","beforeOpen");this.selector=w.join(E)}};d.exports=x,x.default=x,h.registerRule(x)}),zg=p((c,d)=>{L();var h=hd(),y=Ya(),x=hc(),w=md(),S=Mh(),E=Yo(),_=Jo();function T(I,k){if(Array.isArray(I))return I.map(O=>T(O));let{inputs:P,...M}=I;if(P){k=[];for(let O of P){let j={...O,__proto__:w.prototype};j.map&&(j.map={...j.map,__proto__:S.prototype}),k.push(j)}}if(M.nodes&&(M.nodes=I.nodes.map(O=>T(O,k))),M.source){let{inputId:O,...j}=M.source;M.source=j,O!=null&&(M.source.input=k[O])}if(M.type==="root")return new E(M);if(M.type==="decl")return new x(M);if(M.type==="rule")return new _(M);if(M.type==="comment")return new y(M);if(M.type==="atrule")return new h(M);throw new Error("Unknown node type: "+I.type)}d.exports=T,T.default=T}),Uh=p((c,d)=>{L(),d.exports=function(h,y){return{generate:()=>{let x="";return h(y,w=>{x+=w}),[x]}}}}),Vg=p((c,d)=>{L();var h=39,y=34,x=92,w=47,S=10,E=32,_=12,T=9,I=13,k=91,P=93,M=40,O=41,j=123,B=125,V=59,$=42,G=58,Y=64,q=/[\t\n\f\r "#'()/;[\\\]{}]/g,z=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,J=/.[\r\n"'(/\\]/,W=/[\da-f]/i;d.exports=function(Z,X={}){let ne=Z.css.valueOf(),Ve=X.ignoreErrors,Be,Le,_e,Ee,Xe,Je,ft,St,Qe,Ze,oe=ne.length,be=0,bt=[],Ae=[];function xe(){return be}function Te(qt){throw Z.error("Unclosed "+qt,be)}function rt(){return Ae.length===0&&be>=oe}function We(qt){if(Ae.length)return Ae.pop();if(be>=oe)return;let st=qt?qt.ignoreUnclosed:!1;switch(Be=ne.charCodeAt(be),Be){case S:case E:case T:case I:case _:{Ee=be;do Ee+=1,Be=ne.charCodeAt(Ee);while(Be===E||Be===S||Be===T||Be===I||Be===_);Je=["space",ne.slice(be,Ee)],be=Ee-1;break}case k:case P:case j:case B:case G:case V:case O:{let Ct=String.fromCharCode(Be);Je=[Ct,Ct,be];break}case M:{if(Ze=bt.length?bt.pop()[1]:"",Qe=ne.charCodeAt(be+1),Ze==="url"&&Qe!==h&&Qe!==y&&Qe!==E&&Qe!==S&&Qe!==T&&Qe!==_&&Qe!==I){Ee=be;do{if(ft=!1,Ee=ne.indexOf(")",Ee+1),Ee===-1)if(Ve||st){Ee=be;break}else Te("bracket");for(St=Ee;ne.charCodeAt(St-1)===x;)St-=1,ft=!ft}while(ft);Je=["brackets",ne.slice(be,Ee+1),be,Ee],be=Ee}else Ee=ne.indexOf(")",be+1),Le=ne.slice(be,Ee+1),Ee===-1||J.test(Le)?Je=["(","(",be]:(Je=["brackets",Le,be,Ee],be=Ee);break}case h:case y:{Xe=Be===h?"'":'"',Ee=be;do{if(ft=!1,Ee=ne.indexOf(Xe,Ee+1),Ee===-1)if(Ve||st){Ee=be+1;break}else Te("string");for(St=Ee;ne.charCodeAt(St-1)===x;)St-=1,ft=!ft}while(ft);Je=["string",ne.slice(be,Ee+1),be,Ee],be=Ee;break}case Y:{q.lastIndex=be+1,q.test(ne),q.lastIndex===0?Ee=ne.length-1:Ee=q.lastIndex-2,Je=["at-word",ne.slice(be,Ee+1),be,Ee],be=Ee;break}case x:{for(Ee=be,_e=!0;ne.charCodeAt(Ee+1)===x;)Ee+=1,_e=!_e;if(Be=ne.charCodeAt(Ee+1),_e&&Be!==w&&Be!==E&&Be!==S&&Be!==T&&Be!==I&&Be!==_&&(Ee+=1,W.test(ne.charAt(Ee)))){for(;W.test(ne.charAt(Ee+1));)Ee+=1;ne.charCodeAt(Ee+1)===E&&(Ee+=1)}Je=["word",ne.slice(be,Ee+1),be,Ee],be=Ee;break}default:{Be===w&&ne.charCodeAt(be+1)===$?(Ee=ne.indexOf("*/",be+2)+1,Ee===0&&(Ve||st?Ee=ne.length:Te("comment")),Je=["comment",ne.slice(be,Ee+1),be,Ee],be=Ee):(z.lastIndex=be+1,z.test(ne),z.lastIndex===0?Ee=ne.length-1:Ee=z.lastIndex-2,Je=["word",ne.slice(be,Ee+1),be,Ee],bt.push(Je),be=Ee);break}}return be++,Je}function Ut(qt){Ae.push(qt)}return{back:Ut,endOfFile:rt,nextToken:We,position:xe}}}),jh=p((c,d)=>{L();var h=hd(),y=Ya(),x=hc(),w=Yo(),S=Jo(),E=Vg(),_={empty:!0,space:!0};function T(k){for(let P=k.length-1;P>=0;P--){let M=k[P],O=M[3]||M[2];if(O)return O}}var I=class{constructor(k){this.input=k,this.root=new w,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:k,start:{column:1,line:1,offset:0}}}atrule(k){let P=new h;P.name=k[1].slice(1),P.name===""&&this.unnamedAtrule(P,k),this.init(P,k[2]);let M,O,j,B=!1,V=!1,$=[],G=[];for(;!this.tokenizer.endOfFile();){if(k=this.tokenizer.nextToken(),M=k[0],M==="("||M==="["?G.push(M==="("?")":"]"):M==="{"&&G.length>0?G.push("}"):M===G[G.length-1]&&G.pop(),G.length===0)if(M===";"){P.source.end=this.getPosition(k[2]),P.source.end.offset++,this.semicolon=!0;break}else if(M==="{"){V=!0;break}else if(M==="}"){if($.length>0){for(j=$.length-1,O=$[j];O&&O[0]==="space";)O=$[--j];O&&(P.source.end=this.getPosition(O[3]||O[2]),P.source.end.offset++)}this.end(k);break}else $.push(k);else $.push(k);if(this.tokenizer.endOfFile()){B=!0;break}}P.raws.between=this.spacesAndCommentsFromEnd($),$.length?(P.raws.afterName=this.spacesAndCommentsFromStart($),this.raw(P,"params",$),B&&(k=$[$.length-1],P.source.end=this.getPosition(k[3]||k[2]),P.source.end.offset++,this.spaces=P.raws.between,P.raws.between="")):(P.raws.afterName="",P.params=""),V&&(P.nodes=[],this.current=P)}checkMissedSemicolon(k){let P=this.colon(k);if(P===!1)return;let M=0,O;for(let j=P-1;j>=0&&(O=k[j],!(O[0]!=="space"&&(M+=1,M===2)));j--);throw this.input.error("Missed semicolon",O[0]==="word"?O[3]+1:O[2])}colon(k){let P=0,M,O,j;for(let[B,V]of k.entries()){if(O=V,j=O[0],j==="("&&(P+=1),j===")"&&(P-=1),P===0&&j===":")if(!M)this.doubleColon(O);else{if(M[0]==="word"&&M[1]==="progid")continue;return B}M=O}return!1}comment(k){let P=new y;this.init(P,k[2]),P.source.end=this.getPosition(k[3]||k[2]),P.source.end.offset++;let M=k[1].slice(2,-2);if(/^\s*$/.test(M))P.text="",P.raws.left=M,P.raws.right="";else{let O=M.match(/^(\s*)([^]*\S)(\s*)$/);P.text=O[2],P.raws.left=O[1],P.raws.right=O[3]}}createTokenizer(){this.tokenizer=E(this.input)}decl(k,P){let M=new x;this.init(M,k[0][2]);let O=k[k.length-1];for(O[0]===";"&&(this.semicolon=!0,k.pop()),M.source.end=this.getPosition(O[3]||O[2]||T(k)),M.source.end.offset++;k[0][0]!=="word";)k.length===1&&this.unknownWord(k),M.raws.before+=k.shift()[1];for(M.source.start=this.getPosition(k[0][2]),M.prop="";k.length;){let $=k[0][0];if($===":"||$==="space"||$==="comment")break;M.prop+=k.shift()[1]}M.raws.between="";let j;for(;k.length;)if(j=k.shift(),j[0]===":"){M.raws.between+=j[1];break}else j[0]==="word"&&/\w/.test(j[1])&&this.unknownWord([j]),M.raws.between+=j[1];(M.prop[0]==="_"||M.prop[0]==="*")&&(M.raws.before+=M.prop[0],M.prop=M.prop.slice(1));let B=[],V;for(;k.length&&(V=k[0][0],!(V!=="space"&&V!=="comment"));)B.push(k.shift());this.precheckMissedSemicolon(k);for(let $=k.length-1;$>=0;$--){if(j=k[$],j[1].toLowerCase()==="!important"){M.important=!0;let G=this.stringFrom(k,$);G=this.spacesFromEnd(k)+G,G!==" !important"&&(M.raws.important=G);break}else if(j[1].toLowerCase()==="important"){let G=k.slice(0),Y="";for(let q=$;q>0;q--){let z=G[q][0];if(Y.trim().startsWith("!")&&z!=="space")break;Y=G.pop()[1]+Y}Y.trim().startsWith("!")&&(M.important=!0,M.raws.important=Y,k=G)}if(j[0]!=="space"&&j[0]!=="comment")break}k.some($=>$[0]!=="space"&&$[0]!=="comment")&&(M.raws.between+=B.map($=>$[1]).join(""),B=[]),this.raw(M,"value",B.concat(k),P),M.value.includes(":")&&!P&&this.checkMissedSemicolon(k)}doubleColon(k){throw this.input.error("Double colon",{offset:k[2]},{offset:k[2]+k[1].length})}emptyRule(k){let P=new S;this.init(P,k[2]),P.selector="",P.raws.between="",this.current=P}end(k){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(k[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(k)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(k){if(this.spaces+=k[1],this.current.nodes){let P=this.current.nodes[this.current.nodes.length-1];P&&P.type==="rule"&&!P.raws.ownSemicolon&&(P.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(k){let P=this.input.fromOffset(k);return{column:P.col,line:P.line,offset:k}}init(k,P){this.current.push(k),k.source={input:this.input,start:this.getPosition(P)},k.raws.before=this.spaces,this.spaces="",k.type!=="comment"&&(this.semicolon=!1)}other(k){let P=!1,M=null,O=!1,j=null,B=[],V=k[1].startsWith("--"),$=[],G=k;for(;G;){if(M=G[0],$.push(G),M==="("||M==="[")j||(j=G),B.push(M==="("?")":"]");else if(V&&O&&M==="{")j||(j=G),B.push("}");else if(B.length===0)if(M===";")if(O){this.decl($,V);return}else break;else if(M==="{"){this.rule($);return}else if(M==="}"){this.tokenizer.back($.pop()),P=!0;break}else M===":"&&(O=!0);else M===B[B.length-1]&&(B.pop(),B.length===0&&(j=null));G=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(P=!0),B.length>0&&this.unclosedBracket(j),P&&O){if(!V)for(;$.length&&(G=$[$.length-1][0],!(G!=="space"&&G!=="comment"));)this.tokenizer.back($.pop());this.decl($,V)}else this.unknownWord($)}parse(){let k;for(;!this.tokenizer.endOfFile();)switch(k=this.tokenizer.nextToken(),k[0]){case"space":this.spaces+=k[1];break;case";":this.freeSemicolon(k);break;case"}":this.end(k);break;case"comment":this.comment(k);break;case"at-word":this.atrule(k);break;case"{":this.emptyRule(k);break;default:this.other(k);break}this.endFile()}precheckMissedSemicolon(){}raw(k,P,M,O){let j,B,V=M.length,$="",G=!0,Y,q;for(let z=0;z<V;z+=1)j=M[z],B=j[0],B==="space"&&z===V-1&&!O?G=!1:B==="comment"?(q=M[z-1]?M[z-1][0]:"empty",Y=M[z+1]?M[z+1][0]:"empty",!_[q]&&!_[Y]?$.slice(-1)===","?G=!1:$+=j[1]:G=!1):$+=j[1];if(!G){let z=M.reduce((J,W)=>J+W[1],"");k.raws[P]={raw:z,value:$}}k[P]=$}rule(k){k.pop();let P=new S;this.init(P,k[0][2]),P.raws.between=this.spacesAndCommentsFromEnd(k),this.raw(P,"selector",k),this.current=P}spacesAndCommentsFromEnd(k){let P,M="";for(;k.length&&(P=k[k.length-1][0],!(P!=="space"&&P!=="comment"));)M=k.pop()[1]+M;return M}spacesAndCommentsFromStart(k){let P,M="";for(;k.length&&(P=k[0][0],!(P!=="space"&&P!=="comment"));)M+=k.shift()[1];return M}spacesFromEnd(k){let P,M="";for(;k.length&&(P=k[k.length-1][0],P==="space");)M=k.pop()[1]+M;return M}stringFrom(k,P){let M="";for(let O=P;O<k.length;O++)M+=k[O][1];return k.splice(P,k.length-P),M}unclosedBlock(){let k=this.current.source.start;throw this.input.error("Unclosed block",k.line,k.column)}unclosedBracket(k){throw this.input.error("Unclosed bracket",{offset:k[2]},{offset:k[2]+1})}unexpectedClose(k){throw this.input.error("Unexpected }",{offset:k[2]},{offset:k[2]+1})}unknownWord(k){throw this.input.error("Unknown word",{offset:k[0][2]},{offset:k[0][2]+k[0][1].length})}unnamedAtrule(k,P){throw this.input.error("At-rule without name",{offset:P[2]},{offset:P[2]+P[1].length})}};d.exports=I}),gd=p((c,d)=>{L();var h=aa(),y=md(),x=jh();function w(S,E){let _=new y(S,E),T=new x(_);try{T.parse()}catch(I){throw I}return T.root}d.exports=w,w.default=w,h.registerParse(w)}),Lh=p((c,d)=>{L();var h=class{constructor(y,x={}){if(this.type="warning",this.text=y,x.node&&x.node.source){let w=x.node.rangeBy(x);this.line=w.start.line,this.column=w.start.column,this.endLine=w.end.line,this.endColumn=w.end.column}for(let w in x)this[w]=x[w]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};d.exports=h,h.default=h}),yd=p((c,d)=>{L();var h=Lh(),y=class{constructor(x,w,S){this.processor=x,this.messages=[],this.root=w,this.opts=S,this.css=void 0,this.map=void 0}toString(){return this.css}warn(x,w={}){w.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(w.plugin=this.lastPlugin.postcssPlugin);let S=new h(x,w);return this.messages.push(S),S}warnings(){return this.messages.filter(x=>x.type==="warning")}get content(){return this.css}};d.exports=y,y.default=y}),Bh=p((c,d)=>{L();var h={};d.exports=function(y){h[y]||(h[y]=!0,typeof console<"u"&&console.warn&&console.warn(y))}}),qh=p((c,d)=>{L();var h=aa(),y=pd(),x=Uh(),w=gd(),S=yd(),E=Yo(),_=dc(),{isClean:T,my:I}=fd();Bh();var k={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},P={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},M={Once:!0,postcssPlugin:!0,prepare:!0},O=0;function j(q){return typeof q=="object"&&typeof q.then=="function"}function B(q){let z=!1,J=k[q.type];return q.type==="decl"?z=q.prop.toLowerCase():q.type==="atrule"&&(z=q.name.toLowerCase()),z&&q.append?[J,J+"-"+z,O,J+"Exit",J+"Exit-"+z]:z?[J,J+"-"+z,J+"Exit",J+"Exit-"+z]:q.append?[J,O,J+"Exit"]:[J,J+"Exit"]}function V(q){let z;return q.type==="document"?z=["Document",O,"DocumentExit"]:q.type==="root"?z=["Root",O,"RootExit"]:z=B(q),{eventIndex:0,events:z,iterator:0,node:q,visitorIndex:0,visitors:[]}}function $(q){return q[T]=!1,q.nodes&&q.nodes.forEach(z=>$(z)),q}var G={},Y=class{constructor(q,z,J){this.stringified=!1,this.processed=!1;let W;if(typeof z=="object"&&z!==null&&(z.type==="root"||z.type==="document"))W=$(z);else if(z instanceof Y||z instanceof S)W=$(z.root),z.map&&(typeof J.map>"u"&&(J.map={}),J.map.inline||(J.map.inline=!1),J.map.prev=z.map);else{let Z=w;J.syntax&&(Z=J.syntax.parse),J.parser&&(Z=J.parser),Z.parse&&(Z=Z.parse);try{W=Z(z,J)}catch(X){this.processed=!0,this.error=X}W&&!W[I]&&h.rebuild(W)}this.result=new S(q,W,J),this.helpers={...G,postcss:G,result:this.result},this.plugins=this.processor.plugins.map(Z=>typeof Z=="object"&&Z.prepare?{...Z,...Z.prepare(this.result)}:Z)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(q){return this.async().catch(q)}finally(q){return this.async().then(q,q)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(q,z){let J=this.result.lastPlugin;try{z&&z.addToError(q),this.error=q,q.name==="CssSyntaxError"&&!q.plugin?(q.plugin=J.postcssPlugin,q.setMessage()):J.postcssVersion}catch(W){console&&console.error&&console.error(W)}return q}prepareVisitors(){this.listeners={};let q=(z,J,W)=>{this.listeners[J]||(this.listeners[J]=[]),this.listeners[J].push([z,W])};for(let z of this.plugins)if(typeof z=="object")for(let J in z){if(!P[J]&&/^[A-Z]/.test(J))throw new Error(`Unknown event ${J} in ${z.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!M[J])if(typeof z[J]=="object")for(let W in z[J])W==="*"?q(z,J,z[J][W]):q(z,J+"-"+W.toLowerCase(),z[J][W]);else typeof z[J]=="function"&&q(z,J,z[J])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let q=0;q<this.plugins.length;q++){let z=this.plugins[q],J=this.runOnRoot(z);if(j(J))try{await J}catch(W){throw this.handleError(W)}}if(this.prepareVisitors(),this.hasListener){let q=this.result.root;for(;!q[T];){q[T]=!0;let z=[V(q)];for(;z.length>0;){let J=this.visitTick(z);if(j(J))try{await J}catch(W){let Z=z[z.length-1].node;throw this.handleError(W,Z)}}}if(this.listeners.OnceExit)for(let[z,J]of this.listeners.OnceExit){this.result.lastPlugin=z;try{if(q.type==="document"){let W=q.nodes.map(Z=>J(Z,this.helpers));await Promise.all(W)}else await J(q,this.helpers)}catch(W){throw this.handleError(W)}}}return this.processed=!0,this.stringify()}runOnRoot(q){this.result.lastPlugin=q;try{if(typeof q=="object"&&q.Once){if(this.result.root.type==="document"){let z=this.result.root.nodes.map(J=>q.Once(J,this.helpers));return j(z[0])?Promise.all(z):z}return q.Once(this.result.root,this.helpers)}else if(typeof q=="function")return q(this.result.root,this.result)}catch(z){throw this.handleError(z)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let q=this.result.opts,z=_;q.syntax&&(z=q.syntax.stringify),q.stringifier&&(z=q.stringifier),z.stringify&&(z=z.stringify);let J=new x(z,this.result.root,this.result.opts).generate();return this.result.css=J[0],this.result.map=J[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let q of this.plugins){let z=this.runOnRoot(q);if(j(z))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let q=this.result.root;for(;!q[T];)q[T]=!0,this.walkSync(q);if(this.listeners.OnceExit)if(q.type==="document")for(let z of q.nodes)this.visitSync(this.listeners.OnceExit,z);else this.visitSync(this.listeners.OnceExit,q)}return this.result}then(q,z){return this.async().then(q,z)}toString(){return this.css}visitSync(q,z){for(let[J,W]of q){this.result.lastPlugin=J;let Z;try{Z=W(z,this.helpers)}catch(X){throw this.handleError(X,z.proxyOf)}if(z.type!=="root"&&z.type!=="document"&&!z.parent)return!0;if(j(Z))throw this.getAsyncError()}}visitTick(q){let z=q[q.length-1],{node:J,visitors:W}=z;if(J.type!=="root"&&J.type!=="document"&&!J.parent){q.pop();return}if(W.length>0&&z.visitorIndex<W.length){let[X,ne]=W[z.visitorIndex];z.visitorIndex+=1,z.visitorIndex===W.length&&(z.visitors=[],z.visitorIndex=0),this.result.lastPlugin=X;try{return ne(J.toProxy(),this.helpers)}catch(Ve){throw this.handleError(Ve,J)}}if(z.iterator!==0){let X=z.iterator,ne;for(;ne=J.nodes[J.indexes[X]];)if(J.indexes[X]+=1,!ne[T]){ne[T]=!0,q.push(V(ne));return}z.iterator=0,delete J.indexes[X]}let Z=z.events;for(;z.eventIndex<Z.length;){let X=Z[z.eventIndex];if(z.eventIndex+=1,X===O){J.nodes&&J.nodes.length&&(J[T]=!0,z.iterator=J.getIterator());return}else if(this.listeners[X]){z.visitors=this.listeners[X];return}}q.pop()}walkSync(q){q[T]=!0;let z=B(q);for(let J of z)if(J===O)q.nodes&&q.each(W=>{W[T]||this.walkSync(W)});else{let W=this.listeners[J];if(W&&this.visitSync(W,q.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Y.registerPostcss=q=>{G=q},d.exports=Y,Y.default=Y,E.registerLazyResult(Y),y.registerLazyResult(Y)}),Fg=p((c,d)=>{L();var h=Uh(),y=gd(),x=yd(),w=dc();Bh();var S=class{constructor(E,_,T){_=_.toString(),this.stringified=!1,this._processor=E,this._css=_,this._opts=T,this._map=void 0;let I,k=w;this.result=new x(this._processor,I,this._opts),this.result.css=_;let P=this;Object.defineProperty(this.result,"root",{get(){return P.root}});let M=new h(k,I,this._opts,_);if(M.isMap()){let[O,j]=M.generate();O&&(this.result.css=O),j&&(this.result.map=j)}else M.clearAnnotation(),this.result.css=M.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(E){return this.async().catch(E)}finally(E){return this.async().then(E,E)}sync(){if(this.error)throw this.error;return this.result}then(E,_){return this.async().then(E,_)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let E,_=y;try{E=_(this._css,this._opts)}catch(T){this.error=T}if(this.error)throw this.error;return this._root=E,E}get[Symbol.toStringTag](){return"NoWorkResult"}};d.exports=S,S.default=S}),Hg=p((c,d)=>{L();var h=pd(),y=qh(),x=Fg(),w=Yo(),S=class{constructor(E=[]){this.version="8.4.49",this.plugins=this.normalize(E)}normalize(E){let _=[];for(let T of E)if(T.postcss===!0?T=T():T.postcss&&(T=T.postcss),typeof T=="object"&&Array.isArray(T.plugins))_=_.concat(T.plugins);else if(typeof T=="object"&&T.postcssPlugin)_.push(T);else if(typeof T=="function")_.push(T);else if(!(typeof T=="object"&&(T.parse||T.stringify)))throw new Error(T+" is not a PostCSS plugin");return _}process(E,_={}){return!this.plugins.length&&!_.parser&&!_.stringifier&&!_.syntax?new x(this,E,_):new y(this,E,_)}use(E){return this.plugins=this.plugins.concat(this.normalize([E])),this}};d.exports=S,S.default=S,w.registerProcessor(S),h.registerProcessor(S)}),ss=p((c,d)=>{L();var h=hd(),y=Ya(),x=aa(),w=Ga(),S=hc(),E=pd(),_=zg(),T=md(),I=qh(),k=Oh(),P=fc(),M=gd(),O=Hg(),j=yd(),B=Yo(),V=Jo(),$=dc(),G=Lh();function Y(...q){return q.length===1&&Array.isArray(q[0])&&(q=q[0]),new O(q)}Y.plugin=function(q,z){let J=!1;function W(...X){console&&console.warn&&!J&&(J=!0,console.warn(q+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),F.env.LANG&&F.env.LANG.startsWith("cn")&&console.warn(q+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));let ne=z(...X);return ne.postcssPlugin=q,ne.postcssVersion=new O().version,ne}let Z;return Object.defineProperty(W,"postcss",{get(){return Z||(Z=W()),Z}}),W.process=function(X,ne,Ve){return Y([W(Ve)]).process(X,ne)},W},Y.stringify=$,Y.parse=M,Y.fromJSON=_,Y.list=k,Y.comment=q=>new y(q),Y.atRule=q=>new h(q),Y.decl=q=>new S(q),Y.rule=q=>new V(q),Y.root=q=>new B(q),Y.document=q=>new E(q),Y.CssSyntaxError=w,Y.Declaration=S,Y.Container=x,Y.Processor=O,Y.Document=E,Y.Comment=y,Y.Warning=G,Y.AtRule=h,Y.Result=j,Y.Input=T,Y.Rule=V,Y.Root=B,Y.Node=P,I.registerPostcss(Y),d.exports=Y,Y.default=Y}),En,Rn,ds=v(()=>{L(),En=U(ss()),Rn=En.default,En.default.stringify,En.default.fromJSON,En.default.plugin,En.default.parse,En.default.list,En.default.document,En.default.comment,En.default.atRule,En.default.rule,En.default.decl,En.default.root,En.default.CssSyntaxError,En.default.Declaration,En.default.Container,En.default.Processor,En.default.Document,En.default.Comment,En.default.Warning,En.default.AtRule,En.default.Result,En.default.Input,En.default.Rule,En.default.Root,En.default.Node}),$h=p((c,d)=>{L(),d.exports=function(h,y,x,w,S){for(y=y.split?y.split("."):y,w=0;w<y.length;w++)h=h?h[y[w]]:S;return h===S?x:h}}),pc=p((c,d)=>{L(),c.__esModule=!0,c.default=x;function h(w){for(var S=w.toLowerCase(),E="",_=!1,T=0;T<6&&S[T]!==void 0;T++){var I=S.charCodeAt(T),k=I>=97&&I<=102||I>=48&&I<=57;if(_=I===32,!k)break;E+=S[T]}if(E.length!==0){var P=parseInt(E,16),M=P>=55296&&P<=57343;return M||P===0||P>1114111?["",E.length+(_?1:0)]:[String.fromCodePoint(P),E.length+(_?1:0)]}}var y=/\\/;function x(w){var S=y.test(w);if(!S)return w;for(var E="",_=0;_<w.length;_++){if(w[_]==="\\"){var T=h(w.slice(_+1,_+7));if(T!==void 0){E+=T[0],_+=T[1];continue}if(w[_+1]==="\\"){E+="\\",_++;continue}w.length===_+1&&(E+=w[_]);continue}E+=w[_]}return E}d.exports=c.default}),zh=p((c,d)=>{L(),c.__esModule=!0,c.default=h;function h(y){for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];for(;w.length>0;){var E=w.shift();if(!y[E])return;y=y[E]}return y}d.exports=c.default}),Vh=p((c,d)=>{L(),c.__esModule=!0,c.default=h;function h(y){for(var x=arguments.length,w=new Array(x>1?x-1:0),S=1;S<x;S++)w[S-1]=arguments[S];for(;w.length>0;){var E=w.shift();y[E]||(y[E]={}),y=y[E]}}d.exports=c.default}),Fh=p((c,d)=>{L(),c.__esModule=!0,c.default=h;function h(y){for(var x="",w=y.indexOf("/*"),S=0;w>=0;){x=x+y.slice(S,w);var E=y.indexOf("*/",w+2);if(E<0)return x;S=E+2,w=y.indexOf("/*",S)}return x=x+y.slice(S),x}d.exports=c.default}),Ko=p(c=>{L(),c.__esModule=!0,c.unesc=c.stripComments=c.getProp=c.ensureObject=void 0;var d=w(pc());c.unesc=d.default;var h=w(zh());c.getProp=h.default;var y=w(Vh());c.ensureObject=y.default;var x=w(Fh());c.stripComments=x.default;function w(S){return S&&S.__esModule?S:{default:S}}}),Vr=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=Ko();function y(E,_){for(var T=0;T<_.length;T++){var I=_[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}function x(E,_,T){return _&&y(E.prototype,_),Object.defineProperty(E,"prototype",{writable:!1}),E}var w=function E(_,T){if(typeof _!="object"||_===null)return _;var I=new _.constructor;for(var k in _)if(_.hasOwnProperty(k)){var P=_[k],M=typeof P;k==="parent"&&M==="object"?T&&(I[k]=T):P instanceof Array?I[k]=P.map(function(O){return E(O,I)}):I[k]=E(P,I)}return I},S=(function(){function E(T){T===void 0&&(T={}),Object.assign(this,T),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var _=E.prototype;return _.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},_.replaceWith=function(){if(this.parent){for(var T in arguments)this.parent.insertBefore(this,arguments[T]);this.remove()}return this},_.next=function(){return this.parent.at(this.parent.index(this)+1)},_.prev=function(){return this.parent.at(this.parent.index(this)-1)},_.clone=function(T){T===void 0&&(T={});var I=w(this);for(var k in T)I[k]=T[k];return I},_.appendToPropertyAndEscape=function(T,I,k){this.raws||(this.raws={});var P=this[T],M=this.raws[T];this[T]=P+I,M||k!==I?this.raws[T]=(M||P)+k:delete this.raws[T]},_.setPropertyAndEscape=function(T,I,k){this.raws||(this.raws={}),this[T]=I,this.raws[T]=k},_.setPropertyWithoutEscape=function(T,I){this[T]=I,this.raws&&delete this.raws[T]},_.isAtPosition=function(T,I){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>T||this.source.end.line<T||this.source.start.line===T&&this.source.start.column>I||this.source.end.line===T&&this.source.end.column<I)},_.stringifyProperty=function(T){return this.raws&&this.raws[T]||this[T]},_.valueToString=function(){return String(this.stringifyProperty("value"))},_.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},x(E,[{key:"rawSpaceBefore",get:function(){var T=this.raws&&this.raws.spaces&&this.raws.spaces.before;return T===void 0&&(T=this.spaces&&this.spaces.before),T||""},set:function(T){(0,h.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=T}},{key:"rawSpaceAfter",get:function(){var T=this.raws&&this.raws.spaces&&this.raws.spaces.after;return T===void 0&&(T=this.spaces.after),T||""},set:function(T){(0,h.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=T}}]),E})();c.default=S,d.exports=c.default}),dr=p(c=>{L(),c.__esModule=!0,c.UNIVERSAL=c.TAG=c.STRING=c.SELECTOR=c.ROOT=c.PSEUDO=c.NESTING=c.ID=c.COMMENT=c.COMBINATOR=c.CLASS=c.ATTRIBUTE=void 0;var d="tag";c.TAG=d;var h="string";c.STRING=h;var y="selector";c.SELECTOR=y;var x="root";c.ROOT=x;var w="pseudo";c.PSEUDO=w;var S="nesting";c.NESTING=S;var E="id";c.ID=E;var _="comment";c.COMMENT=_;var T="combinator";c.COMBINATOR=T;var I="class";c.CLASS=I;var k="attribute";c.ATTRIBUTE=k;var P="universal";c.UNIVERSAL=P}),vd=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=S(Vr()),y=w(dr());function x(j){if(typeof WeakMap!="function")return null;var B=new WeakMap,V=new WeakMap;return(x=function($){return $?V:B})(j)}function w(j,B){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var V=x(B);if(V&&V.has(j))return V.get(j);var $={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in j)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(j,Y)){var q=G?Object.getOwnPropertyDescriptor(j,Y):null;q&&(q.get||q.set)?Object.defineProperty($,Y,q):$[Y]=j[Y]}return $.default=j,V&&V.set(j,$),$}function S(j){return j&&j.__esModule?j:{default:j}}function E(j,B){var V=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(V)return(V=V.call(j)).next.bind(V);if(Array.isArray(j)||(V=_(j))||B){V&&(j=V);var $=0;return function(){return $>=j.length?{done:!0}:{done:!1,value:j[$++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(j,B){if(j){if(typeof j=="string")return T(j,B);var V=Object.prototype.toString.call(j).slice(8,-1);if(V==="Object"&&j.constructor&&(V=j.constructor.name),V==="Map"||V==="Set")return Array.from(j);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return T(j,B)}}function T(j,B){(B==null||B>j.length)&&(B=j.length);for(var V=0,$=new Array(B);V<B;V++)$[V]=j[V];return $}function I(j,B){for(var V=0;V<B.length;V++){var $=B[V];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(j,$.key,$)}}function k(j,B,V){return B&&I(j.prototype,B),Object.defineProperty(j,"prototype",{writable:!1}),j}function P(j,B){j.prototype=Object.create(B.prototype),j.prototype.constructor=j,M(j,B)}function M(j,B){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,$){return V.__proto__=$,V},M(j,B)}var O=(function(j){P(B,j);function B($){var G;return G=j.call(this,$)||this,G.nodes||(G.nodes=[]),G}var V=B.prototype;return V.append=function($){return $.parent=this,this.nodes.push($),this},V.prepend=function($){return $.parent=this,this.nodes.unshift($),this},V.at=function($){return this.nodes[$]},V.index=function($){return typeof $=="number"?$:this.nodes.indexOf($)},V.removeChild=function($){$=this.index($),this.at($).parent=void 0,this.nodes.splice($,1);var G;for(var Y in this.indexes)G=this.indexes[Y],G>=$&&(this.indexes[Y]=G-1);return this},V.removeAll=function(){for(var $=E(this.nodes),G;!(G=$()).done;){var Y=G.value;Y.parent=void 0}return this.nodes=[],this},V.empty=function(){return this.removeAll()},V.insertAfter=function($,G){G.parent=this;var Y=this.index($);this.nodes.splice(Y+1,0,G),G.parent=this;var q;for(var z in this.indexes)q=this.indexes[z],Y<=q&&(this.indexes[z]=q+1);return this},V.insertBefore=function($,G){G.parent=this;var Y=this.index($);this.nodes.splice(Y,0,G),G.parent=this;var q;for(var z in this.indexes)q=this.indexes[z],q<=Y&&(this.indexes[z]=q+1);return this},V._findChildAtPosition=function($,G){var Y=void 0;return this.each(function(q){if(q.atPosition){var z=q.atPosition($,G);if(z)return Y=z,!1}else if(q.isAtPosition($,G))return Y=q,!1}),Y},V.atPosition=function($,G){if(this.isAtPosition($,G))return this._findChildAtPosition($,G)||this},V._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},Object.assign(this.source.end,this.last.source.end))},V.each=function($){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var G=this.lastEach;if(this.indexes[G]=0,!!this.length){for(var Y,q;this.indexes[G]<this.length&&(Y=this.indexes[G],q=$(this.at(Y),Y),q!==!1);)this.indexes[G]+=1;if(delete this.indexes[G],q===!1)return!1}},V.walk=function($){return this.each(function(G,Y){var q=$(G,Y);if(q!==!1&&G.length&&(q=G.walk($)),q===!1)return!1})},V.walkAttributes=function($){var G=this;return this.walk(function(Y){if(Y.type===y.ATTRIBUTE)return $.call(G,Y)})},V.walkClasses=function($){var G=this;return this.walk(function(Y){if(Y.type===y.CLASS)return $.call(G,Y)})},V.walkCombinators=function($){var G=this;return this.walk(function(Y){if(Y.type===y.COMBINATOR)return $.call(G,Y)})},V.walkComments=function($){var G=this;return this.walk(function(Y){if(Y.type===y.COMMENT)return $.call(G,Y)})},V.walkIds=function($){var G=this;return this.walk(function(Y){if(Y.type===y.ID)return $.call(G,Y)})},V.walkNesting=function($){var G=this;return this.walk(function(Y){if(Y.type===y.NESTING)return $.call(G,Y)})},V.walkPseudos=function($){var G=this;return this.walk(function(Y){if(Y.type===y.PSEUDO)return $.call(G,Y)})},V.walkTags=function($){var G=this;return this.walk(function(Y){if(Y.type===y.TAG)return $.call(G,Y)})},V.walkUniversals=function($){var G=this;return this.walk(function(Y){if(Y.type===y.UNIVERSAL)return $.call(G,Y)})},V.split=function($){var G=this,Y=[];return this.reduce(function(q,z,J){var W=$.call(G,z);return Y.push(z),W?(q.push(Y),Y=[]):J===G.length-1&&q.push(Y),q},[])},V.map=function($){return this.nodes.map($)},V.reduce=function($,G){return this.nodes.reduce($,G)},V.every=function($){return this.nodes.every($)},V.some=function($){return this.nodes.some($)},V.filter=function($){return this.nodes.filter($)},V.sort=function($){return this.nodes.sort($)},V.toString=function(){return this.map(String).join("")},k(B,[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}]),B})(h.default);c.default=O,d.exports=c.default}),Hh=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(vd()),y=dr();function x(I){return I&&I.__esModule?I:{default:I}}function w(I,k){for(var P=0;P<k.length;P++){var M=k[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(I,M.key,M)}}function S(I,k,P){return k&&w(I.prototype,k),Object.defineProperty(I,"prototype",{writable:!1}),I}function E(I,k){I.prototype=Object.create(k.prototype),I.prototype.constructor=I,_(I,k)}function _(I,k){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,M){return P.__proto__=M,P},_(I,k)}var T=(function(I){E(k,I);function k(M){var O;return O=I.call(this,M)||this,O.type=y.ROOT,O}var P=k.prototype;return P.toString=function(){var M=this.reduce(function(O,j){return O.push(String(j)),O},[]).join(",");return this.trailingComma?M+",":M},P.error=function(M,O){return this._error?this._error(M,O):new Error(M)},S(k,[{key:"errorGenerator",set:function(M){this._error=M}}]),k})(h.default);c.default=T,d.exports=c.default}),xd=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(vd()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.SELECTOR,k}return T})(h.default);c.default=E,d.exports=c.default}),mc=p((c,d)=>{L();var h={},y=h.hasOwnProperty,x=function(T,I){if(!T)return I;var k={};for(var P in I)k[P]=y.call(T,P)?T[P]:I[P];return k},w=/[ -,\.\/:-@\[-\^`\{-~]/,S=/[ -,\.\/:-@\[\]\^`\{-~]/,E=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,_=function T(I,k){k=x(k,T.options),k.quotes!="single"&&k.quotes!="double"&&(k.quotes="single");for(var P=k.quotes=="double"?'"':"'",M=k.isIdentifier,O=I.charAt(0),j="",B=0,V=I.length;B<V;){var $=I.charAt(B++),G=$.charCodeAt(),Y=void 0;if(G<32||G>126){if(G>=55296&&G<=56319&&B<V){var q=I.charCodeAt(B++);(q&64512)==56320?G=((G&1023)<<10)+(q&1023)+65536:B--}Y="\\"+G.toString(16).toUpperCase()+" "}else k.escapeEverything?w.test($)?Y="\\"+$:Y="\\"+G.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test($)?Y="\\"+G.toString(16).toUpperCase()+" ":$=="\\"||!M&&($=='"'&&P==$||$=="'"&&P==$)||M&&S.test($)?Y="\\"+$:Y=$;j+=Y}return M&&(/^-[-\d]/.test(j)?j="\\-"+j.slice(1):/\d/.test(O)&&(j="\\3"+O+" "+j.slice(1))),j=j.replace(E,function(z,J,W){return J&&J.length%2?z:(J||"")+W}),!M&&k.wrap?P+j+P:j};_.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},_.version="3.0.0",d.exports=_}),Ja=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=S(mc()),y=Ko(),x=S(Vr()),w=dr();function S(P){return P&&P.__esModule?P:{default:P}}function E(P,M){for(var O=0;O<M.length;O++){var j=M[O];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(P,j.key,j)}}function _(P,M,O){return M&&E(P.prototype,M),Object.defineProperty(P,"prototype",{writable:!1}),P}function T(P,M){P.prototype=Object.create(M.prototype),P.prototype.constructor=P,I(P,M)}function I(P,M){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(O,j){return O.__proto__=j,O},I(P,M)}var k=(function(P){T(M,P);function M(j){var B;return B=P.call(this,j)||this,B.type=w.CLASS,B._constructed=!0,B}var O=M.prototype;return O.valueToString=function(){return"."+P.prototype.valueToString.call(this)},_(M,[{key:"value",get:function(){return this._value},set:function(j){if(this._constructed){var B=(0,h.default)(j,{isIdentifier:!0});B!==j?((0,y.ensureObject)(this,"raws"),this.raws.value=B):this.raws&&delete this.raws.value}this._value=j}}]),M})(x.default);c.default=k,d.exports=c.default}),Ka=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Vr()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.COMMENT,k}return T})(h.default);c.default=E,d.exports=c.default}),Gh=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Vr()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(k){var P;return P=_.call(this,k)||this,P.type=y.ID,P}var I=T.prototype;return I.valueToString=function(){return"#"+_.prototype.valueToString.call(this)},T})(h.default);c.default=E,d.exports=c.default}),Wa=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=w(mc()),y=Ko(),x=w(Vr());function w(k){return k&&k.__esModule?k:{default:k}}function S(k,P){for(var M=0;M<P.length;M++){var O=P[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}function E(k,P,M){return P&&S(k.prototype,P),Object.defineProperty(k,"prototype",{writable:!1}),k}function _(k,P){k.prototype=Object.create(P.prototype),k.prototype.constructor=k,T(k,P)}function T(k,P){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,O){return M.__proto__=O,M},T(k,P)}var I=(function(k){_(P,k);function P(){return k.apply(this,arguments)||this}var M=P.prototype;return M.qualifiedName=function(O){return this.namespace?this.namespaceString+"|"+O:O},M.valueToString=function(){return this.qualifiedName(k.prototype.valueToString.call(this))},E(P,[{key:"namespace",get:function(){return this._namespace},set:function(O){if(O===!0||O==="*"||O==="&"){this._namespace=O,this.raws&&delete this.raws.namespace;return}var j=(0,h.default)(O,{isIdentifier:!0});this._namespace=O,j!==O?((0,y.ensureObject)(this,"raws"),this.raws.namespace=j):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(O){this.namespace=O}},{key:"namespaceString",get:function(){if(this.namespace){var O=this.stringifyProperty("namespace");return O===!0?"":O}else return""}}]),P})(x.default);c.default=I,d.exports=c.default}),bd=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Wa()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.TAG,k}return T})(h.default);c.default=E,d.exports=c.default}),wd=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Vr()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.STRING,k}return T})(h.default);c.default=E,d.exports=c.default}),gc=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(vd()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(k){var P;return P=_.call(this,k)||this,P.type=y.PSEUDO,P}var I=T.prototype;return I.toString=function(){var k=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),k,this.rawSpaceAfter].join("")},T})(h.default);c.default=E,d.exports=c.default}),Qa={};N(Qa,{deprecate:()=>Yh});function Yh(c){return c}var yc=v(()=>{L()}),Jh=p((c,d)=>{L(),d.exports=(yc(),Qa).deprecate}),Kh=p(c=>{L(),c.__esModule=!0,c.default=void 0,c.unescapeValue=B;var d=S(mc()),h=S(pc()),y=S(Wa()),x=dr(),w;function S(q){return q&&q.__esModule?q:{default:q}}function E(q,z){for(var J=0;J<z.length;J++){var W=z[J];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(q,W.key,W)}}function _(q,z,J){return z&&E(q.prototype,z),Object.defineProperty(q,"prototype",{writable:!1}),q}function T(q,z){q.prototype=Object.create(z.prototype),q.prototype.constructor=q,I(q,z)}function I(q,z){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(J,W){return J.__proto__=W,J},I(q,z)}var k=Jh(),P=/^('|")([^]*)\1$/,M=k(function(){},"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),O=k(function(){},"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),j=k(function(){},"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function B(q){var z=!1,J=null,W=q,Z=W.match(P);return Z&&(J=Z[1],W=Z[2]),W=(0,h.default)(W),W!==q&&(z=!0),{deprecatedUsage:z,unescaped:W,quoteMark:J}}function V(q){if(q.quoteMark!==void 0||q.value===void 0)return q;j();var z=B(q.value),J=z.quoteMark,W=z.unescaped;return q.raws||(q.raws={}),q.raws.value===void 0&&(q.raws.value=q.value),q.value=W,q.quoteMark=J,q}var $=(function(q){T(z,q);function z(W){var Z;return W===void 0&&(W={}),Z=q.call(this,V(W))||this,Z.type=x.ATTRIBUTE,Z.raws=Z.raws||{},Object.defineProperty(Z.raws,"unquoted",{get:k(function(){return Z.value},"attr.raws.unquoted is deprecated. Call attr.value instead."),set:k(function(){return Z.value},"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),Z._constructed=!0,Z}var J=z.prototype;return J.getQuotedValue=function(W){W===void 0&&(W={});var Z=this._determineQuoteMark(W),X=G[Z],ne=(0,d.default)(this._value,X);return ne},J._determineQuoteMark=function(W){return W.smart?this.smartQuoteMark(W):this.preferredQuoteMark(W)},J.setValue=function(W,Z){Z===void 0&&(Z={}),this._value=W,this._quoteMark=this._determineQuoteMark(Z),this._syncRawValue()},J.smartQuoteMark=function(W){var Z=this.value,X=Z.replace(/[^']/g,"").length,ne=Z.replace(/[^"]/g,"").length;if(X+ne===0){var Ve=(0,d.default)(Z,{isIdentifier:!0});if(Ve===Z)return z.NO_QUOTE;var Be=this.preferredQuoteMark(W);if(Be===z.NO_QUOTE){var Le=this.quoteMark||W.quoteMark||z.DOUBLE_QUOTE,_e=G[Le],Ee=(0,d.default)(Z,_e);if(Ee.length<Ve.length)return Le}return Be}else return ne===X?this.preferredQuoteMark(W):ne<X?z.DOUBLE_QUOTE:z.SINGLE_QUOTE},J.preferredQuoteMark=function(W){var Z=W.preferCurrentQuoteMark?this.quoteMark:W.quoteMark;return Z===void 0&&(Z=W.preferCurrentQuoteMark?W.quoteMark:this.quoteMark),Z===void 0&&(Z=z.DOUBLE_QUOTE),Z},J._syncRawValue=function(){var W=(0,d.default)(this._value,G[this.quoteMark]);W===this._value?this.raws&&delete this.raws.value:this.raws.value=W},J._handleEscapes=function(W,Z){if(this._constructed){var X=(0,d.default)(Z,{isIdentifier:!0});X!==Z?this.raws[W]=X:delete this.raws[W]}},J._spacesFor=function(W){var Z={before:"",after:""},X=this.spaces[W]||{},ne=this.raws.spaces&&this.raws.spaces[W]||{};return Object.assign(Z,X,ne)},J._stringFor=function(W,Z,X){Z===void 0&&(Z=W),X===void 0&&(X=Y);var ne=this._spacesFor(Z);return X(this.stringifyProperty(W),ne)},J.offsetOf=function(W){var Z=1,X=this._spacesFor("attribute");if(Z+=X.before.length,W==="namespace"||W==="ns")return this.namespace?Z:-1;if(W==="attributeNS"||(Z+=this.namespaceString.length,this.namespace&&(Z+=1),W==="attribute"))return Z;Z+=this.stringifyProperty("attribute").length,Z+=X.after.length;var ne=this._spacesFor("operator");Z+=ne.before.length;var Ve=this.stringifyProperty("operator");if(W==="operator")return Ve?Z:-1;Z+=Ve.length,Z+=ne.after.length;var Be=this._spacesFor("value");Z+=Be.before.length;var Le=this.stringifyProperty("value");if(W==="value")return Le?Z:-1;Z+=Le.length,Z+=Be.after.length;var _e=this._spacesFor("insensitive");return Z+=_e.before.length,W==="insensitive"&&this.insensitive?Z:-1},J.toString=function(){var W=this,Z=[this.rawSpaceBefore,"["];return Z.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||this.value==="")&&(Z.push(this._stringFor("operator")),Z.push(this._stringFor("value")),Z.push(this._stringFor("insensitiveFlag","insensitive",function(X,ne){return X.length>0&&!W.quoted&&ne.before.length===0&&!(W.spaces.value&&W.spaces.value.after)&&(ne.before=" "),Y(X,ne)}))),Z.push("]"),Z.push(this.rawSpaceAfter),Z.join("")},_(z,[{key:"quoted",get:function(){var W=this.quoteMark;return W==="'"||W==='"'},set:function(W){O()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(W){if(!this._constructed){this._quoteMark=W;return}this._quoteMark!==W&&(this._quoteMark=W,this._syncRawValue())}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(W){if(this._constructed){var Z=B(W),X=Z.deprecatedUsage,ne=Z.unescaped,Ve=Z.quoteMark;if(X&&M(),ne===this._value&&Ve===this._quoteMark)return;this._value=ne,this._quoteMark=Ve,this._syncRawValue()}else this._value=W}},{key:"insensitive",get:function(){return this._insensitive},set:function(W){W||(this._insensitive=!1,this.raws&&(this.raws.insensitiveFlag==="I"||this.raws.insensitiveFlag==="i")&&(this.raws.insensitiveFlag=void 0)),this._insensitive=W}},{key:"attribute",get:function(){return this._attribute},set:function(W){this._handleEscapes("attribute",W),this._attribute=W}}]),z})(y.default);c.default=$,$.NO_QUOTE=null,$.SINGLE_QUOTE="'",$.DOUBLE_QUOTE='"';var G=(w={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}},w[null]={isIdentifier:!0},w);function Y(q,z){return""+z.before+q+z.after}}),Wh=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Wa()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.UNIVERSAL,k.value="*",k}return T})(h.default);c.default=E,d.exports=c.default}),Qh=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Vr()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.COMBINATOR,k}return T})(h.default);c.default=E,d.exports=c.default}),Xh=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=x(Vr()),y=dr();function x(_){return _&&_.__esModule?_:{default:_}}function w(_,T){_.prototype=Object.create(T.prototype),_.prototype.constructor=_,S(_,T)}function S(_,T){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,k){return I.__proto__=k,I},S(_,T)}var E=(function(_){w(T,_);function T(I){var k;return k=_.call(this,I)||this,k.type=y.NESTING,k.value="&",k}return T})(h.default);c.default=E,d.exports=c.default}),Gg=p((c,d)=>{L(),c.__esModule=!0,c.default=h;function h(y){return y.sort(function(x,w){return x-w})}d.exports=c.default}),Ir=p(c=>{L(),c.__esModule=!0,c.word=c.tilde=c.tab=c.str=c.space=c.slash=c.singleQuote=c.semicolon=c.plus=c.pipe=c.openSquare=c.openParenthesis=c.newline=c.greaterThan=c.feed=c.equals=c.doubleQuote=c.dollar=c.cr=c.comment=c.comma=c.combinator=c.colon=c.closeSquare=c.closeParenthesis=c.caret=c.bang=c.backslash=c.at=c.asterisk=c.ampersand=void 0;var d=38;c.ampersand=d;var h=42;c.asterisk=h;var y=64;c.at=y;var x=44;c.comma=x;var w=58;c.colon=w;var S=59;c.semicolon=S;var E=40;c.openParenthesis=E;var _=41;c.closeParenthesis=_;var T=91;c.openSquare=T;var I=93;c.closeSquare=I;var k=36;c.dollar=k;var P=126;c.tilde=P;var M=94;c.caret=M;var O=43;c.plus=O;var j=61;c.equals=j;var B=124;c.pipe=B;var V=62;c.greaterThan=V;var $=32;c.space=$;var G=39;c.singleQuote=G;var Y=34;c.doubleQuote=Y;var q=47;c.slash=q;var z=33;c.bang=z;var J=92;c.backslash=J;var W=13;c.cr=W;var Z=12;c.feed=Z;var X=10;c.newline=X;var ne=9;c.tab=ne;var Ve=G;c.str=Ve;var Be=-1;c.comment=Be;var Le=-2;c.word=Le;var _e=-3;c.combinator=_e}),Wo=p(c=>{L(),c.__esModule=!0,c.FIELDS=void 0,c.default=O;var d=w(Ir()),h,y;function x(j){if(typeof WeakMap!="function")return null;var B=new WeakMap,V=new WeakMap;return(x=function($){return $?V:B})(j)}function w(j,B){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var V=x(B);if(V&&V.has(j))return V.get(j);var $={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Y in j)if(Y!=="default"&&Object.prototype.hasOwnProperty.call(j,Y)){var q=G?Object.getOwnPropertyDescriptor(j,Y):null;q&&(q.get||q.set)?Object.defineProperty($,Y,q):$[Y]=j[Y]}return $.default=j,V&&V.set(j,$),$}var S=(h={},h[d.tab]=!0,h[d.newline]=!0,h[d.cr]=!0,h[d.feed]=!0,h),E=(y={},y[d.space]=!0,y[d.tab]=!0,y[d.newline]=!0,y[d.cr]=!0,y[d.feed]=!0,y[d.ampersand]=!0,y[d.asterisk]=!0,y[d.bang]=!0,y[d.comma]=!0,y[d.colon]=!0,y[d.semicolon]=!0,y[d.openParenthesis]=!0,y[d.closeParenthesis]=!0,y[d.openSquare]=!0,y[d.closeSquare]=!0,y[d.singleQuote]=!0,y[d.doubleQuote]=!0,y[d.plus]=!0,y[d.pipe]=!0,y[d.tilde]=!0,y[d.greaterThan]=!0,y[d.equals]=!0,y[d.dollar]=!0,y[d.caret]=!0,y[d.slash]=!0,y),_={},T="0123456789abcdefABCDEF";for(I=0;I<T.length;I++)_[T.charCodeAt(I)]=!0;var I;function k(j,B){var V=B,$;do{if($=j.charCodeAt(V),E[$])return V-1;$===d.backslash?V=P(j,V)+1:V++}while(V<j.length);return V-1}function P(j,B){var V=B,$=j.charCodeAt(V+1);if(!S[$])if(_[$]){var G=0;do V++,G++,$=j.charCodeAt(V+1);while(_[$]&&G<6);G<6&&$===d.space&&V++}else V++;return V}var M={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6};c.FIELDS=M;function O(j){var B=[],V=j.css.valueOf(),$=V,G=$.length,Y=-1,q=1,z=0,J=0,W,Z,X,ne,Ve,Be,Le,_e,Ee,Xe,Je,ft,St;function Qe(Ze,oe){if(j.safe)V+=oe,Ee=V.length-1;else throw j.error("Unclosed "+Ze,q,z-Y,z)}for(;z<G;){switch(W=V.charCodeAt(z),W===d.newline&&(Y=z,q+=1),W){case d.space:case d.tab:case d.newline:case d.cr:case d.feed:Ee=z;do Ee+=1,W=V.charCodeAt(Ee),W===d.newline&&(Y=Ee,q+=1);while(W===d.space||W===d.newline||W===d.tab||W===d.cr||W===d.feed);St=d.space,ne=q,X=Ee-Y-1,J=Ee;break;case d.plus:case d.greaterThan:case d.tilde:case d.pipe:Ee=z;do Ee+=1,W=V.charCodeAt(Ee);while(W===d.plus||W===d.greaterThan||W===d.tilde||W===d.pipe);St=d.combinator,ne=q,X=z-Y,J=Ee;break;case d.asterisk:case d.ampersand:case d.bang:case d.comma:case d.equals:case d.dollar:case d.caret:case d.openSquare:case d.closeSquare:case d.colon:case d.semicolon:case d.openParenthesis:case d.closeParenthesis:Ee=z,St=W,ne=q,X=z-Y,J=Ee+1;break;case d.singleQuote:case d.doubleQuote:ft=W===d.singleQuote?"'":'"',Ee=z;do for(Ve=!1,Ee=V.indexOf(ft,Ee+1),Ee===-1&&Qe("quote",ft),Be=Ee;V.charCodeAt(Be-1)===d.backslash;)Be-=1,Ve=!Ve;while(Ve);St=d.str,ne=q,X=z-Y,J=Ee+1;break;default:W===d.slash&&V.charCodeAt(z+1)===d.asterisk?(Ee=V.indexOf("*/",z+2)+1,Ee===0&&Qe("comment","*/"),Z=V.slice(z,Ee+1),_e=Z.split(`
`),Le=_e.length-1,Le>0?(Xe=q+Le,Je=Ee-_e[Le].length):(Xe=q,Je=Y),St=d.comment,q=Xe,ne=Xe,X=Ee-Je):W===d.slash?(Ee=z,St=W,ne=q,X=z-Y,J=Ee+1):(Ee=k(V,z),St=d.word,ne=q,X=Ee-Y),J=Ee+1;break}B.push([St,q,z-Y,ne,X,z,J]),Je&&(Y=Je,Je=null),z=J}return B}}),Zh=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=J(Hh()),y=J(xd()),x=J(Ja()),w=J(Ka()),S=J(Gh()),E=J(bd()),_=J(wd()),T=J(gc()),I=z(Kh()),k=J(Wh()),P=J(Qh()),M=J(Xh()),O=J(Gg()),j=z(Wo()),B=z(Ir()),V=z(dr()),$=Ko(),G,Y;function q(Qe){if(typeof WeakMap!="function")return null;var Ze=new WeakMap,oe=new WeakMap;return(q=function(be){return be?oe:Ze})(Qe)}function z(Qe,Ze){if(Qe&&Qe.__esModule)return Qe;if(Qe===null||typeof Qe!="object"&&typeof Qe!="function")return{default:Qe};var oe=q(Ze);if(oe&&oe.has(Qe))return oe.get(Qe);var be={},bt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ae in Qe)if(Ae!=="default"&&Object.prototype.hasOwnProperty.call(Qe,Ae)){var xe=bt?Object.getOwnPropertyDescriptor(Qe,Ae):null;xe&&(xe.get||xe.set)?Object.defineProperty(be,Ae,xe):be[Ae]=Qe[Ae]}return be.default=Qe,oe&&oe.set(Qe,be),be}function J(Qe){return Qe&&Qe.__esModule?Qe:{default:Qe}}function W(Qe,Ze){for(var oe=0;oe<Ze.length;oe++){var be=Ze[oe];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(Qe,be.key,be)}}function Z(Qe,Ze,oe){return Ze&&W(Qe.prototype,Ze),Object.defineProperty(Qe,"prototype",{writable:!1}),Qe}var X=(G={},G[B.space]=!0,G[B.cr]=!0,G[B.feed]=!0,G[B.newline]=!0,G[B.tab]=!0,G),ne=Object.assign({},X,(Y={},Y[B.comment]=!0,Y));function Ve(Qe){return{line:Qe[j.FIELDS.START_LINE],column:Qe[j.FIELDS.START_COL]}}function Be(Qe){return{line:Qe[j.FIELDS.END_LINE],column:Qe[j.FIELDS.END_COL]}}function Le(Qe,Ze,oe,be){return{start:{line:Qe,column:Ze},end:{line:oe,column:be}}}function _e(Qe){return Le(Qe[j.FIELDS.START_LINE],Qe[j.FIELDS.START_COL],Qe[j.FIELDS.END_LINE],Qe[j.FIELDS.END_COL])}function Ee(Qe,Ze){if(Qe)return Le(Qe[j.FIELDS.START_LINE],Qe[j.FIELDS.START_COL],Ze[j.FIELDS.END_LINE],Ze[j.FIELDS.END_COL])}function Xe(Qe,Ze){var oe=Qe[Ze];if(typeof oe=="string")return oe.indexOf("\\")!==-1&&((0,$.ensureObject)(Qe,"raws"),Qe[Ze]=(0,$.unesc)(oe),Qe.raws[Ze]===void 0&&(Qe.raws[Ze]=oe)),Qe}function Je(Qe,Ze){for(var oe=-1,be=[];(oe=Qe.indexOf(Ze,oe+1))!==-1;)be.push(oe);return be}function ft(){var Qe=Array.prototype.concat.apply([],arguments);return Qe.filter(function(Ze,oe){return oe===Qe.indexOf(Ze)})}var St=(function(){function Qe(oe,be){be===void 0&&(be={}),this.rule=oe,this.options=Object.assign({lossy:!1,safe:!1},be),this.position=0,this.css=typeof this.rule=="string"?this.rule:this.rule.selector,this.tokens=(0,j.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var bt=Ee(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new h.default({source:bt}),this.root.errorGenerator=this._errorGenerator();var Ae=new y.default({source:{start:{line:1,column:1}},sourceIndex:0});this.root.append(Ae),this.current=Ae,this.loop()}var Ze=Qe.prototype;return Ze._errorGenerator=function(){var oe=this;return function(be,bt){return typeof oe.rule=="string"?new Error(be):oe.rule.error(be,bt)}},Ze.attribute=function(){var oe=[],be=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[j.FIELDS.TYPE]!==B.closeSquare;)oe.push(this.currToken),this.position++;if(this.currToken[j.FIELDS.TYPE]!==B.closeSquare)return this.expected("closing square bracket",this.currToken[j.FIELDS.START_POS]);var bt=oe.length,Ae={source:Le(be[1],be[2],this.currToken[3],this.currToken[4]),sourceIndex:be[j.FIELDS.START_POS]};if(bt===1&&!~[B.word].indexOf(oe[0][j.FIELDS.TYPE]))return this.expected("attribute",oe[0][j.FIELDS.START_POS]);for(var xe=0,Te="",rt="",We=null,Ut=!1;xe<bt;){var qt=oe[xe],st=this.content(qt),Ct=oe[xe+1];switch(qt[j.FIELDS.TYPE]){case B.space:if(Ut=!0,this.options.lossy)break;if(We){(0,$.ensureObject)(Ae,"spaces",We);var ar=Ae.spaces[We].after||"";Ae.spaces[We].after=ar+st;var Mn=(0,$.getProp)(Ae,"raws","spaces",We,"after")||null;Mn&&(Ae.raws.spaces[We].after=Mn+st)}else Te=Te+st,rt=rt+st;break;case B.asterisk:if(Ct[j.FIELDS.TYPE]===B.equals)Ae.operator=st,We="operator";else if((!Ae.namespace||We==="namespace"&&!Ut)&&Ct){Te&&((0,$.ensureObject)(Ae,"spaces","attribute"),Ae.spaces.attribute.before=Te,Te=""),rt&&((0,$.ensureObject)(Ae,"raws","spaces","attribute"),Ae.raws.spaces.attribute.before=Te,rt=""),Ae.namespace=(Ae.namespace||"")+st;var Wt=(0,$.getProp)(Ae,"raws","namespace")||null;Wt&&(Ae.raws.namespace+=st),We="namespace"}Ut=!1;break;case B.dollar:if(We==="value"){var lt=(0,$.getProp)(Ae,"raws","value");Ae.value+="$",lt&&(Ae.raws.value=lt+"$");break}case B.caret:Ct[j.FIELDS.TYPE]===B.equals&&(Ae.operator=st,We="operator"),Ut=!1;break;case B.combinator:if(st==="~"&&Ct[j.FIELDS.TYPE]===B.equals&&(Ae.operator=st,We="operator"),st!=="|"){Ut=!1;break}Ct[j.FIELDS.TYPE]===B.equals?(Ae.operator=st,We="operator"):!Ae.namespace&&!Ae.attribute&&(Ae.namespace=!0),Ut=!1;break;case B.word:if(Ct&&this.content(Ct)==="|"&&oe[xe+2]&&oe[xe+2][j.FIELDS.TYPE]!==B.equals&&!Ae.operator&&!Ae.namespace)Ae.namespace=st,We="namespace";else if(!Ae.attribute||We==="attribute"&&!Ut){Te&&((0,$.ensureObject)(Ae,"spaces","attribute"),Ae.spaces.attribute.before=Te,Te=""),rt&&((0,$.ensureObject)(Ae,"raws","spaces","attribute"),Ae.raws.spaces.attribute.before=rt,rt=""),Ae.attribute=(Ae.attribute||"")+st;var on=(0,$.getProp)(Ae,"raws","attribute")||null;on&&(Ae.raws.attribute+=st),We="attribute"}else if(!Ae.value&&Ae.value!==""||We==="value"&&!(Ut||Ae.quoteMark)){var Jn=(0,$.unesc)(st),et=(0,$.getProp)(Ae,"raws","value")||"",$t=Ae.value||"";Ae.value=$t+Jn,Ae.quoteMark=null,(Jn!==st||et)&&((0,$.ensureObject)(Ae,"raws"),Ae.raws.value=(et||$t)+st),We="value"}else{var Ke=st==="i"||st==="I";(Ae.value||Ae.value==="")&&(Ae.quoteMark||Ut)?(Ae.insensitive=Ke,(!Ke||st==="I")&&((0,$.ensureObject)(Ae,"raws"),Ae.raws.insensitiveFlag=st),We="insensitive",Te&&((0,$.ensureObject)(Ae,"spaces","insensitive"),Ae.spaces.insensitive.before=Te,Te=""),rt&&((0,$.ensureObject)(Ae,"raws","spaces","insensitive"),Ae.raws.spaces.insensitive.before=rt,rt="")):(Ae.value||Ae.value==="")&&(We="value",Ae.value+=st,Ae.raws.value&&(Ae.raws.value+=st))}Ut=!1;break;case B.str:if(!Ae.attribute||!Ae.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:qt[j.FIELDS.START_POS]});var Dt=(0,I.unescapeValue)(st),In=Dt.unescaped,er=Dt.quoteMark;Ae.value=In,Ae.quoteMark=er,We="value",(0,$.ensureObject)(Ae,"raws"),Ae.raws.value=st,Ut=!1;break;case B.equals:if(!Ae.attribute)return this.expected("attribute",qt[j.FIELDS.START_POS],st);if(Ae.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:qt[j.FIELDS.START_POS]});Ae.operator=Ae.operator?Ae.operator+st:st,We="operator",Ut=!1;break;case B.comment:if(We)if(Ut||Ct&&Ct[j.FIELDS.TYPE]===B.space||We==="insensitive"){var On=(0,$.getProp)(Ae,"spaces",We,"after")||"",ka=(0,$.getProp)(Ae,"raws","spaces",We,"after")||On;(0,$.ensureObject)(Ae,"raws","spaces",We),Ae.raws.spaces[We].after=ka+st}else{var Js=Ae[We]||"",Zf=(0,$.getProp)(Ae,"raws",We)||Js;(0,$.ensureObject)(Ae,"raws"),Ae.raws[We]=Zf+st}else rt=rt+st;break;default:return this.error('Unexpected "'+st+'" found.',{index:qt[j.FIELDS.START_POS]})}xe++}Xe(Ae,"attribute"),Xe(Ae,"namespace"),this.newNode(new I.default(Ae)),this.position++},Ze.parseWhitespaceEquivalentTokens=function(oe){oe<0&&(oe=this.tokens.length);var be=this.position,bt=[],Ae="",xe=void 0;do if(X[this.currToken[j.FIELDS.TYPE]])this.options.lossy||(Ae+=this.content());else if(this.currToken[j.FIELDS.TYPE]===B.comment){var Te={};Ae&&(Te.before=Ae,Ae=""),xe=new w.default({value:this.content(),source:_e(this.currToken),sourceIndex:this.currToken[j.FIELDS.START_POS],spaces:Te}),bt.push(xe)}while(++this.position<oe);if(Ae){if(xe)xe.spaces.after=Ae;else if(!this.options.lossy){var rt=this.tokens[be],We=this.tokens[this.position-1];bt.push(new _.default({value:"",source:Le(rt[j.FIELDS.START_LINE],rt[j.FIELDS.START_COL],We[j.FIELDS.END_LINE],We[j.FIELDS.END_COL]),sourceIndex:rt[j.FIELDS.START_POS],spaces:{before:Ae,after:""}}))}}return bt},Ze.convertWhitespaceNodesToSpace=function(oe,be){var bt=this;be===void 0&&(be=!1);var Ae="",xe="";oe.forEach(function(rt){var We=bt.lossySpace(rt.spaces.before,be),Ut=bt.lossySpace(rt.rawSpaceBefore,be);Ae+=We+bt.lossySpace(rt.spaces.after,be&&We.length===0),xe+=We+rt.value+bt.lossySpace(rt.rawSpaceAfter,be&&Ut.length===0)}),xe===Ae&&(xe=void 0);var Te={space:Ae,rawSpace:xe};return Te},Ze.isNamedCombinator=function(oe){return oe===void 0&&(oe=this.position),this.tokens[oe+0]&&this.tokens[oe+0][j.FIELDS.TYPE]===B.slash&&this.tokens[oe+1]&&this.tokens[oe+1][j.FIELDS.TYPE]===B.word&&this.tokens[oe+2]&&this.tokens[oe+2][j.FIELDS.TYPE]===B.slash},Ze.namedCombinator=function(){if(this.isNamedCombinator()){var oe=this.content(this.tokens[this.position+1]),be=(0,$.unesc)(oe).toLowerCase(),bt={};be!==oe&&(bt.value="/"+oe+"/");var Ae=new P.default({value:"/"+be+"/",source:Le(this.currToken[j.FIELDS.START_LINE],this.currToken[j.FIELDS.START_COL],this.tokens[this.position+2][j.FIELDS.END_LINE],this.tokens[this.position+2][j.FIELDS.END_COL]),sourceIndex:this.currToken[j.FIELDS.START_POS],raws:bt});return this.position=this.position+3,Ae}else this.unexpected()},Ze.combinator=function(){var oe=this;if(this.content()==="|")return this.namespace();var be=this.locateNextMeaningfulToken(this.position);if(be<0||this.tokens[be][j.FIELDS.TYPE]===B.comma||this.tokens[be][j.FIELDS.TYPE]===B.closeParenthesis){var bt=this.parseWhitespaceEquivalentTokens(be);if(bt.length>0){var Ae=this.current.last;if(Ae){var xe=this.convertWhitespaceNodesToSpace(bt),Te=xe.space,rt=xe.rawSpace;rt!==void 0&&(Ae.rawSpaceAfter+=rt),Ae.spaces.after+=Te}else bt.forEach(function(et){return oe.newNode(et)})}return}var We=this.currToken,Ut=void 0;be>this.position&&(Ut=this.parseWhitespaceEquivalentTokens(be));var qt;if(this.isNamedCombinator()?qt=this.namedCombinator():this.currToken[j.FIELDS.TYPE]===B.combinator?(qt=new P.default({value:this.content(),source:_e(this.currToken),sourceIndex:this.currToken[j.FIELDS.START_POS]}),this.position++):X[this.currToken[j.FIELDS.TYPE]]||Ut||this.unexpected(),qt){if(Ut){var st=this.convertWhitespaceNodesToSpace(Ut),Ct=st.space,ar=st.rawSpace;qt.spaces.before=Ct,qt.rawSpaceBefore=ar}}else{var Mn=this.convertWhitespaceNodesToSpace(Ut,!0),Wt=Mn.space,lt=Mn.rawSpace;lt||(lt=Wt);var on={},Jn={spaces:{}};Wt.endsWith(" ")&&lt.endsWith(" ")?(on.before=Wt.slice(0,Wt.length-1),Jn.spaces.before=lt.slice(0,lt.length-1)):Wt.startsWith(" ")&&lt.startsWith(" ")?(on.after=Wt.slice(1),Jn.spaces.after=lt.slice(1)):Jn.value=lt,qt=new P.default({value:" ",source:Ee(We,this.tokens[this.position-1]),sourceIndex:We[j.FIELDS.START_POS],spaces:on,raws:Jn})}return this.currToken&&this.currToken[j.FIELDS.TYPE]===B.space&&(qt.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(qt)},Ze.comma=function(){if(this.position===this.tokens.length-1){this.root.trailingComma=!0,this.position++;return}this.current._inferEndPosition();var oe=new y.default({source:{start:Ve(this.tokens[this.position+1])},sourceIndex:this.tokens[this.position+1][j.FIELDS.START_POS]});this.current.parent.append(oe),this.current=oe,this.position++},Ze.comment=function(){var oe=this.currToken;this.newNode(new w.default({value:this.content(),source:_e(oe),sourceIndex:oe[j.FIELDS.START_POS]})),this.position++},Ze.error=function(oe,be){throw this.root.error(oe,be)},Ze.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[j.FIELDS.START_POS]})},Ze.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[j.FIELDS.START_POS])},Ze.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[j.FIELDS.START_POS])},Ze.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[j.FIELDS.START_POS])},Ze.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[j.FIELDS.START_POS])},Ze.namespace=function(){var oe=this.prevToken&&this.content(this.prevToken)||!0;if(this.nextToken[j.FIELDS.TYPE]===B.word)return this.position++,this.word(oe);if(this.nextToken[j.FIELDS.TYPE]===B.asterisk)return this.position++,this.universal(oe);this.unexpectedPipe()},Ze.nesting=function(){if(this.nextToken){var oe=this.content(this.nextToken);if(oe==="|"){this.position++;return}}var be=this.currToken;this.newNode(new M.default({value:this.content(),source:_e(be),sourceIndex:be[j.FIELDS.START_POS]})),this.position++},Ze.parentheses=function(){var oe=this.current.last,be=1;if(this.position++,oe&&oe.type===V.PSEUDO){var bt=new y.default({source:{start:Ve(this.tokens[this.position])},sourceIndex:this.tokens[this.position][j.FIELDS.START_POS]}),Ae=this.current;for(oe.append(bt),this.current=bt;this.position<this.tokens.length&&be;)this.currToken[j.FIELDS.TYPE]===B.openParenthesis&&be++,this.currToken[j.FIELDS.TYPE]===B.closeParenthesis&&be--,be?this.parse():(this.current.source.end=Be(this.currToken),this.current.parent.source.end=Be(this.currToken),this.position++);this.current=Ae}else{for(var xe=this.currToken,Te="(",rt;this.position<this.tokens.length&&be;)this.currToken[j.FIELDS.TYPE]===B.openParenthesis&&be++,this.currToken[j.FIELDS.TYPE]===B.closeParenthesis&&be--,rt=this.currToken,Te+=this.parseParenthesisToken(this.currToken),this.position++;oe?oe.appendToPropertyAndEscape("value",Te,Te):this.newNode(new _.default({value:Te,source:Le(xe[j.FIELDS.START_LINE],xe[j.FIELDS.START_COL],rt[j.FIELDS.END_LINE],rt[j.FIELDS.END_COL]),sourceIndex:xe[j.FIELDS.START_POS]}))}if(be)return this.expected("closing parenthesis",this.currToken[j.FIELDS.START_POS])},Ze.pseudo=function(){for(var oe=this,be="",bt=this.currToken;this.currToken&&this.currToken[j.FIELDS.TYPE]===B.colon;)be+=this.content(),this.position++;if(!this.currToken)return this.expected(["pseudo-class","pseudo-element"],this.position-1);if(this.currToken[j.FIELDS.TYPE]===B.word)this.splitWord(!1,function(Ae,xe){be+=Ae,oe.newNode(new T.default({value:be,source:Ee(bt,oe.currToken),sourceIndex:bt[j.FIELDS.START_POS]})),xe>1&&oe.nextToken&&oe.nextToken[j.FIELDS.TYPE]===B.openParenthesis&&oe.error("Misplaced parenthesis.",{index:oe.nextToken[j.FIELDS.START_POS]})});else return this.expected(["pseudo-class","pseudo-element"],this.currToken[j.FIELDS.START_POS])},Ze.space=function(){var oe=this.content();this.position===0||this.prevToken[j.FIELDS.TYPE]===B.comma||this.prevToken[j.FIELDS.TYPE]===B.openParenthesis||this.current.nodes.every(function(be){return be.type==="comment"})?(this.spaces=this.optionalSpace(oe),this.position++):this.position===this.tokens.length-1||this.nextToken[j.FIELDS.TYPE]===B.comma||this.nextToken[j.FIELDS.TYPE]===B.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(oe),this.position++):this.combinator()},Ze.string=function(){var oe=this.currToken;this.newNode(new _.default({value:this.content(),source:_e(oe),sourceIndex:oe[j.FIELDS.START_POS]})),this.position++},Ze.universal=function(oe){var be=this.nextToken;if(be&&this.content(be)==="|")return this.position++,this.namespace();var bt=this.currToken;this.newNode(new k.default({value:this.content(),source:_e(bt),sourceIndex:bt[j.FIELDS.START_POS]}),oe),this.position++},Ze.splitWord=function(oe,be){for(var bt=this,Ae=this.nextToken,xe=this.content();Ae&&~[B.dollar,B.caret,B.equals,B.word].indexOf(Ae[j.FIELDS.TYPE]);){this.position++;var Te=this.content();if(xe+=Te,Te.lastIndexOf("\\")===Te.length-1){var rt=this.nextToken;rt&&rt[j.FIELDS.TYPE]===B.space&&(xe+=this.requiredSpace(this.content(rt)),this.position++)}Ae=this.nextToken}var We=Je(xe,".").filter(function(Ct){var ar=xe[Ct-1]==="\\",Mn=/^\d+\.\d+%$/.test(xe);return!ar&&!Mn}),Ut=Je(xe,"#").filter(function(Ct){return xe[Ct-1]!=="\\"}),qt=Je(xe,"#{");qt.length&&(Ut=Ut.filter(function(Ct){return!~qt.indexOf(Ct)}));var st=(0,O.default)(ft([0].concat(We,Ut)));st.forEach(function(Ct,ar){var Mn=st[ar+1]||xe.length,Wt=xe.slice(Ct,Mn);if(ar===0&&be)return be.call(bt,Wt,st.length);var lt,on=bt.currToken,Jn=on[j.FIELDS.START_POS]+st[ar],et=Le(on[1],on[2]+Ct,on[3],on[2]+(Mn-1));if(~We.indexOf(Ct)){var $t={value:Wt.slice(1),source:et,sourceIndex:Jn};lt=new x.default(Xe($t,"value"))}else if(~Ut.indexOf(Ct)){var Ke={value:Wt.slice(1),source:et,sourceIndex:Jn};lt=new S.default(Xe(Ke,"value"))}else{var Dt={value:Wt,source:et,sourceIndex:Jn};Xe(Dt,"value"),lt=new E.default(Dt)}bt.newNode(lt,oe),oe=null}),this.position++},Ze.word=function(oe){var be=this.nextToken;return be&&this.content(be)==="|"?(this.position++,this.namespace()):this.splitWord(oe)},Ze.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},Ze.parse=function(oe){switch(this.currToken[j.FIELDS.TYPE]){case B.space:this.space();break;case B.comment:this.comment();break;case B.openParenthesis:this.parentheses();break;case B.closeParenthesis:oe&&this.missingParenthesis();break;case B.openSquare:this.attribute();break;case B.dollar:case B.caret:case B.equals:case B.word:this.word();break;case B.colon:this.pseudo();break;case B.comma:this.comma();break;case B.asterisk:this.universal();break;case B.ampersand:this.nesting();break;case B.slash:case B.combinator:this.combinator();break;case B.str:this.string();break;case B.closeSquare:this.missingSquareBracket();case B.semicolon:this.missingBackslash();default:this.unexpected()}},Ze.expected=function(oe,be,bt){if(Array.isArray(oe)){var Ae=oe.pop();oe=oe.join(", ")+" or "+Ae}var xe=/^[aeiou]/.test(oe[0])?"an":"a";return bt?this.error("Expected "+xe+" "+oe+', found "'+bt+'" instead.',{index:be}):this.error("Expected "+xe+" "+oe+".",{index:be})},Ze.requiredSpace=function(oe){return this.options.lossy?" ":oe},Ze.optionalSpace=function(oe){return this.options.lossy?"":oe},Ze.lossySpace=function(oe,be){return this.options.lossy?be?" ":"":oe},Ze.parseParenthesisToken=function(oe){var be=this.content(oe);return oe[j.FIELDS.TYPE]===B.space?this.requiredSpace(be):be},Ze.newNode=function(oe,be){return be&&(/^ +$/.test(be)&&(this.options.lossy||(this.spaces=(this.spaces||"")+be),be=!0),oe.namespace=be,Xe(oe,"namespace")),this.spaces&&(oe.spaces.before=this.spaces,this.spaces=""),this.current.append(oe)},Ze.content=function(oe){return oe===void 0&&(oe=this.currToken),this.css.slice(oe[j.FIELDS.START_POS],oe[j.FIELDS.END_POS])},Ze.locateNextMeaningfulToken=function(oe){oe===void 0&&(oe=this.position+1);for(var be=oe;be<this.tokens.length;)if(ne[this.tokens[be][j.FIELDS.TYPE]]){be++;continue}else return be;return-1},Z(Qe,[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}]),Qe})();c.default=St,d.exports=c.default}),ep=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=y(Zh());function y(w){return w&&w.__esModule?w:{default:w}}var x=(function(){function w(E,_){this.func=E||function(){},this.funcRes=null,this.options=_}var S=w.prototype;return S._shouldUpdateSelector=function(E,_){_===void 0&&(_={});var T=Object.assign({},this.options,_);return T.updateSelector===!1?!1:typeof E!="string"},S._isLossy=function(E){E===void 0&&(E={});var _=Object.assign({},this.options,E);return _.lossless===!1},S._root=function(E,_){_===void 0&&(_={});var T=new h.default(E,this._parseOptions(_));return T.root},S._parseOptions=function(E){return{lossy:this._isLossy(E)}},S._run=function(E,_){var T=this;return _===void 0&&(_={}),new Promise(function(I,k){try{var P=T._root(E,_);Promise.resolve(T.func(P)).then(function(M){var O=void 0;return T._shouldUpdateSelector(E,_)&&(O=P.toString(),E.selector=O),{transform:M,root:P,string:O}}).then(I,k)}catch(M){k(M);return}})},S._runSync=function(E,_){_===void 0&&(_={});var T=this._root(E,_),I=this.func(T);if(I&&typeof I.then=="function")throw new Error("Selector processor returned a promise to a synchronous call.");var k=void 0;return _.updateSelector&&typeof E!="string"&&(k=T.toString(),E.selector=k),{transform:I,root:T,string:k}},S.ast=function(E,_){return this._run(E,_).then(function(T){return T.root})},S.astSync=function(E,_){return this._runSync(E,_).root},S.transform=function(E,_){return this._run(E,_).then(function(T){return T.transform})},S.transformSync=function(E,_){return this._runSync(E,_).transform},S.process=function(E,_){return this._run(E,_).then(function(T){return T.string||T.root.toString()})},S.processSync=function(E,_){var T=this._runSync(E,_);return T.string||T.root.toString()},w})();c.default=x,d.exports=c.default}),tp=p(c=>{L(),c.__esModule=!0,c.universal=c.tag=c.string=c.selector=c.root=c.pseudo=c.nesting=c.id=c.comment=c.combinator=c.className=c.attribute=void 0;var d=M(Kh()),h=M(Ja()),y=M(Qh()),x=M(Ka()),w=M(Gh()),S=M(Xh()),E=M(gc()),_=M(Hh()),T=M(xd()),I=M(wd()),k=M(bd()),P=M(Wh());function M(X){return X&&X.__esModule?X:{default:X}}var O=function(X){return new d.default(X)};c.attribute=O;var j=function(X){return new h.default(X)};c.className=j;var B=function(X){return new y.default(X)};c.combinator=B;var V=function(X){return new x.default(X)};c.comment=V;var $=function(X){return new w.default(X)};c.id=$;var G=function(X){return new S.default(X)};c.nesting=G;var Y=function(X){return new E.default(X)};c.pseudo=Y;var q=function(X){return new _.default(X)};c.root=q;var z=function(X){return new T.default(X)};c.selector=z;var J=function(X){return new I.default(X)};c.string=J;var W=function(X){return new k.default(X)};c.tag=W;var Z=function(X){return new P.default(X)};c.universal=Z}),np=p(c=>{L(),c.__esModule=!0,c.isComment=c.isCombinator=c.isClassName=c.isAttribute=void 0,c.isContainer=Y,c.isIdentifier=void 0,c.isNamespace=q,c.isNesting=void 0,c.isNode=x,c.isPseudo=void 0,c.isPseudoClass=G,c.isPseudoElement=$,c.isUniversal=c.isTag=c.isString=c.isSelector=c.isRoot=void 0;var d=dr(),h,y=(h={},h[d.ATTRIBUTE]=!0,h[d.CLASS]=!0,h[d.COMBINATOR]=!0,h[d.COMMENT]=!0,h[d.ID]=!0,h[d.NESTING]=!0,h[d.PSEUDO]=!0,h[d.ROOT]=!0,h[d.SELECTOR]=!0,h[d.STRING]=!0,h[d.TAG]=!0,h[d.UNIVERSAL]=!0,h);function x(z){return typeof z=="object"&&y[z.type]}function w(z,J){return x(J)&&J.type===z}var S=w.bind(null,d.ATTRIBUTE);c.isAttribute=S;var E=w.bind(null,d.CLASS);c.isClassName=E;var _=w.bind(null,d.COMBINATOR);c.isCombinator=_;var T=w.bind(null,d.COMMENT);c.isComment=T;var I=w.bind(null,d.ID);c.isIdentifier=I;var k=w.bind(null,d.NESTING);c.isNesting=k;var P=w.bind(null,d.PSEUDO);c.isPseudo=P;var M=w.bind(null,d.ROOT);c.isRoot=M;var O=w.bind(null,d.SELECTOR);c.isSelector=O;var j=w.bind(null,d.STRING);c.isString=j;var B=w.bind(null,d.TAG);c.isTag=B;var V=w.bind(null,d.UNIVERSAL);c.isUniversal=V;function $(z){return P(z)&&z.value&&(z.value.startsWith("::")||z.value.toLowerCase()===":before"||z.value.toLowerCase()===":after"||z.value.toLowerCase()===":first-letter"||z.value.toLowerCase()===":first-line")}function G(z){return P(z)&&!$(z)}function Y(z){return!!(x(z)&&z.walk)}function q(z){return S(z)||B(z)}}),_d=p(c=>{L(),c.__esModule=!0;var d=dr();Object.keys(d).forEach(function(x){x==="default"||x==="__esModule"||x in c&&c[x]===d[x]||(c[x]=d[x])});var h=tp();Object.keys(h).forEach(function(x){x==="default"||x==="__esModule"||x in c&&c[x]===h[x]||(c[x]=h[x])});var y=np();Object.keys(y).forEach(function(x){x==="default"||x==="__esModule"||x in c&&c[x]===y[x]||(c[x]=y[x])})}),ii=p((c,d)=>{L(),c.__esModule=!0,c.default=void 0;var h=S(ep()),y=w(_d());function x(T){if(typeof WeakMap!="function")return null;var I=new WeakMap,k=new WeakMap;return(x=function(P){return P?k:I})(T)}function w(T,I){if(T&&T.__esModule)return T;if(T===null||typeof T!="object"&&typeof T!="function")return{default:T};var k=x(I);if(k&&k.has(T))return k.get(T);var P={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in T)if(O!=="default"&&Object.prototype.hasOwnProperty.call(T,O)){var j=M?Object.getOwnPropertyDescriptor(T,O):null;j&&(j.get||j.set)?Object.defineProperty(P,O,j):P[O]=T[O]}return P.default=T,k&&k.set(T,P),P}function S(T){return T&&T.__esModule?T:{default:T}}var E=function(T){return new h.default(T)};Object.assign(E,y),delete E.__esModule;var _=E;c.default=_,d.exports=c.default});function ai(c){return["fontSize","outline"].includes(c)?d=>(typeof d=="function"&&(d=d({})),Array.isArray(d)&&(d=d[0]),d):c==="fontFamily"?d=>{typeof d=="function"&&(d=d({}));let h=Array.isArray(d)&&Zt(d[1])?d[0]:d;return Array.isArray(h)?h.join(", "):h}:["boxShadow","transitionProperty","transitionDuration","transitionDelay","transitionTimingFunction","backgroundImage","backgroundSize","backgroundColor","cursor","animation"].includes(c)?d=>(typeof d=="function"&&(d=d({})),Array.isArray(d)&&(d=d.join(", ")),d):["gridTemplateColumns","gridTemplateRows","objectPosition"].includes(c)?d=>(typeof d=="function"&&(d=d({})),typeof d=="string"&&(d=Rn.list.comma(d).join(" ")),d):(d,h={})=>(typeof d=="function"&&(d=d(h)),d)}var Xa=v(()=>{L(),ds(),jn()}),Qo=p((c,d)=>{L();var{AtRule:h,Rule:y}=ss(),x=ii();function w(G,Y){let q;try{x(z=>{q=z}).processSync(G)}catch(z){throw G.includes(":")?Y?Y.error("Missed semicolon"):z:Y?Y.error(z.message):z}return q.at(0)}function S(G,Y){let q=!1;return G.each(z=>{if(z.type==="nesting"){let J=Y.clone({});z.value!=="&"?z.replaceWith(w(z.value.replace("&",J.toString()))):z.replaceWith(J),q=!0}else"nodes"in z&&z.nodes&&S(z,Y)&&(q=!0)}),q}function E(G,Y){let q=[];return G.selectors.forEach(z=>{let J=w(z,G);Y.selectors.forEach(W=>{if(!W)return;let Z=w(W,Y);S(Z,J)||(Z.prepend(x.combinator({value:" "})),Z.prepend(J.clone({}))),q.push(Z.toString())})}),q}function _(G,Y){let q=G.prev();for(Y.after(G);q&&q.type==="comment";){let z=q.prev();Y.after(q),q=z}return G}function T(G){return function Y(q,z,J,W=J){let Z=[];if(z.each(X=>{X.type==="rule"&&J?W&&(X.selectors=E(q,X)):X.type==="atrule"&&X.nodes?G[X.name]?Y(q,X,W):z[j]!==!1&&Z.push(X):Z.push(X)}),J&&Z.length){let X=q.clone({nodes:[]});for(let ne of Z)X.append(ne);z.prepend(X)}}}function I(G,Y,q){let z=new y({nodes:[],selector:G});return z.append(Y),q.after(z),z}function k(G,Y){let q={};for(let z of G)q[z]=!0;if(Y)for(let z of Y)q[z.replace(/^@/,"")]=!0;return q}function P(G){G=G.trim();let Y=G.match(/^\((.*)\)$/);if(!Y)return{selector:G,type:"basic"};let q=Y[1].match(/^(with(?:out)?):(.+)$/);if(q){let z=q[1]==="with",J=Object.fromEntries(q[2].trim().split(/\s+/).map(Z=>[Z,!0]));if(z&&J.all)return{type:"noop"};let W=Z=>!!J[Z];return J.all?W=()=>!0:z&&(W=Z=>Z==="all"?!1:!J[Z]),{escapes:W,type:"withrules"}}return{type:"unknown"}}function M(G){let Y=[],q=G.parent;for(;q&&q instanceof h;)Y.push(q),q=q.parent;return Y}function O(G){let Y=G[B];if(!Y)G.after(G.nodes);else{let q=G.nodes,z,J=-1,W,Z,X,ne=M(G);if(ne.forEach((Ve,Be)=>{if(Y(Ve.name))z=Ve,J=Be,Z=X;else{let Le=X;X=Ve.clone({nodes:[]}),Le&&X.append(Le),W=W||X}}),z?Z?(W.append(q),z.after(Z)):z.after(q):G.after(q),G.next()&&z){let Ve;ne.slice(0,J+1).forEach((Be,Le,_e)=>{let Ee=Ve;Ve=Be.clone({nodes:[]}),Ee&&Ve.append(Ee);let Xe=[],Je=(_e[Le-1]||G).next();for(;Je;)Xe.push(Je),Je=Je.next();Ve.append(Xe)}),Ve&&(Z||q[q.length-1]).after(Ve)}}G.remove()}var j=Symbol("rootRuleMergeSel"),B=Symbol("rootRuleEscapes");function V(G){let{params:Y}=G,{escapes:q,selector:z,type:J}=P(Y);if(J==="unknown")throw G.error(`Unknown @${G.name} parameter ${JSON.stringify(Y)}`);if(J==="basic"&&z){let W=new y({nodes:G.nodes,selector:z});G.removeAll(),G.append(W)}G[B]=q,G[j]=q?!q("all"):J==="noop"}var $=Symbol("hasRootRule");d.exports=(G={})=>{let Y=k(["media","supports","layer","container","starting-style"],G.bubble),q=T(Y),z=k(["document","font-face","keyframes","-webkit-keyframes","-moz-keyframes"],G.unwrap),J=(G.rootRuleName||"at-root").replace(/^@/,""),W=G.preserveEmpty;return{Once(Z){Z.walkAtRules(J,X=>{V(X),Z[$]=!0})},postcssPlugin:"postcss-nested",RootExit(Z){Z[$]&&(Z.walkAtRules(J,O),Z[$]=!1)},Rule(Z){let X=!1,ne=Z,Ve=!1,Be=[];Z.each(Le=>{Le.type==="rule"?(Be.length&&(ne=I(Z.selector,Be,ne),Be=[]),Ve=!0,X=!0,Le.selectors=E(Z,Le),ne=_(Le,ne)):Le.type==="atrule"?(Be.length&&(ne=I(Z.selector,Be,ne),Be=[]),Le.name===J?(X=!0,q(Z,Le,!0,Le[j]),ne=_(Le,ne)):Y[Le.name]?(Ve=!0,X=!0,q(Z,Le,!0),ne=_(Le,ne)):z[Le.name]?(Ve=!0,X=!0,q(Z,Le,!1),ne=_(Le,ne)):Ve&&Be.push(Le)):Le.type==="decl"&&Ve&&Be.push(Le)}),Be.length&&(ne=I(Z.selector,Be,ne)),X&&W!==!0&&(Z.raws.semicolon=!0,Z.nodes.length===0&&Z.remove())}}},d.exports.postcss=!0}),Sd=p((c,d)=>{L();var h=/-(\w|$)/g,y=(w,S)=>S.toUpperCase(),x=w=>(w=w.toLowerCase(),w==="float"?"cssFloat":w.startsWith("-ms-")?w.substr(1).replace(h,y):w.replace(h,y));d.exports=x}),Ed=p((c,d)=>{L();var h=Sd(),y={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};function x(S){return typeof S.nodes>"u"?!0:w(S)}function w(S){let E,_={};return S.each(T=>{if(T.type==="atrule")E="@"+T.name,T.params&&(E+=" "+T.params),typeof _[E]>"u"?_[E]=x(T):Array.isArray(_[E])?_[E].push(x(T)):_[E]=[_[E],x(T)];else if(T.type==="rule"){let I=w(T);if(_[T.selector])for(let k in I)_[T.selector][k]=I[k];else _[T.selector]=I}else if(T.type==="decl"){T.prop[0]==="-"&&T.prop[1]==="-"||T.parent&&T.parent.selector===":export"?E=T.prop:E=h(T.prop);let I=T.value;!isNaN(T.value)&&y[E]&&(I=parseFloat(T.value)),T.important&&(I+=" !important"),typeof _[E]>"u"?_[E]=I:Array.isArray(_[E])?_[E].push(I):_[E]=[_[E],I]}}),_}d.exports=w}),oi=p((c,d)=>{L();var h=ss(),y=/\s*!important\s*$/i,x={"box-flex":!0,"box-flex-group":!0,"column-count":!0,flex:!0,"flex-grow":!0,"flex-positive":!0,"flex-shrink":!0,"flex-negative":!0,"font-weight":!0,"line-clamp":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"tab-size":!0,widows:!0,"z-index":!0,zoom:!0,"fill-opacity":!0,"stroke-dashoffset":!0,"stroke-opacity":!0,"stroke-width":!0};function w(T){return T.replace(/([A-Z])/g,"-$1").replace(/^ms-/,"-ms-").toLowerCase()}function S(T,I,k){k===!1||k===null||(I.startsWith("--")||(I=w(I)),typeof k=="number"&&(k===0||x[I]?k=k.toString():k+="px"),I==="css-float"&&(I="float"),y.test(k)?(k=k.replace(y,""),T.push(h.decl({prop:I,value:k,important:!0}))):T.push(h.decl({prop:I,value:k})))}function E(T,I,k){let P=h.atRule({name:I[1],params:I[3]||""});typeof k=="object"&&(P.nodes=[],_(k,P)),T.push(P)}function _(T,I){let k,P,M;for(k in T)if(P=T[k],!(P===null||typeof P>"u"))if(k[0]==="@"){let O=k.match(/@(\S+)(\s+([\W\w]*)\s*)?/);if(Array.isArray(P))for(let j of P)E(I,O,j);else E(I,O,P)}else if(Array.isArray(P))for(let O of P)S(I,k,O);else typeof P=="object"?(M=h.rule({selector:k}),_(P,M),I.push(M)):S(I,k,P)}d.exports=function(T){let I=h.root();return _(T,I),I}}),oa=p((c,d)=>{L();var h=Ed();d.exports=function(y){return console&&console.warn&&y.warnings().forEach(x=>{let w=x.plugin||"PostCSS";console.warn(w+": "+x.text)}),h(y.root)}}),Cd=p((c,d)=>{L();var h=ss(),y=oa(),x=oi();d.exports=function(w){let S=h(w);return async E=>{let _=await S.process(E,{parser:x,from:void 0});return y(_)}}}),rp=p((c,d)=>{L();var h=ss(),y=oa(),x=oi();d.exports=function(w){let S=h(w);return E=>{let _=S.process(E,{parser:x,from:void 0});return y(_)}}}),la=p((c,d)=>{L();var h=Ed(),y=oi(),x=Cd(),w=rp();d.exports={objectify:h,parse:y,async:x,sync:w}}),ca,Td,sp=v(()=>{L(),ca=U(la()),Td=ca.default,ca.default.objectify,ca.default.parse,ca.default.async,ca.default.sync});function Ad(c){return Array.isArray(c)?c.flatMap(d=>Rn([(0,ip.default)({bubble:["screen"]})]).process(d,{parser:Td}).root.nodes):Ad([c])}var ip,ap=v(()=>{L(),ds(),ip=U(Qo()),sp()});function vc(c,d,h=!1){if(c==="")return d;let y=typeof d=="string"?(0,Nd.default)().astSync(d):d;return y.walkClasses(x=>{let w=x.value,S=h&&w.startsWith("-");x.value=S?`-${c}${w.slice(1)}`:`${c}${w}`}),typeof d=="string"?y.toString():y}var Nd,Xo=v(()=>{L(),Nd=U(ii())});function rr(c){var h;let d=Zo.default.className();return d.value=c,ns(((h=d==null?void 0:d.raws)==null?void 0:h.value)??d.value)}var Zo,fr=v(()=>{L(),Zo=U(ii()),mr()});function ua(c){return ns(`.${rr(c)}`)}function xc(c,d){return ua(da(c,d))}function da(c,d){return d==="DEFAULT"?c:d==="-"||d==="-DEFAULT"?`-${c}`:d.startsWith("-")?`-${c}${d}`:d.startsWith("/")?`${c}${d}`:`${c}-${d}`}var el=v(()=>{L(),fr(),mr()});function ut(c,d=[[c,[c]]],{filterDefault:h=!1,...y}={}){let x=ai(c);return function({matchUtilities:w,theme:S}){for(let E of d){let _=Array.isArray(E[0])?E:[E];w(_.reduce((T,[I,k])=>Object.assign(T,{[I]:P=>k.reduce((M,O)=>Array.isArray(O)?Object.assign(M,{[O[0]]:O[1]}):Object.assign(M,{[O]:x(P)}),{})}),{}),{...y,values:h?Object.fromEntries(Object.entries(S(c)??{}).filter(([T])=>T!=="DEFAULT")):S(c)})}}}var fa=v(()=>{L(),Xa()});function tl(c){return c=Array.isArray(c)?c:[c],c.map(d=>{let h=d.values.map(y=>y.raw!==void 0?y.raw:[y.min&&`(min-width: ${y.min})`,y.max&&`(max-width: ${y.max})`].filter(Boolean).join(" and "));return d.not?`not all and ${h}`:h}).join(", ")}var Za=v(()=>{L()});function eo(c){return c.split(Ni).map(d=>{let h=d.trim(),y={value:h},x=h.split(wc),w=new Set;for(let S of x)!w.has("DIRECTIONS")&&op.has(S)?(y.direction=S,w.add("DIRECTIONS")):!w.has("PLAY_STATES")&&Rr.has(S)?(y.playState=S,w.add("PLAY_STATES")):!w.has("FILL_MODES")&&bc.has(S)?(y.fillMode=S,w.add("FILL_MODES")):!w.has("ITERATION_COUNTS")&&(Ms.has(S)||Sc.test(S))?(y.iterationCount=S,w.add("ITERATION_COUNTS")):!w.has("TIMING_FUNCTION")&&kd.has(S)||!w.has("TIMING_FUNCTION")&&nl.some(E=>S.startsWith(`${E}(`))?(y.timingFunction=S,w.add("TIMING_FUNCTION")):!w.has("DURATION")&&_c.test(S)?(y.duration=S,w.add("DURATION")):!w.has("DELAY")&&_c.test(S)?(y.delay=S,w.add("DELAY")):w.has("NAME")?(y.unknown||(y.unknown=[]),y.unknown.push(S)):(y.name=S,w.add("NAME"));return y})}var op,Rr,bc,Ms,kd,nl,Ni,wc,_c,Sc,lp=v(()=>{L(),op=new Set(["normal","reverse","alternate","alternate-reverse"]),Rr=new Set(["running","paused"]),bc=new Set(["none","forwards","backwards","both"]),Ms=new Set(["infinite"]),kd=new Set(["linear","ease","ease-in","ease-out","ease-in-out","step-start","step-end"]),nl=["cubic-bezier","steps"],Ni=/\,(?![^(]*\))/g,wc=/\ +(?![^(]*\))/g,_c=/^(-?[\d.]+m?s)$/,Sc=/^(\d+)$/}),Dr,Ln,to=v(()=>{L(),Dr=c=>Object.assign({},...Object.entries(c??{}).flatMap(([d,h])=>typeof h=="object"?Object.entries(Dr(h)).map(([y,x])=>({[d+(y==="DEFAULT"?"":`-${y}`)]:x})):[{[`${d}`]:h}])),Ln=Dr}),rl,sl=v(()=>{rl="3.4.17"});function hr(c,d=!0){return Array.isArray(c)?c.map(h=>{if(d&&Array.isArray(h))throw new Error("The tuple syntax is not supported for `screens`.");if(typeof h=="string")return{name:h.toString(),not:!1,values:[{min:h,max:void 0}]};let[y,x]=h;return y=y.toString(),typeof x=="string"?{name:y,not:!1,values:[{min:x,max:void 0}]}:Array.isArray(x)?{name:y,not:!1,values:x.map(w=>fs(w))}:{name:y,not:!1,values:[fs(x)]}}):hr(Object.entries(c??{}),!1)}function Pr(c){return c.values.length!==1?{result:!1,reason:"multiple-values"}:c.values[0].raw!==void 0?{result:!1,reason:"raw-values"}:c.values[0].min!==void 0&&c.values[0].max!==void 0?{result:!1,reason:"min-and-max"}:{result:!0,reason:null}}function ki(c,d,h){let y=is(d,c),x=is(h,c),w=Pr(y),S=Pr(x);if(w.reason==="multiple-values"||S.reason==="multiple-values")throw new Error("Attempted to sort a screen with multiple values. This should never happen. Please open a bug report.");if(w.reason==="raw-values"||S.reason==="raw-values")throw new Error("Attempted to sort a screen with raw values. This should never happen. Please open a bug report.");if(w.reason==="min-and-max"||S.reason==="min-and-max")throw new Error("Attempted to sort a screen with both min and max values. This should never happen. Please open a bug report.");let{min:E,max:_}=y.values[0],{min:T,max:I}=x.values[0];d.not&&([E,_]=[_,E]),h.not&&([T,I]=[I,T]),E=E===void 0?E:parseFloat(E),_=_===void 0?_:parseFloat(_),T=T===void 0?T:parseFloat(T),I=I===void 0?I:parseFloat(I);let[k,P]=c==="min"?[E,T]:[I,_];return k-P}function is(c,d){return typeof c=="object"?c:{name:"arbitrary-screen",values:[{[d]:c}]}}function fs({"min-width":c,min:d=c,max:h,raw:y}={}){return{min:d,max:h,raw:y}}var hs=v(()=>{L()});function Ec(c,d){c.walkDecls(h=>{if(d.includes(h.prop)){h.remove();return}for(let y of d)h.value.includes(`/ var(${y})`)?h.value=h.value.replace(`/ var(${y})`,""):h.value.includes(`/ var(${y}, 1)`)&&(h.value=h.value.replace(`/ var(${y}, 1)`,""))})}var Id=v(()=>{L()}),vn,Fr,bn,Mt,Jt,Ii=v(()=>{L(),ce(),Ps(),ds(),fa(),Za(),fr(),lp(),to(),Zl(),ad(),jn(),Xa(),sl(),je(),hs(),Eh(),Id(),Vt(),ks(),uo(),vn={childVariant:({addVariant:c})=>{c("*","& > *")},pseudoElementVariants:({addVariant:c})=>{c("first-letter","&::first-letter"),c("first-line","&::first-line"),c("marker",[({container:d})=>(Ec(d,["--tw-text-opacity"]),"& *::marker"),({container:d})=>(Ec(d,["--tw-text-opacity"]),"&::marker")]),c("selection",["& *::selection","&::selection"]),c("file","&::file-selector-button"),c("placeholder","&::placeholder"),c("backdrop","&::backdrop"),c("before",({container:d})=>(d.walkRules(h=>{let y=!1;h.walkDecls("content",()=>{y=!0}),y||h.prepend(Rn.decl({prop:"content",value:"var(--tw-content)"}))}),"&::before")),c("after",({container:d})=>(d.walkRules(h=>{let y=!1;h.walkDecls("content",()=>{y=!0}),y||h.prepend(Rn.decl({prop:"content",value:"var(--tw-content)"}))}),"&::after"))},pseudoClassVariants:({addVariant:c,matchVariant:d,config:h,prefix:y})=>{let x=[["first","&:first-child"],["last","&:last-child"],["only","&:only-child"],["odd","&:nth-child(odd)"],["even","&:nth-child(even)"],"first-of-type","last-of-type","only-of-type",["visited",({container:S})=>(Ec(S,["--tw-text-opacity","--tw-border-opacity","--tw-bg-opacity"]),"&:visited")],"target",["open","&[open]"],"default","checked","indeterminate","placeholder-shown","autofill","optional","required","valid","invalid","in-range","out-of-range","read-only","empty","focus-within",["hover",Pe(h(),"hoverOnlyWhenSupported")?"@media (hover: hover) and (pointer: fine) { &:hover }":"&:hover"],"focus","focus-visible","active","enabled","disabled"].map(S=>Array.isArray(S)?S:[S,`&:${S}`]);for(let[S,E]of x)c(S,_=>typeof E=="function"?E(_):E);let w={group:(S,{modifier:E})=>E?[`:merge(${y(".group")}\\/${rr(E)})`," &"]:[`:merge(${y(".group")})`," &"],peer:(S,{modifier:E})=>E?[`:merge(${y(".peer")}\\/${rr(E)})`," ~ &"]:[`:merge(${y(".peer")})`," ~ &"]};for(let[S,E]of Object.entries(w))d(S,(_="",T)=>{let I=cn(typeof _=="function"?_(T):_);I.includes("&")||(I="&"+I);let[k,P]=E("",T),M=null,O=null,j=0;for(let B=0;B<I.length;++B){let V=I[B];V==="&"?M=B:V==="'"||V==='"'?j+=1:M!==null&&V===" "&&!j&&(O=B)}return M!==null&&O===null&&(O=I.length),I.slice(0,M)+k+I.slice(M+1,O)+P+I.slice(O)},{values:Object.fromEntries(x),[fi]:{respectPrefix:!1}})},directionVariants:({addVariant:c})=>{c("ltr",'&:where([dir="ltr"], [dir="ltr"] *)'),c("rtl",'&:where([dir="rtl"], [dir="rtl"] *)')},reducedMotionVariants:({addVariant:c})=>{c("motion-safe","@media (prefers-reduced-motion: no-preference)"),c("motion-reduce","@media (prefers-reduced-motion: reduce)")},darkVariants:({config:c,addVariant:d})=>{let[h,y=".dark"]=[].concat(c("darkMode","media"));if(h===!1&&(h="media",Ue.warn("darkmode-false",["The `darkMode` option in your Tailwind CSS configuration is set to `false`, which now behaves the same as `media`.","Change `darkMode` to `media` or remove it entirely.","https://tailwindcss.com/docs/upgrade-guide#remove-dark-mode-configuration"])),h==="variant"){let x;if(Array.isArray(y)||typeof y=="function"?x=y:typeof y=="string"&&(x=[y]),Array.isArray(x))for(let w of x)w===".dark"?(h=!1,Ue.warn("darkmode-variant-without-selector",["When using `variant` for `darkMode`, you must provide a selector.",'Example: `darkMode: ["variant", ".your-selector &"]`'])):w.includes("&")||(h=!1,Ue.warn("darkmode-variant-without-ampersand",["When using `variant` for `darkMode`, your selector must contain `&`.",'Example `darkMode: ["variant", ".your-selector &"]`']));y=x}h==="selector"?d("dark",`&:where(${y}, ${y} *)`):h==="media"?d("dark","@media (prefers-color-scheme: dark)"):h==="variant"?d("dark",y):h==="class"&&d("dark",`&:is(${y} *)`)},printVariant:({addVariant:c})=>{c("print","@media print")},screenVariants:({theme:c,addVariant:d,matchVariant:h})=>{let y=c("screens")??{},x=Object.values(y).every(V=>typeof V=="string"),w=hr(c("screens")),S=new Set([]);function E(V){var $;return(($=V.match(/(\D+)$/))==null?void 0:$[1])??"(none)"}function _(V){V!==void 0&&S.add(E(V))}function T(V){return _(V),S.size===1}for(let V of w)for(let $ of V.values)_($.min),_($.max);let I=S.size<=1;function k(V){return Object.fromEntries(w.filter($=>Pr($).result).map($=>{let{min:G,max:Y}=$.values[0];if(Y!==void 0)return $;if(G!==void 0)return{...$,not:!$.not}}).map($=>[$.name,$]))}function P(V){return($,G)=>ki(V,$.value,G.value)}let M=P("max"),O=P("min");function j(V){return $=>{if(x)if(I){if(typeof $=="string"&&!T($))return Ue.warn("minmax-have-mixed-units",["The `min-*` and `max-*` variants are not supported with a `screens` configuration containing mixed units."]),[]}else return Ue.warn("mixed-screen-units",["The `min-*` and `max-*` variants are not supported with a `screens` configuration containing mixed units."]),[];else return Ue.warn("complex-screen-config",["The `min-*` and `max-*` variants are not supported with a `screens` configuration containing objects."]),[];return[`@media ${tl(is($,V))}`]}}h("max",j("max"),{sort:M,values:x?k():{}});let B="min-screens";for(let V of w)d(V.name,`@media ${tl(V)}`,{id:B,sort:x&&I?O:void 0,value:V});h("min",j("min"),{id:B,sort:O})},supportsVariants:({matchVariant:c,theme:d})=>{c("supports",(h="")=>{let y=cn(h),x=/^\w*\s*\(/.test(y);return y=x?y.replace(/\b(and|or|not)\b/g," $1 "):y,x?`@supports ${y}`:(y.includes(":")||(y=`${y}: var(--tw)`),y.startsWith("(")&&y.endsWith(")")||(y=`(${y})`),`@supports ${y}`)},{values:d("supports")??{}})},hasVariants:({matchVariant:c,prefix:d})=>{c("has",h=>`&:has(${cn(h)})`,{values:{},[fi]:{respectPrefix:!1}}),c("group-has",(h,{modifier:y})=>y?`:merge(${d(".group")}\\/${y}):has(${cn(h)}) &`:`:merge(${d(".group")}):has(${cn(h)}) &`,{values:{},[fi]:{respectPrefix:!1}}),c("peer-has",(h,{modifier:y})=>y?`:merge(${d(".peer")}\\/${y}):has(${cn(h)}) ~ &`:`:merge(${d(".peer")}):has(${cn(h)}) ~ &`,{values:{},[fi]:{respectPrefix:!1}})},ariaVariants:({matchVariant:c,theme:d})=>{c("aria",h=>`&[aria-${Tr(cn(h))}]`,{values:d("aria")??{}}),c("group-aria",(h,{modifier:y})=>y?`:merge(.group\\/${y})[aria-${Tr(cn(h))}] &`:`:merge(.group)[aria-${Tr(cn(h))}] &`,{values:d("aria")??{}}),c("peer-aria",(h,{modifier:y})=>y?`:merge(.peer\\/${y})[aria-${Tr(cn(h))}] ~ &`:`:merge(.peer)[aria-${Tr(cn(h))}] ~ &`,{values:d("aria")??{}})},dataVariants:({matchVariant:c,theme:d})=>{c("data",h=>`&[data-${Tr(cn(h))}]`,{values:d("data")??{}}),c("group-data",(h,{modifier:y})=>y?`:merge(.group\\/${y})[data-${Tr(cn(h))}] &`:`:merge(.group)[data-${Tr(cn(h))}] &`,{values:d("data")??{}}),c("peer-data",(h,{modifier:y})=>y?`:merge(.peer\\/${y})[data-${Tr(cn(h))}] ~ &`:`:merge(.peer)[data-${Tr(cn(h))}] ~ &`,{values:d("data")??{}})},orientationVariants:({addVariant:c})=>{c("portrait","@media (orientation: portrait)"),c("landscape","@media (orientation: landscape)")},prefersContrastVariants:({addVariant:c})=>{c("contrast-more","@media (prefers-contrast: more)"),c("contrast-less","@media (prefers-contrast: less)")},forcedColorsVariants:({addVariant:c})=>{c("forced-colors","@media (forced-colors: active)")}},Fr=["translate(var(--tw-translate-x), var(--tw-translate-y))","rotate(var(--tw-rotate))","skewX(var(--tw-skew-x))","skewY(var(--tw-skew-y))","scaleX(var(--tw-scale-x))","scaleY(var(--tw-scale-y))"].join(" "),bn=["var(--tw-blur)","var(--tw-brightness)","var(--tw-contrast)","var(--tw-grayscale)","var(--tw-hue-rotate)","var(--tw-invert)","var(--tw-saturate)","var(--tw-sepia)","var(--tw-drop-shadow)"].join(" "),Mt=["var(--tw-backdrop-blur)","var(--tw-backdrop-brightness)","var(--tw-backdrop-contrast)","var(--tw-backdrop-grayscale)","var(--tw-backdrop-hue-rotate)","var(--tw-backdrop-invert)","var(--tw-backdrop-opacity)","var(--tw-backdrop-saturate)","var(--tw-backdrop-sepia)"].join(" "),Jt={preflight:({addBase:c})=>{let d=Rn.parse(`*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:theme('borderColor.DEFAULT', currentColor)}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:theme('fontFamily.sans', ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");font-feature-settings:theme('fontFamily.sans[1].fontFeatureSettings', normal);font-variation-settings:theme('fontFamily.sans[1].fontVariationSettings', normal);-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:theme('fontFamily.mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);font-feature-settings:theme('fontFamily.mono[1].fontFeatureSettings', normal);font-variation-settings:theme('fontFamily.mono[1].fontVariationSettings', normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:theme('colors.gray.4', #9ca3af)}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}`);c([Rn.comment({text:`! tailwindcss v${rl} | MIT License | https://tailwindcss.com`}),...d.nodes])},container:(()=>{function c(h=[]){return h.flatMap(y=>y.values.map(x=>x.min)).filter(y=>y!==void 0)}function d(h,y,x){if(typeof x>"u")return[];if(!(typeof x=="object"&&x!==null))return[{screen:"DEFAULT",minWidth:0,padding:x}];let w=[];x.DEFAULT&&w.push({screen:"DEFAULT",minWidth:0,padding:x.DEFAULT});for(let S of h)for(let E of y)for(let{min:_}of E.values)_===S&&w.push({minWidth:S,padding:x[E.name]});return w}return function({addComponents:h,theme:y}){let x=hr(y("container.screens",y("screens"))),w=c(x),S=d(w,x,y("container.padding")),E=T=>{let I=S.find(k=>k.minWidth===T);return I?{paddingRight:I.padding,paddingLeft:I.padding}:{}},_=Array.from(new Set(w.slice().sort((T,I)=>parseInt(T)-parseInt(I)))).map(T=>({[`@media (min-width: ${T})`]:{".container":{"max-width":T,...E(T)}}}));h([{".container":Object.assign({width:"100%"},y("container.center",!1)?{marginRight:"auto",marginLeft:"auto"}:{},E(0))},..._])}})(),accessibility:({addUtilities:c})=>{c({".sr-only":{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},".not-sr-only":{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}})},pointerEvents:({addUtilities:c})=>{c({".pointer-events-none":{"pointer-events":"none"},".pointer-events-auto":{"pointer-events":"auto"}})},visibility:({addUtilities:c})=>{c({".visible":{visibility:"visible"},".invisible":{visibility:"hidden"},".collapse":{visibility:"collapse"}})},position:({addUtilities:c})=>{c({".static":{position:"static"},".fixed":{position:"fixed"},".absolute":{position:"absolute"},".relative":{position:"relative"},".sticky":{position:"sticky"}})},inset:ut("inset",[["inset",["inset"]],[["inset-x",["left","right"]],["inset-y",["top","bottom"]]],[["start",["inset-inline-start"]],["end",["inset-inline-end"]],["top",["top"]],["right",["right"]],["bottom",["bottom"]],["left",["left"]]]],{supportsNegativeValues:!0}),isolation:({addUtilities:c})=>{c({".isolate":{isolation:"isolate"},".isolation-auto":{isolation:"auto"}})},zIndex:ut("zIndex",[["z",["zIndex"]]],{supportsNegativeValues:!0}),order:ut("order",void 0,{supportsNegativeValues:!0}),gridColumn:ut("gridColumn",[["col",["gridColumn"]]]),gridColumnStart:ut("gridColumnStart",[["col-start",["gridColumnStart"]]],{supportsNegativeValues:!0}),gridColumnEnd:ut("gridColumnEnd",[["col-end",["gridColumnEnd"]]],{supportsNegativeValues:!0}),gridRow:ut("gridRow",[["row",["gridRow"]]]),gridRowStart:ut("gridRowStart",[["row-start",["gridRowStart"]]],{supportsNegativeValues:!0}),gridRowEnd:ut("gridRowEnd",[["row-end",["gridRowEnd"]]],{supportsNegativeValues:!0}),float:({addUtilities:c})=>{c({".float-start":{float:"inline-start"},".float-end":{float:"inline-end"},".float-right":{float:"right"},".float-left":{float:"left"},".float-none":{float:"none"}})},clear:({addUtilities:c})=>{c({".clear-start":{clear:"inline-start"},".clear-end":{clear:"inline-end"},".clear-left":{clear:"left"},".clear-right":{clear:"right"},".clear-both":{clear:"both"},".clear-none":{clear:"none"}})},margin:ut("margin",[["m",["margin"]],[["mx",["margin-left","margin-right"]],["my",["margin-top","margin-bottom"]]],[["ms",["margin-inline-start"]],["me",["margin-inline-end"]],["mt",["margin-top"]],["mr",["margin-right"]],["mb",["margin-bottom"]],["ml",["margin-left"]]]],{supportsNegativeValues:!0}),boxSizing:({addUtilities:c})=>{c({".box-border":{"box-sizing":"border-box"},".box-content":{"box-sizing":"content-box"}})},lineClamp:({matchUtilities:c,addUtilities:d,theme:h})=>{c({"line-clamp":y=>({overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":`${y}`})},{values:h("lineClamp")}),d({".line-clamp-none":{overflow:"visible",display:"block","-webkit-box-orient":"horizontal","-webkit-line-clamp":"none"}})},display:({addUtilities:c})=>{c({".block":{display:"block"},".inline-block":{display:"inline-block"},".inline":{display:"inline"},".flex":{display:"flex"},".inline-flex":{display:"inline-flex"},".table":{display:"table"},".inline-table":{display:"inline-table"},".table-caption":{display:"table-caption"},".table-cell":{display:"table-cell"},".table-column":{display:"table-column"},".table-column-group":{display:"table-column-group"},".table-footer-group":{display:"table-footer-group"},".table-header-group":{display:"table-header-group"},".table-row-group":{display:"table-row-group"},".table-row":{display:"table-row"},".flow-root":{display:"flow-root"},".grid":{display:"grid"},".inline-grid":{display:"inline-grid"},".contents":{display:"contents"},".list-item":{display:"list-item"},".hidden":{display:"none"}})},aspectRatio:ut("aspectRatio",[["aspect",["aspect-ratio"]]]),size:ut("size",[["size",["width","height"]]]),height:ut("height",[["h",["height"]]]),maxHeight:ut("maxHeight",[["max-h",["maxHeight"]]]),minHeight:ut("minHeight",[["min-h",["minHeight"]]]),width:ut("width",[["w",["width"]]]),minWidth:ut("minWidth",[["min-w",["minWidth"]]]),maxWidth:ut("maxWidth",[["max-w",["maxWidth"]]]),flex:ut("flex"),flexShrink:ut("flexShrink",[["flex-shrink",["flex-shrink"]],["shrink",["flex-shrink"]]]),flexGrow:ut("flexGrow",[["flex-grow",["flex-grow"]],["grow",["flex-grow"]]]),flexBasis:ut("flexBasis",[["basis",["flex-basis"]]]),tableLayout:({addUtilities:c})=>{c({".table-auto":{"table-layout":"auto"},".table-fixed":{"table-layout":"fixed"}})},captionSide:({addUtilities:c})=>{c({".caption-top":{"caption-side":"top"},".caption-bottom":{"caption-side":"bottom"}})},borderCollapse:({addUtilities:c})=>{c({".border-collapse":{"border-collapse":"collapse"},".border-separate":{"border-collapse":"separate"}})},borderSpacing:({addDefaults:c,matchUtilities:d,theme:h})=>{c("border-spacing",{"--tw-border-spacing-x":0,"--tw-border-spacing-y":0}),d({"border-spacing":y=>({"--tw-border-spacing-x":y,"--tw-border-spacing-y":y,"@defaults border-spacing":{},"border-spacing":"var(--tw-border-spacing-x) var(--tw-border-spacing-y)"}),"border-spacing-x":y=>({"--tw-border-spacing-x":y,"@defaults border-spacing":{},"border-spacing":"var(--tw-border-spacing-x) var(--tw-border-spacing-y)"}),"border-spacing-y":y=>({"--tw-border-spacing-y":y,"@defaults border-spacing":{},"border-spacing":"var(--tw-border-spacing-x) var(--tw-border-spacing-y)"})},{values:h("borderSpacing")})},transformOrigin:ut("transformOrigin",[["origin",["transformOrigin"]]]),translate:ut("translate",[[["translate-x",[["@defaults transform",{}],"--tw-translate-x",["transform",Fr]]],["translate-y",[["@defaults transform",{}],"--tw-translate-y",["transform",Fr]]]]],{supportsNegativeValues:!0}),rotate:ut("rotate",[["rotate",[["@defaults transform",{}],"--tw-rotate",["transform",Fr]]]],{supportsNegativeValues:!0}),skew:ut("skew",[[["skew-x",[["@defaults transform",{}],"--tw-skew-x",["transform",Fr]]],["skew-y",[["@defaults transform",{}],"--tw-skew-y",["transform",Fr]]]]],{supportsNegativeValues:!0}),scale:ut("scale",[["scale",[["@defaults transform",{}],"--tw-scale-x","--tw-scale-y",["transform",Fr]]],[["scale-x",[["@defaults transform",{}],"--tw-scale-x",["transform",Fr]]],["scale-y",[["@defaults transform",{}],"--tw-scale-y",["transform",Fr]]]]],{supportsNegativeValues:!0}),transform:({addDefaults:c,addUtilities:d})=>{c("transform",{"--tw-translate-x":"0","--tw-translate-y":"0","--tw-rotate":"0","--tw-skew-x":"0","--tw-skew-y":"0","--tw-scale-x":"1","--tw-scale-y":"1"}),d({".transform":{"@defaults transform":{},transform:Fr},".transform-cpu":{transform:Fr},".transform-gpu":{transform:Fr.replace("translate(var(--tw-translate-x), var(--tw-translate-y))","translate3d(var(--tw-translate-x), var(--tw-translate-y), 0)")},".transform-none":{transform:"none"}})},animation:({matchUtilities:c,theme:d,config:h})=>{let y=w=>rr(h("prefix")+w),x=Object.fromEntries(Object.entries(d("keyframes")??{}).map(([w,S])=>[w,{[`@keyframes ${y(w)}`]:S}]));c({animate:w=>{let S=eo(w);return[...S.flatMap(E=>x[E.name]),{animation:S.map(({name:E,value:_})=>E===void 0||x[E]===void 0?_:_.replace(E,y(E))).join(", ")}]}},{values:d("animation")})},cursor:ut("cursor"),touchAction:({addDefaults:c,addUtilities:d})=>{c("touch-action",{"--tw-pan-x":" ","--tw-pan-y":" ","--tw-pinch-zoom":" "});let h="var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)";d({".touch-auto":{"touch-action":"auto"},".touch-none":{"touch-action":"none"},".touch-pan-x":{"@defaults touch-action":{},"--tw-pan-x":"pan-x","touch-action":h},".touch-pan-left":{"@defaults touch-action":{},"--tw-pan-x":"pan-left","touch-action":h},".touch-pan-right":{"@defaults touch-action":{},"--tw-pan-x":"pan-right","touch-action":h},".touch-pan-y":{"@defaults touch-action":{},"--tw-pan-y":"pan-y","touch-action":h},".touch-pan-up":{"@defaults touch-action":{},"--tw-pan-y":"pan-up","touch-action":h},".touch-pan-down":{"@defaults touch-action":{},"--tw-pan-y":"pan-down","touch-action":h},".touch-pinch-zoom":{"@defaults touch-action":{},"--tw-pinch-zoom":"pinch-zoom","touch-action":h},".touch-manipulation":{"touch-action":"manipulation"}})},userSelect:({addUtilities:c})=>{c({".select-none":{"user-select":"none"},".select-text":{"user-select":"text"},".select-all":{"user-select":"all"},".select-auto":{"user-select":"auto"}})},resize:({addUtilities:c})=>{c({".resize-none":{resize:"none"},".resize-y":{resize:"vertical"},".resize-x":{resize:"horizontal"},".resize":{resize:"both"}})},scrollSnapType:({addDefaults:c,addUtilities:d})=>{c("scroll-snap-type",{"--tw-scroll-snap-strictness":"proximity"}),d({".snap-none":{"scroll-snap-type":"none"},".snap-x":{"@defaults scroll-snap-type":{},"scroll-snap-type":"x var(--tw-scroll-snap-strictness)"},".snap-y":{"@defaults scroll-snap-type":{},"scroll-snap-type":"y var(--tw-scroll-snap-strictness)"},".snap-both":{"@defaults scroll-snap-type":{},"scroll-snap-type":"both var(--tw-scroll-snap-strictness)"},".snap-mandatory":{"--tw-scroll-snap-strictness":"mandatory"},".snap-proximity":{"--tw-scroll-snap-strictness":"proximity"}})},scrollSnapAlign:({addUtilities:c})=>{c({".snap-start":{"scroll-snap-align":"start"},".snap-end":{"scroll-snap-align":"end"},".snap-center":{"scroll-snap-align":"center"},".snap-align-none":{"scroll-snap-align":"none"}})},scrollSnapStop:({addUtilities:c})=>{c({".snap-normal":{"scroll-snap-stop":"normal"},".snap-always":{"scroll-snap-stop":"always"}})},scrollMargin:ut("scrollMargin",[["scroll-m",["scroll-margin"]],[["scroll-mx",["scroll-margin-left","scroll-margin-right"]],["scroll-my",["scroll-margin-top","scroll-margin-bottom"]]],[["scroll-ms",["scroll-margin-inline-start"]],["scroll-me",["scroll-margin-inline-end"]],["scroll-mt",["scroll-margin-top"]],["scroll-mr",["scroll-margin-right"]],["scroll-mb",["scroll-margin-bottom"]],["scroll-ml",["scroll-margin-left"]]]],{supportsNegativeValues:!0}),scrollPadding:ut("scrollPadding",[["scroll-p",["scroll-padding"]],[["scroll-px",["scroll-padding-left","scroll-padding-right"]],["scroll-py",["scroll-padding-top","scroll-padding-bottom"]]],[["scroll-ps",["scroll-padding-inline-start"]],["scroll-pe",["scroll-padding-inline-end"]],["scroll-pt",["scroll-padding-top"]],["scroll-pr",["scroll-padding-right"]],["scroll-pb",["scroll-padding-bottom"]],["scroll-pl",["scroll-padding-left"]]]]),listStylePosition:({addUtilities:c})=>{c({".list-inside":{"list-style-position":"inside"},".list-outside":{"list-style-position":"outside"}})},listStyleType:ut("listStyleType",[["list",["listStyleType"]]]),listStyleImage:ut("listStyleImage",[["list-image",["listStyleImage"]]]),appearance:({addUtilities:c})=>{c({".appearance-none":{appearance:"none"},".appearance-auto":{appearance:"auto"}})},columns:ut("columns",[["columns",["columns"]]]),breakBefore:({addUtilities:c})=>{c({".break-before-auto":{"break-before":"auto"},".break-before-avoid":{"break-before":"avoid"},".break-before-all":{"break-before":"all"},".break-before-avoid-page":{"break-before":"avoid-page"},".break-before-page":{"break-before":"page"},".break-before-left":{"break-before":"left"},".break-before-right":{"break-before":"right"},".break-before-column":{"break-before":"column"}})},breakInside:({addUtilities:c})=>{c({".break-inside-auto":{"break-inside":"auto"},".break-inside-avoid":{"break-inside":"avoid"},".break-inside-avoid-page":{"break-inside":"avoid-page"},".break-inside-avoid-column":{"break-inside":"avoid-column"}})},breakAfter:({addUtilities:c})=>{c({".break-after-auto":{"break-after":"auto"},".break-after-avoid":{"break-after":"avoid"},".break-after-all":{"break-after":"all"},".break-after-avoid-page":{"break-after":"avoid-page"},".break-after-page":{"break-after":"page"},".break-after-left":{"break-after":"left"},".break-after-right":{"break-after":"right"},".break-after-column":{"break-after":"column"}})},gridAutoColumns:ut("gridAutoColumns",[["auto-cols",["gridAutoColumns"]]]),gridAutoFlow:({addUtilities:c})=>{c({".grid-flow-row":{gridAutoFlow:"row"},".grid-flow-col":{gridAutoFlow:"column"},".grid-flow-dense":{gridAutoFlow:"dense"},".grid-flow-row-dense":{gridAutoFlow:"row dense"},".grid-flow-col-dense":{gridAutoFlow:"column dense"}})},gridAutoRows:ut("gridAutoRows",[["auto-rows",["gridAutoRows"]]]),gridTemplateColumns:ut("gridTemplateColumns",[["grid-cols",["gridTemplateColumns"]]]),gridTemplateRows:ut("gridTemplateRows",[["grid-rows",["gridTemplateRows"]]]),flexDirection:({addUtilities:c})=>{c({".flex-row":{"flex-direction":"row"},".flex-row-reverse":{"flex-direction":"row-reverse"},".flex-col":{"flex-direction":"column"},".flex-col-reverse":{"flex-direction":"column-reverse"}})},flexWrap:({addUtilities:c})=>{c({".flex-wrap":{"flex-wrap":"wrap"},".flex-wrap-reverse":{"flex-wrap":"wrap-reverse"},".flex-nowrap":{"flex-wrap":"nowrap"}})},placeContent:({addUtilities:c})=>{c({".place-content-center":{"place-content":"center"},".place-content-start":{"place-content":"start"},".place-content-end":{"place-content":"end"},".place-content-between":{"place-content":"space-between"},".place-content-around":{"place-content":"space-around"},".place-content-evenly":{"place-content":"space-evenly"},".place-content-baseline":{"place-content":"baseline"},".place-content-stretch":{"place-content":"stretch"}})},placeItems:({addUtilities:c})=>{c({".place-items-start":{"place-items":"start"},".place-items-end":{"place-items":"end"},".place-items-center":{"place-items":"center"},".place-items-baseline":{"place-items":"baseline"},".place-items-stretch":{"place-items":"stretch"}})},alignContent:({addUtilities:c})=>{c({".content-normal":{"align-content":"normal"},".content-center":{"align-content":"center"},".content-start":{"align-content":"flex-start"},".content-end":{"align-content":"flex-end"},".content-between":{"align-content":"space-between"},".content-around":{"align-content":"space-around"},".content-evenly":{"align-content":"space-evenly"},".content-baseline":{"align-content":"baseline"},".content-stretch":{"align-content":"stretch"}})},alignItems:({addUtilities:c})=>{c({".items-start":{"align-items":"flex-start"},".items-end":{"align-items":"flex-end"},".items-center":{"align-items":"center"},".items-baseline":{"align-items":"baseline"},".items-stretch":{"align-items":"stretch"}})},justifyContent:({addUtilities:c})=>{c({".justify-normal":{"justify-content":"normal"},".justify-start":{"justify-content":"flex-start"},".justify-end":{"justify-content":"flex-end"},".justify-center":{"justify-content":"center"},".justify-between":{"justify-content":"space-between"},".justify-around":{"justify-content":"space-around"},".justify-evenly":{"justify-content":"space-evenly"},".justify-stretch":{"justify-content":"stretch"}})},justifyItems:({addUtilities:c})=>{c({".justify-items-start":{"justify-items":"start"},".justify-items-end":{"justify-items":"end"},".justify-items-center":{"justify-items":"center"},".justify-items-stretch":{"justify-items":"stretch"}})},gap:ut("gap",[["gap",["gap"]],[["gap-x",["columnGap"]],["gap-y",["rowGap"]]]]),space:({matchUtilities:c,addUtilities:d,theme:h})=>{c({"space-x":y=>(y=y==="0"?"0px":y,{"& > :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"0","margin-right":`calc(${y} * var(--tw-space-x-reverse))`,"margin-left":`calc(${y} * calc(1 - var(--tw-space-x-reverse)))`}}),"space-y":y=>(y=y==="0"?"0px":y,{"& > :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"0","margin-top":`calc(${y} * calc(1 - var(--tw-space-y-reverse)))`,"margin-bottom":`calc(${y} * var(--tw-space-y-reverse))`}})},{values:h("space"),supportsNegativeValues:!0}),d({".space-y-reverse > :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":"1"},".space-x-reverse > :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":"1"}})},divideWidth:({matchUtilities:c,addUtilities:d,theme:h})=>{c({"divide-x":y=>(y=y==="0"?"0px":y,{"& > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-x-reverse":"0","border-right-width":`calc(${y} * var(--tw-divide-x-reverse))`,"border-left-width":`calc(${y} * calc(1 - var(--tw-divide-x-reverse)))`}}),"divide-y":y=>(y=y==="0"?"0px":y,{"& > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-y-reverse":"0","border-top-width":`calc(${y} * calc(1 - var(--tw-divide-y-reverse)))`,"border-bottom-width":`calc(${y} * var(--tw-divide-y-reverse))`}})},{values:h("divideWidth"),type:["line-width","length","any"]}),d({".divide-y-reverse > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-y-reverse":"1"},".divide-x-reverse > :not([hidden]) ~ :not([hidden])":{"@defaults border-width":{},"--tw-divide-x-reverse":"1"}})},divideStyle:({addUtilities:c})=>{c({".divide-solid > :not([hidden]) ~ :not([hidden])":{"border-style":"solid"},".divide-dashed > :not([hidden]) ~ :not([hidden])":{"border-style":"dashed"},".divide-dotted > :not([hidden]) ~ :not([hidden])":{"border-style":"dotted"},".divide-double > :not([hidden]) ~ :not([hidden])":{"border-style":"double"},".divide-none > :not([hidden]) ~ :not([hidden])":{"border-style":"none"}})},divideColor:({matchUtilities:c,theme:d,corePlugins:h})=>{c({divide:y=>h("divideOpacity")?{"& > :not([hidden]) ~ :not([hidden])":Cr({color:y,property:"border-color",variable:"--tw-divide-opacity"})}:{"& > :not([hidden]) ~ :not([hidden])":{"border-color":an(y)}}},{values:(({DEFAULT:y,...x})=>x)(Ln(d("divideColor"))),type:["color","any"]})},divideOpacity:({matchUtilities:c,theme:d})=>{c({"divide-opacity":h=>({"& > :not([hidden]) ~ :not([hidden])":{"--tw-divide-opacity":h}})},{values:d("divideOpacity")})},placeSelf:({addUtilities:c})=>{c({".place-self-auto":{"place-self":"auto"},".place-self-start":{"place-self":"start"},".place-self-end":{"place-self":"end"},".place-self-center":{"place-self":"center"},".place-self-stretch":{"place-self":"stretch"}})},alignSelf:({addUtilities:c})=>{c({".self-auto":{"align-self":"auto"},".self-start":{"align-self":"flex-start"},".self-end":{"align-self":"flex-end"},".self-center":{"align-self":"center"},".self-stretch":{"align-self":"stretch"},".self-baseline":{"align-self":"baseline"}})},justifySelf:({addUtilities:c})=>{c({".justify-self-auto":{"justify-self":"auto"},".justify-self-start":{"justify-self":"start"},".justify-self-end":{"justify-self":"end"},".justify-self-center":{"justify-self":"center"},".justify-self-stretch":{"justify-self":"stretch"}})},overflow:({addUtilities:c})=>{c({".overflow-auto":{overflow:"auto"},".overflow-hidden":{overflow:"hidden"},".overflow-clip":{overflow:"clip"},".overflow-visible":{overflow:"visible"},".overflow-scroll":{overflow:"scroll"},".overflow-x-auto":{"overflow-x":"auto"},".overflow-y-auto":{"overflow-y":"auto"},".overflow-x-hidden":{"overflow-x":"hidden"},".overflow-y-hidden":{"overflow-y":"hidden"},".overflow-x-clip":{"overflow-x":"clip"},".overflow-y-clip":{"overflow-y":"clip"},".overflow-x-visible":{"overflow-x":"visible"},".overflow-y-visible":{"overflow-y":"visible"},".overflow-x-scroll":{"overflow-x":"scroll"},".overflow-y-scroll":{"overflow-y":"scroll"}})},overscrollBehavior:({addUtilities:c})=>{c({".overscroll-auto":{"overscroll-behavior":"auto"},".overscroll-contain":{"overscroll-behavior":"contain"},".overscroll-none":{"overscroll-behavior":"none"},".overscroll-y-auto":{"overscroll-behavior-y":"auto"},".overscroll-y-contain":{"overscroll-behavior-y":"contain"},".overscroll-y-none":{"overscroll-behavior-y":"none"},".overscroll-x-auto":{"overscroll-behavior-x":"auto"},".overscroll-x-contain":{"overscroll-behavior-x":"contain"},".overscroll-x-none":{"overscroll-behavior-x":"none"}})},scrollBehavior:({addUtilities:c})=>{c({".scroll-auto":{"scroll-behavior":"auto"},".scroll-smooth":{"scroll-behavior":"smooth"}})},textOverflow:({addUtilities:c})=>{c({".truncate":{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"},".overflow-ellipsis":{"text-overflow":"ellipsis"},".text-ellipsis":{"text-overflow":"ellipsis"},".text-clip":{"text-overflow":"clip"}})},hyphens:({addUtilities:c})=>{c({".hyphens-none":{hyphens:"none"},".hyphens-manual":{hyphens:"manual"},".hyphens-auto":{hyphens:"auto"}})},whitespace:({addUtilities:c})=>{c({".whitespace-normal":{"white-space":"normal"},".whitespace-nowrap":{"white-space":"nowrap"},".whitespace-pre":{"white-space":"pre"},".whitespace-pre-line":{"white-space":"pre-line"},".whitespace-pre-wrap":{"white-space":"pre-wrap"},".whitespace-break-spaces":{"white-space":"break-spaces"}})},textWrap:({addUtilities:c})=>{c({".text-wrap":{"text-wrap":"wrap"},".text-nowrap":{"text-wrap":"nowrap"},".text-balance":{"text-wrap":"balance"},".text-pretty":{"text-wrap":"pretty"}})},wordBreak:({addUtilities:c})=>{c({".break-normal":{"overflow-wrap":"normal","word-break":"normal"},".break-words":{"overflow-wrap":"break-word"},".break-all":{"word-break":"break-all"},".break-keep":{"word-break":"keep-all"}})},borderRadius:ut("borderRadius",[["rounded",["border-radius"]],[["rounded-s",["border-start-start-radius","border-end-start-radius"]],["rounded-e",["border-start-end-radius","border-end-end-radius"]],["rounded-t",["border-top-left-radius","border-top-right-radius"]],["rounded-r",["border-top-right-radius","border-bottom-right-radius"]],["rounded-b",["border-bottom-right-radius","border-bottom-left-radius"]],["rounded-l",["border-top-left-radius","border-bottom-left-radius"]]],[["rounded-ss",["border-start-start-radius"]],["rounded-se",["border-start-end-radius"]],["rounded-ee",["border-end-end-radius"]],["rounded-es",["border-end-start-radius"]],["rounded-tl",["border-top-left-radius"]],["rounded-tr",["border-top-right-radius"]],["rounded-br",["border-bottom-right-radius"]],["rounded-bl",["border-bottom-left-radius"]]]]),borderWidth:ut("borderWidth",[["border",[["@defaults border-width",{}],"border-width"]],[["border-x",[["@defaults border-width",{}],"border-left-width","border-right-width"]],["border-y",[["@defaults border-width",{}],"border-top-width","border-bottom-width"]]],[["border-s",[["@defaults border-width",{}],"border-inline-start-width"]],["border-e",[["@defaults border-width",{}],"border-inline-end-width"]],["border-t",[["@defaults border-width",{}],"border-top-width"]],["border-r",[["@defaults border-width",{}],"border-right-width"]],["border-b",[["@defaults border-width",{}],"border-bottom-width"]],["border-l",[["@defaults border-width",{}],"border-left-width"]]]],{type:["line-width","length"]}),borderStyle:({addUtilities:c})=>{c({".border-solid":{"border-style":"solid"},".border-dashed":{"border-style":"dashed"},".border-dotted":{"border-style":"dotted"},".border-double":{"border-style":"double"},".border-hidden":{"border-style":"hidden"},".border-none":{"border-style":"none"}})},borderColor:({matchUtilities:c,theme:d,corePlugins:h})=>{c({border:y=>h("borderOpacity")?Cr({color:y,property:"border-color",variable:"--tw-border-opacity"}):{"border-color":an(y)}},{values:(({DEFAULT:y,...x})=>x)(Ln(d("borderColor"))),type:["color","any"]}),c({"border-x":y=>h("borderOpacity")?Cr({color:y,property:["border-left-color","border-right-color"],variable:"--tw-border-opacity"}):{"border-left-color":an(y),"border-right-color":an(y)},"border-y":y=>h("borderOpacity")?Cr({color:y,property:["border-top-color","border-bottom-color"],variable:"--tw-border-opacity"}):{"border-top-color":an(y),"border-bottom-color":an(y)}},{values:(({DEFAULT:y,...x})=>x)(Ln(d("borderColor"))),type:["color","any"]}),c({"border-s":y=>h("borderOpacity")?Cr({color:y,property:"border-inline-start-color",variable:"--tw-border-opacity"}):{"border-inline-start-color":an(y)},"border-e":y=>h("borderOpacity")?Cr({color:y,property:"border-inline-end-color",variable:"--tw-border-opacity"}):{"border-inline-end-color":an(y)},"border-t":y=>h("borderOpacity")?Cr({color:y,property:"border-top-color",variable:"--tw-border-opacity"}):{"border-top-color":an(y)},"border-r":y=>h("borderOpacity")?Cr({color:y,property:"border-right-color",variable:"--tw-border-opacity"}):{"border-right-color":an(y)},"border-b":y=>h("borderOpacity")?Cr({color:y,property:"border-bottom-color",variable:"--tw-border-opacity"}):{"border-bottom-color":an(y)},"border-l":y=>h("borderOpacity")?Cr({color:y,property:"border-left-color",variable:"--tw-border-opacity"}):{"border-left-color":an(y)}},{values:(({DEFAULT:y,...x})=>x)(Ln(d("borderColor"))),type:["color","any"]})},borderOpacity:ut("borderOpacity",[["border-opacity",["--tw-border-opacity"]]]),backgroundColor:({matchUtilities:c,theme:d,corePlugins:h})=>{c({bg:y=>h("backgroundOpacity")?Cr({color:y,property:"background-color",variable:"--tw-bg-opacity"}):{"background-color":an(y)}},{values:Ln(d("backgroundColor")),type:["color","any"]})},backgroundOpacity:ut("backgroundOpacity",[["bg-opacity",["--tw-bg-opacity"]]]),backgroundImage:ut("backgroundImage",[["bg",["background-image"]]],{type:["lookup","image","url"]}),gradientColorStops:(()=>{function c(d){return nr(d,0,"rgb(255 255 255 / 0)")}return function({matchUtilities:d,theme:h,addDefaults:y}){y("gradient-color-stops",{"--tw-gradient-from-position":" ","--tw-gradient-via-position":" ","--tw-gradient-to-position":" "});let x={values:Ln(h("gradientColorStops")),type:["color","any"]},w={values:h("gradientColorStopPositions"),type:["length","percentage"]};d({from:S=>{let E=c(S);return{"@defaults gradient-color-stops":{},"--tw-gradient-from":`${an(S)} var(--tw-gradient-from-position)`,"--tw-gradient-to":`${E} var(--tw-gradient-to-position)`,"--tw-gradient-stops":"var(--tw-gradient-from), var(--tw-gradient-to)"}}},x),d({from:S=>({"--tw-gradient-from-position":S})},w),d({via:S=>{let E=c(S);return{"@defaults gradient-color-stops":{},"--tw-gradient-to":`${E}  var(--tw-gradient-to-position)`,"--tw-gradient-stops":`var(--tw-gradient-from), ${an(S)} var(--tw-gradient-via-position), var(--tw-gradient-to)`}}},x),d({via:S=>({"--tw-gradient-via-position":S})},w),d({to:S=>({"@defaults gradient-color-stops":{},"--tw-gradient-to":`${an(S)} var(--tw-gradient-to-position)`})},x),d({to:S=>({"--tw-gradient-to-position":S})},w)}})(),boxDecorationBreak:({addUtilities:c})=>{c({".decoration-slice":{"box-decoration-break":"slice"},".decoration-clone":{"box-decoration-break":"clone"},".box-decoration-slice":{"box-decoration-break":"slice"},".box-decoration-clone":{"box-decoration-break":"clone"}})},backgroundSize:ut("backgroundSize",[["bg",["background-size"]]],{type:["lookup","length","percentage","size"]}),backgroundAttachment:({addUtilities:c})=>{c({".bg-fixed":{"background-attachment":"fixed"},".bg-local":{"background-attachment":"local"},".bg-scroll":{"background-attachment":"scroll"}})},backgroundClip:({addUtilities:c})=>{c({".bg-clip-border":{"background-clip":"border-box"},".bg-clip-padding":{"background-clip":"padding-box"},".bg-clip-content":{"background-clip":"content-box"},".bg-clip-text":{"background-clip":"text"}})},backgroundPosition:ut("backgroundPosition",[["bg",["background-position"]]],{type:["lookup",["position",{preferOnConflict:!0}]]}),backgroundRepeat:({addUtilities:c})=>{c({".bg-repeat":{"background-repeat":"repeat"},".bg-no-repeat":{"background-repeat":"no-repeat"},".bg-repeat-x":{"background-repeat":"repeat-x"},".bg-repeat-y":{"background-repeat":"repeat-y"},".bg-repeat-round":{"background-repeat":"round"},".bg-repeat-space":{"background-repeat":"space"}})},backgroundOrigin:({addUtilities:c})=>{c({".bg-origin-border":{"background-origin":"border-box"},".bg-origin-padding":{"background-origin":"padding-box"},".bg-origin-content":{"background-origin":"content-box"}})},fill:({matchUtilities:c,theme:d})=>{c({fill:h=>({fill:an(h)})},{values:Ln(d("fill")),type:["color","any"]})},stroke:({matchUtilities:c,theme:d})=>{c({stroke:h=>({stroke:an(h)})},{values:Ln(d("stroke")),type:["color","url","any"]})},strokeWidth:ut("strokeWidth",[["stroke",["stroke-width"]]],{type:["length","number","percentage"]}),objectFit:({addUtilities:c})=>{c({".object-contain":{"object-fit":"contain"},".object-cover":{"object-fit":"cover"},".object-fill":{"object-fit":"fill"},".object-none":{"object-fit":"none"},".object-scale-down":{"object-fit":"scale-down"}})},objectPosition:ut("objectPosition",[["object",["object-position"]]]),padding:ut("padding",[["p",["padding"]],[["px",["padding-left","padding-right"]],["py",["padding-top","padding-bottom"]]],[["ps",["padding-inline-start"]],["pe",["padding-inline-end"]],["pt",["padding-top"]],["pr",["padding-right"]],["pb",["padding-bottom"]],["pl",["padding-left"]]]]),textAlign:({addUtilities:c})=>{c({".text-left":{"text-align":"left"},".text-center":{"text-align":"center"},".text-right":{"text-align":"right"},".text-justify":{"text-align":"justify"},".text-start":{"text-align":"start"},".text-end":{"text-align":"end"}})},textIndent:ut("textIndent",[["indent",["text-indent"]]],{supportsNegativeValues:!0}),verticalAlign:({addUtilities:c,matchUtilities:d})=>{c({".align-baseline":{"vertical-align":"baseline"},".align-top":{"vertical-align":"top"},".align-middle":{"vertical-align":"middle"},".align-bottom":{"vertical-align":"bottom"},".align-text-top":{"vertical-align":"text-top"},".align-text-bottom":{"vertical-align":"text-bottom"},".align-sub":{"vertical-align":"sub"},".align-super":{"vertical-align":"super"}}),d({align:h=>({"vertical-align":h})})},fontFamily:({matchUtilities:c,theme:d})=>{c({font:h=>{let[y,x={}]=Array.isArray(h)&&Zt(h[1])?h:[h],{fontFeatureSettings:w,fontVariationSettings:S}=x;return{"font-family":Array.isArray(y)?y.join(", "):y,...w===void 0?{}:{"font-feature-settings":w},...S===void 0?{}:{"font-variation-settings":S}}}},{values:d("fontFamily"),type:["lookup","generic-name","family-name"]})},fontSize:({matchUtilities:c,theme:d})=>{c({text:(h,{modifier:y})=>{let[x,w]=Array.isArray(h)?h:[h];if(y)return{"font-size":x,"line-height":y};let{lineHeight:S,letterSpacing:E,fontWeight:_}=Zt(w)?w:{lineHeight:w};return{"font-size":x,...S===void 0?{}:{"line-height":S},...E===void 0?{}:{"letter-spacing":E},..._===void 0?{}:{"font-weight":_}}}},{values:d("fontSize"),modifiers:d("lineHeight"),type:["absolute-size","relative-size","length","percentage"]})},fontWeight:ut("fontWeight",[["font",["fontWeight"]]],{type:["lookup","number","any"]}),textTransform:({addUtilities:c})=>{c({".uppercase":{"text-transform":"uppercase"},".lowercase":{"text-transform":"lowercase"},".capitalize":{"text-transform":"capitalize"},".normal-case":{"text-transform":"none"}})},fontStyle:({addUtilities:c})=>{c({".italic":{"font-style":"italic"},".not-italic":{"font-style":"normal"}})},fontVariantNumeric:({addDefaults:c,addUtilities:d})=>{let h="var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)";c("font-variant-numeric",{"--tw-ordinal":" ","--tw-slashed-zero":" ","--tw-numeric-figure":" ","--tw-numeric-spacing":" ","--tw-numeric-fraction":" "}),d({".normal-nums":{"font-variant-numeric":"normal"},".ordinal":{"@defaults font-variant-numeric":{},"--tw-ordinal":"ordinal","font-variant-numeric":h},".slashed-zero":{"@defaults font-variant-numeric":{},"--tw-slashed-zero":"slashed-zero","font-variant-numeric":h},".lining-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-figure":"lining-nums","font-variant-numeric":h},".oldstyle-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-figure":"oldstyle-nums","font-variant-numeric":h},".proportional-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-spacing":"proportional-nums","font-variant-numeric":h},".tabular-nums":{"@defaults font-variant-numeric":{},"--tw-numeric-spacing":"tabular-nums","font-variant-numeric":h},".diagonal-fractions":{"@defaults font-variant-numeric":{},"--tw-numeric-fraction":"diagonal-fractions","font-variant-numeric":h},".stacked-fractions":{"@defaults font-variant-numeric":{},"--tw-numeric-fraction":"stacked-fractions","font-variant-numeric":h}})},lineHeight:ut("lineHeight",[["leading",["lineHeight"]]]),letterSpacing:ut("letterSpacing",[["tracking",["letterSpacing"]]],{supportsNegativeValues:!0}),textColor:({matchUtilities:c,theme:d,corePlugins:h})=>{c({text:y=>h("textOpacity")?Cr({color:y,property:"color",variable:"--tw-text-opacity"}):{color:an(y)}},{values:Ln(d("textColor")),type:["color","any"]})},textOpacity:ut("textOpacity",[["text-opacity",["--tw-text-opacity"]]]),textDecoration:({addUtilities:c})=>{c({".underline":{"text-decoration-line":"underline"},".overline":{"text-decoration-line":"overline"},".line-through":{"text-decoration-line":"line-through"},".no-underline":{"text-decoration-line":"none"}})},textDecorationColor:({matchUtilities:c,theme:d})=>{c({decoration:h=>({"text-decoration-color":an(h)})},{values:Ln(d("textDecorationColor")),type:["color","any"]})},textDecorationStyle:({addUtilities:c})=>{c({".decoration-solid":{"text-decoration-style":"solid"},".decoration-double":{"text-decoration-style":"double"},".decoration-dotted":{"text-decoration-style":"dotted"},".decoration-dashed":{"text-decoration-style":"dashed"},".decoration-wavy":{"text-decoration-style":"wavy"}})},textDecorationThickness:ut("textDecorationThickness",[["decoration",["text-decoration-thickness"]]],{type:["length","percentage"]}),textUnderlineOffset:ut("textUnderlineOffset",[["underline-offset",["text-underline-offset"]]],{type:["length","percentage","any"]}),fontSmoothing:({addUtilities:c})=>{c({".antialiased":{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale"},".subpixel-antialiased":{"-webkit-font-smoothing":"auto","-moz-osx-font-smoothing":"auto"}})},placeholderColor:({matchUtilities:c,theme:d,corePlugins:h})=>{c({placeholder:y=>h("placeholderOpacity")?{"&::placeholder":Cr({color:y,property:"color",variable:"--tw-placeholder-opacity"})}:{"&::placeholder":{color:an(y)}}},{values:Ln(d("placeholderColor")),type:["color","any"]})},placeholderOpacity:({matchUtilities:c,theme:d})=>{c({"placeholder-opacity":h=>({"&::placeholder":{"--tw-placeholder-opacity":h}})},{values:d("placeholderOpacity")})},caretColor:({matchUtilities:c,theme:d})=>{c({caret:h=>({"caret-color":an(h)})},{values:Ln(d("caretColor")),type:["color","any"]})},accentColor:({matchUtilities:c,theme:d})=>{c({accent:h=>({"accent-color":an(h)})},{values:Ln(d("accentColor")),type:["color","any"]})},opacity:ut("opacity",[["opacity",["opacity"]]]),backgroundBlendMode:({addUtilities:c})=>{c({".bg-blend-normal":{"background-blend-mode":"normal"},".bg-blend-multiply":{"background-blend-mode":"multiply"},".bg-blend-screen":{"background-blend-mode":"screen"},".bg-blend-overlay":{"background-blend-mode":"overlay"},".bg-blend-darken":{"background-blend-mode":"darken"},".bg-blend-lighten":{"background-blend-mode":"lighten"},".bg-blend-color-dodge":{"background-blend-mode":"color-dodge"},".bg-blend-color-burn":{"background-blend-mode":"color-burn"},".bg-blend-hard-light":{"background-blend-mode":"hard-light"},".bg-blend-soft-light":{"background-blend-mode":"soft-light"},".bg-blend-difference":{"background-blend-mode":"difference"},".bg-blend-exclusion":{"background-blend-mode":"exclusion"},".bg-blend-hue":{"background-blend-mode":"hue"},".bg-blend-saturation":{"background-blend-mode":"saturation"},".bg-blend-color":{"background-blend-mode":"color"},".bg-blend-luminosity":{"background-blend-mode":"luminosity"}})},mixBlendMode:({addUtilities:c})=>{c({".mix-blend-normal":{"mix-blend-mode":"normal"},".mix-blend-multiply":{"mix-blend-mode":"multiply"},".mix-blend-screen":{"mix-blend-mode":"screen"},".mix-blend-overlay":{"mix-blend-mode":"overlay"},".mix-blend-darken":{"mix-blend-mode":"darken"},".mix-blend-lighten":{"mix-blend-mode":"lighten"},".mix-blend-color-dodge":{"mix-blend-mode":"color-dodge"},".mix-blend-color-burn":{"mix-blend-mode":"color-burn"},".mix-blend-hard-light":{"mix-blend-mode":"hard-light"},".mix-blend-soft-light":{"mix-blend-mode":"soft-light"},".mix-blend-difference":{"mix-blend-mode":"difference"},".mix-blend-exclusion":{"mix-blend-mode":"exclusion"},".mix-blend-hue":{"mix-blend-mode":"hue"},".mix-blend-saturation":{"mix-blend-mode":"saturation"},".mix-blend-color":{"mix-blend-mode":"color"},".mix-blend-luminosity":{"mix-blend-mode":"luminosity"},".mix-blend-plus-darker":{"mix-blend-mode":"plus-darker"},".mix-blend-plus-lighter":{"mix-blend-mode":"plus-lighter"}})},boxShadow:(()=>{let c=ai("boxShadow"),d=["var(--tw-ring-offset-shadow, 0 0 #0000)","var(--tw-ring-shadow, 0 0 #0000)","var(--tw-shadow)"].join(", ");return function({matchUtilities:h,addDefaults:y,theme:x}){y("box-shadow",{"--tw-ring-offset-shadow":"0 0 #0000","--tw-ring-shadow":"0 0 #0000","--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000"}),h({shadow:w=>{w=c(w);let S=qo(w);for(let E of S)!E.valid||(E.color="var(--tw-shadow-color)");return{"@defaults box-shadow":{},"--tw-shadow":w==="none"?"0 0 #0000":w,"--tw-shadow-colored":w==="none"?"0 0 #0000":ec(S),"box-shadow":d}}},{values:x("boxShadow"),type:["shadow"]})}})(),boxShadowColor:({matchUtilities:c,theme:d})=>{c({shadow:h=>({"--tw-shadow-color":an(h),"--tw-shadow":"var(--tw-shadow-colored)"})},{values:Ln(d("boxShadowColor")),type:["color","any"]})},outlineStyle:({addUtilities:c})=>{c({".outline-none":{outline:"2px solid transparent","outline-offset":"2px"},".outline":{"outline-style":"solid"},".outline-dashed":{"outline-style":"dashed"},".outline-dotted":{"outline-style":"dotted"},".outline-double":{"outline-style":"double"}})},outlineWidth:ut("outlineWidth",[["outline",["outline-width"]]],{type:["length","number","percentage"]}),outlineOffset:ut("outlineOffset",[["outline-offset",["outline-offset"]]],{type:["length","number","percentage","any"],supportsNegativeValues:!0}),outlineColor:({matchUtilities:c,theme:d})=>{c({outline:h=>({"outline-color":an(h)})},{values:Ln(d("outlineColor")),type:["color","any"]})},ringWidth:({matchUtilities:c,addDefaults:d,addUtilities:h,theme:y,config:x})=>{let w=(()=>{var E,_;if(Pe(x(),"respectDefaultRingColorOpacity"))return y("ringColor.DEFAULT");let S=y("ringOpacity.DEFAULT","0.5");return(E=y("ringColor"))!=null&&E.DEFAULT?nr((_=y("ringColor"))==null?void 0:_.DEFAULT,S,`rgb(147 197 253 / ${S})`):`rgb(147 197 253 / ${S})`})();d("ring-width",{"--tw-ring-inset":" ","--tw-ring-offset-width":y("ringOffsetWidth.DEFAULT","0px"),"--tw-ring-offset-color":y("ringOffsetColor.DEFAULT","#fff"),"--tw-ring-color":w,"--tw-ring-offset-shadow":"0 0 #0000","--tw-ring-shadow":"0 0 #0000","--tw-shadow":"0 0 #0000","--tw-shadow-colored":"0 0 #0000"}),c({ring:S=>({"@defaults ring-width":{},"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":`var(--tw-ring-inset) 0 0 0 calc(${S} + var(--tw-ring-offset-width)) var(--tw-ring-color)`,"box-shadow":["var(--tw-ring-offset-shadow)","var(--tw-ring-shadow)","var(--tw-shadow, 0 0 #0000)"].join(", ")})},{values:y("ringWidth"),type:"length"}),h({".ring-inset":{"@defaults ring-width":{},"--tw-ring-inset":"inset"}})},ringColor:({matchUtilities:c,theme:d,corePlugins:h})=>{c({ring:y=>h("ringOpacity")?Cr({color:y,property:"--tw-ring-color",variable:"--tw-ring-opacity"}):{"--tw-ring-color":an(y)}},{values:Object.fromEntries(Object.entries(Ln(d("ringColor"))).filter(([y])=>y!=="DEFAULT")),type:["color","any"]})},ringOpacity:c=>{let{config:d}=c;return ut("ringOpacity",[["ring-opacity",["--tw-ring-opacity"]]],{filterDefault:!Pe(d(),"respectDefaultRingColorOpacity")})(c)},ringOffsetWidth:ut("ringOffsetWidth",[["ring-offset",["--tw-ring-offset-width"]]],{type:"length"}),ringOffsetColor:({matchUtilities:c,theme:d})=>{c({"ring-offset":h=>({"--tw-ring-offset-color":an(h)})},{values:Ln(d("ringOffsetColor")),type:["color","any"]})},blur:({matchUtilities:c,theme:d})=>{c({blur:h=>({"--tw-blur":h.trim()===""?" ":`blur(${h})`,"@defaults filter":{},filter:bn})},{values:d("blur")})},brightness:({matchUtilities:c,theme:d})=>{c({brightness:h=>({"--tw-brightness":`brightness(${h})`,"@defaults filter":{},filter:bn})},{values:d("brightness")})},contrast:({matchUtilities:c,theme:d})=>{c({contrast:h=>({"--tw-contrast":`contrast(${h})`,"@defaults filter":{},filter:bn})},{values:d("contrast")})},dropShadow:({matchUtilities:c,theme:d})=>{c({"drop-shadow":h=>({"--tw-drop-shadow":Array.isArray(h)?h.map(y=>`drop-shadow(${y})`).join(" "):`drop-shadow(${h})`,"@defaults filter":{},filter:bn})},{values:d("dropShadow")})},grayscale:({matchUtilities:c,theme:d})=>{c({grayscale:h=>({"--tw-grayscale":`grayscale(${h})`,"@defaults filter":{},filter:bn})},{values:d("grayscale")})},hueRotate:({matchUtilities:c,theme:d})=>{c({"hue-rotate":h=>({"--tw-hue-rotate":`hue-rotate(${h})`,"@defaults filter":{},filter:bn})},{values:d("hueRotate"),supportsNegativeValues:!0})},invert:({matchUtilities:c,theme:d})=>{c({invert:h=>({"--tw-invert":`invert(${h})`,"@defaults filter":{},filter:bn})},{values:d("invert")})},saturate:({matchUtilities:c,theme:d})=>{c({saturate:h=>({"--tw-saturate":`saturate(${h})`,"@defaults filter":{},filter:bn})},{values:d("saturate")})},sepia:({matchUtilities:c,theme:d})=>{c({sepia:h=>({"--tw-sepia":`sepia(${h})`,"@defaults filter":{},filter:bn})},{values:d("sepia")})},filter:({addDefaults:c,addUtilities:d})=>{c("filter",{"--tw-blur":" ","--tw-brightness":" ","--tw-contrast":" ","--tw-grayscale":" ","--tw-hue-rotate":" ","--tw-invert":" ","--tw-saturate":" ","--tw-sepia":" ","--tw-drop-shadow":" "}),d({".filter":{"@defaults filter":{},filter:bn},".filter-none":{filter:"none"}})},backdropBlur:({matchUtilities:c,theme:d})=>{c({"backdrop-blur":h=>({"--tw-backdrop-blur":h.trim()===""?" ":`blur(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropBlur")})},backdropBrightness:({matchUtilities:c,theme:d})=>{c({"backdrop-brightness":h=>({"--tw-backdrop-brightness":`brightness(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropBrightness")})},backdropContrast:({matchUtilities:c,theme:d})=>{c({"backdrop-contrast":h=>({"--tw-backdrop-contrast":`contrast(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropContrast")})},backdropGrayscale:({matchUtilities:c,theme:d})=>{c({"backdrop-grayscale":h=>({"--tw-backdrop-grayscale":`grayscale(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropGrayscale")})},backdropHueRotate:({matchUtilities:c,theme:d})=>{c({"backdrop-hue-rotate":h=>({"--tw-backdrop-hue-rotate":`hue-rotate(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropHueRotate"),supportsNegativeValues:!0})},backdropInvert:({matchUtilities:c,theme:d})=>{c({"backdrop-invert":h=>({"--tw-backdrop-invert":`invert(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropInvert")})},backdropOpacity:({matchUtilities:c,theme:d})=>{c({"backdrop-opacity":h=>({"--tw-backdrop-opacity":`opacity(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropOpacity")})},backdropSaturate:({matchUtilities:c,theme:d})=>{c({"backdrop-saturate":h=>({"--tw-backdrop-saturate":`saturate(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropSaturate")})},backdropSepia:({matchUtilities:c,theme:d})=>{c({"backdrop-sepia":h=>({"--tw-backdrop-sepia":`sepia(${h})`,"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt})},{values:d("backdropSepia")})},backdropFilter:({addDefaults:c,addUtilities:d})=>{c("backdrop-filter",{"--tw-backdrop-blur":" ","--tw-backdrop-brightness":" ","--tw-backdrop-contrast":" ","--tw-backdrop-grayscale":" ","--tw-backdrop-hue-rotate":" ","--tw-backdrop-invert":" ","--tw-backdrop-opacity":" ","--tw-backdrop-saturate":" ","--tw-backdrop-sepia":" "}),d({".backdrop-filter":{"@defaults backdrop-filter":{},"-webkit-backdrop-filter":Mt,"backdrop-filter":Mt},".backdrop-filter-none":{"-webkit-backdrop-filter":"none","backdrop-filter":"none"}})},transitionProperty:({matchUtilities:c,theme:d})=>{let h=d("transitionTimingFunction.DEFAULT"),y=d("transitionDuration.DEFAULT");c({transition:x=>({"transition-property":x,...x==="none"?{}:{"transition-timing-function":h,"transition-duration":y}})},{values:d("transitionProperty")})},transitionDelay:ut("transitionDelay",[["delay",["transitionDelay"]]]),transitionDuration:ut("transitionDuration",[["duration",["transitionDuration"]]],{filterDefault:!0}),transitionTimingFunction:ut("transitionTimingFunction",[["ease",["transitionTimingFunction"]]],{filterDefault:!0}),willChange:ut("willChange",[["will-change",["will-change"]]]),contain:({addDefaults:c,addUtilities:d})=>{let h="var(--tw-contain-size) var(--tw-contain-layout) var(--tw-contain-paint) var(--tw-contain-style)";c("contain",{"--tw-contain-size":" ","--tw-contain-layout":" ","--tw-contain-paint":" ","--tw-contain-style":" "}),d({".contain-none":{contain:"none"},".contain-content":{contain:"content"},".contain-strict":{contain:"strict"},".contain-size":{"@defaults contain":{},"--tw-contain-size":"size",contain:h},".contain-inline-size":{"@defaults contain":{},"--tw-contain-size":"inline-size",contain:h},".contain-layout":{"@defaults contain":{},"--tw-contain-layout":"layout",contain:h},".contain-paint":{"@defaults contain":{},"--tw-contain-paint":"paint",contain:h},".contain-style":{"@defaults contain":{},"--tw-contain-style":"style",contain:h}})},content:ut("content",[["content",["--tw-content",["content","var(--tw-content)"]]]]),forcedColorAdjust:({addUtilities:c})=>{c({".forced-color-adjust-auto":{"forced-color-adjust":"auto"},".forced-color-adjust-none":{"forced-color-adjust":"none"}})}}});function as(c){if(c===void 0)return!1;if(c==="true"||c==="1")return!0;if(c==="false"||c==="0")return!1;if(c==="*")return!0;let d=c.split(",").map(h=>h.split(":")[0]);return d.includes("-tailwindcss")?!1:!!d.includes("tailwindcss")}var Os,li,Rd,Cc,Ri,Hr,no,ps=v(()=>{L(),Os=typeof F<"u"?{NODE_ENV:"production",DEBUG:as(F.env.DEBUG)}:{NODE_ENV:"production",DEBUG:!1},li=new Map,Rd=new Map,Cc=new Map,Ri=new Map,Hr=new String("*"),no=Symbol("__NONE__")});function il(c){let d=[],h=!1;for(let y=0;y<c.length;y++){let x=c[y];if(x===":"&&!h&&d.length===0)return!1;if(ui.has(x)&&c[y-1]!=="\\"&&(h=!h),!h&&c[y-1]!=="\\"){if(ci.has(x))d.push(x);else if(ms.has(x)){let w=ms.get(x);if(d.length<=0||d.pop()!==w)return!1}}}return!(d.length>0)}var ci,ms,ui,Us=v(()=>{L(),ci=new Map([["{","}"],["[","]"],["(",")"]]),ms=new Map(Array.from(ci.entries()).map(([c,d])=>[d,c])),ui=new Set(['"',"'","`"])});function al(c){let[d]=Tc(c);return d.forEach(([h,y])=>h.removeChild(y)),c.nodes.push(...d.map(([,h])=>h)),c}function Tc(c){let d=[],h=null;for(let y of c.nodes)if(y.type==="combinator")d=d.filter(([,x])=>Qn(x).includes("jumpable")),h=null;else if(y.type==="pseudo"){Ac(y)?(h=y,d.push([c,y,null])):h&&pa(y,h)?d.push([c,y,h]):h=null;for(let x of y.nodes??[]){let[w,S]=Tc(x);h=S||h,d.push(...w)}}return[d,h]}function ha(c){return c.value.startsWith("::")||ma[c.value]!==void 0}function Ac(c){return ha(c)&&Qn(c).includes("terminal")}function pa(c,d){return c.type!=="pseudo"||ha(c)?!1:Qn(d).includes("actionable")}function Qn(c){return ma[c.value]??ma.__default__}var ma,Nc=v(()=>{L(),ma={"::after":["terminal","jumpable"],"::backdrop":["terminal","jumpable"],"::before":["terminal","jumpable"],"::cue":["terminal"],"::cue-region":["terminal"],"::first-letter":["terminal","jumpable"],"::first-line":["terminal","jumpable"],"::grammar-error":["terminal"],"::marker":["terminal","jumpable"],"::part":["terminal","actionable"],"::placeholder":["terminal","jumpable"],"::selection":["terminal","jumpable"],"::slotted":["terminal"],"::spelling-error":["terminal"],"::target-text":["terminal"],"::file-selector-button":["terminal","actionable"],"::deep":["actionable"],"::v-deep":["actionable"],"::ng-deep":["actionable"],":after":["terminal","jumpable"],":before":["terminal","jumpable"],":first-letter":["terminal","jumpable"],":first-line":["terminal","jumpable"],":where":[],":is":[],":has":[],__default__:["terminal","actionable"]}});function kc(c,{context:d,candidate:h}){let y=(d==null?void 0:d.tailwindConfig.prefix)??"",x=c.map(S=>{let E=(0,Mr.default)().astSync(S.format);return{...S,ast:S.respectPrefix?vc(y,E):E}}),w=Mr.default.root({nodes:[Mr.default.selector({nodes:[Mr.default.className({value:rr(h)})]})]});for(let{ast:S}of x)[w,S]=ol(w,S),S.walkNesting(E=>E.replaceWith(...w.nodes[0].nodes)),w=S;return w}function cp(c){let d=[];for(;c.prev()&&c.prev().type!=="combinator";)c=c.prev();for(;c&&c.type!=="combinator";)d.push(c),c=c.next();return d}function Yg(c){return c.sort((d,h)=>d.type==="tag"&&h.type==="class"?-1:d.type==="class"&&h.type==="tag"?1:d.type==="class"&&h.type==="pseudo"&&h.value.startsWith("::")?-1:d.type==="pseudo"&&d.value.startsWith("::")&&h.type==="class"?1:c.index(d)-c.index(h)),c}function $n(c,d){let h=!1;c.walk(y=>{if(y.type==="class"&&y.value===d)return h=!0,!1}),h||c.remove()}function Ic(c,d,{context:h,candidate:y,base:x}){var I;let w=((I=h==null?void 0:h.tailwindConfig)==null?void 0:I.separator)??":";x=x??rs(y,w).pop();let S=(0,Mr.default)().astSync(c);if(S.walkClasses(k=>{k.raws&&k.value.includes(x)&&(k.raws.value=rr((0,Rc.default)(k.raws.value)))}),S.each(k=>$n(k,x)),S.length===0)return null;let E=Array.isArray(d)?kc(d,{context:h,candidate:y}):d;if(E===null)return S.toString();let _=Mr.default.comment({value:"/*__simple__*/"}),T=Mr.default.comment({value:"/*__simple__*/"});return S.walkClasses(k=>{if(k.value!==x)return;let P=k.parent,M=E.nodes[0].nodes;if(P.nodes.length===1){k.replaceWith(...M);return}let O=cp(k);P.insertBefore(O[0],_),P.insertAfter(O[O.length-1],T);for(let B of M)P.insertBefore(O[0],B.clone());k.remove(),O=cp(_);let j=P.index(_);P.nodes.splice(j,O.length,...Yg(Mr.default.selector({nodes:O})).nodes),_.remove(),T.remove()}),S.walkPseudos(k=>{k.value===di&&k.replaceWith(k.nodes)}),S.each(k=>al(k)),S.toString()}function ol(c,d){let h=[];return c.walkPseudos(y=>{y.value===di&&h.push({pseudo:y,value:y.nodes[0].toString()})}),d.walkPseudos(y=>{if(y.value!==di)return;let x=y.nodes[0].toString(),w=h.find(T=>T.value===x);if(!w)return;let S=[],E=y.next();for(;E&&E.type!=="combinator";)S.push(E),E=E.next();let _=E;w.pseudo.parent.insertAfter(w.pseudo,Mr.default.selector({nodes:S.map(T=>T.clone())})),y.remove(),S.forEach(T=>T.remove()),_&&_.type==="combinator"&&_.remove()}),[c,d]}var Mr,Rc,di,ga=v(()=>{L(),Mr=U(ii()),Rc=U(pc()),fr(),Xo(),Nc(),ti(),di=":merge"});function up(c,d){let h=(0,Dc.default)().astSync(c);return h.each(y=>{y.nodes.some(x=>x.type==="combinator")&&(y.nodes=[Dc.default.pseudo({value:":is",nodes:[y.clone()]})]),al(y)}),`${d} ${h.toString()}`}var Dc,dp=v(()=>{L(),Dc=U(ii()),Nc()});function Dd(c){return Mi.transformSync(c)}function*ya(c){let d=1/0;for(;d>=0;){let h,y=!1;if(d===1/0&&c.endsWith("]")){let S=c.indexOf("[");c[S-1]==="-"?h=S-1:c[S-1]==="/"?(h=S-1,y=!0):h=-1}else d===1/0&&c.includes("/")?(h=c.lastIndexOf("/"),y=!0):h=c.lastIndexOf("-",d);if(h<0)break;let x=c.slice(0,h),w=c.slice(y?h:h+1);d=h-1,!(x===""||w==="/")&&(yield[x,w])}}function Pd(c,d){if(c.length===0||d.tailwindConfig.prefix==="")return c;for(let h of c){let[y]=h;if(y.options.respectPrefix){let x=Rn.root({nodes:[h[1].clone()]}),w=h[1].raws.tailwind.classCandidate;x.walkRules(S=>{let E=w.startsWith("-");S.selector=vc(d.tailwindConfig.prefix,S.selector,E)}),h[1]=x.nodes[0]}}return c}function Pc(c,d){if(c.length===0)return c;let h=[];function y(x){return x.parent&&x.parent.type==="atrule"&&x.parent.name==="keyframes"}for(let[x,w]of c){let S=Rn.root({nodes:[w.clone()]});S.walkRules(E=>{if(y(E))return;let _=(0,cl.default)().astSync(E.selector);_.each(T=>$n(T,d)),Ah(_,T=>T===d?`!${T}`:T),E.selector=_.toString(),E.walkDecls(T=>T.important=!0)}),h.push([{...x,important:!0},S.nodes[0]])}return h}function fp(c,d,h){var x;if(d.length===0)return d;let y={modifier:null,value:no};{let[w,...S]=rs(c,"/");if(S.length>1&&(w=w+"/"+S.slice(0,-1).join("/"),S=S.slice(-1)),S.length&&!h.variantMap.has(c)&&(c=w,y.modifier=S[0],!Pe(h.tailwindConfig,"generalizedModifiers")))return[]}if(c.endsWith("]")&&!c.startsWith("[")){let w=/(.)(-?)\[(.*)\]/g.exec(c);if(w){let[,S,E,_]=w;if(S==="@"&&E==="-")return[];if(S!=="@"&&E==="")return[];c=c.replace(`${E}[${_}]`,""),y.value=_}}if(io(c)&&!h.variantMap.has(c)){let w=h.offsets.recordVariant(c),S=cn(c.slice(1,-1)),E=rs(S,",");if(E.length>1)return[];if(!E.every(yr))return[];let _=E.map((T,I)=>[h.offsets.applyParallelOffset(w,I),Dn(T.trim())]);h.variantMap.set(c,_)}if(h.variantMap.has(c)){let w=io(c),S=((x=h.variantOptions.get(c))==null?void 0:x[fi])??{},E=h.variantMap.get(c).slice(),_=[],T=!(w||S.respectPrefix===!1);for(let[I,k]of d){if(I.layer==="user")continue;let P=Rn.root({nodes:[k.clone()]});for(let[M,O,j]of E){let B=function(){$.raws.neededBackup||($.raws.neededBackup=!0,$.walkRules(z=>z.raws.originalSelector=z.selector))},V=function(z){return B(),$.each(J=>{J.type==="rule"&&(J.selectors=J.selectors.map(W=>z({get className(){return Dd(W)},selector:W})))}),$},$=(j??P).clone(),G=[],Y=O({get container(){return B(),$},separator:h.tailwindConfig.separator,modifySelectors:V,wrap(z){let J=$.nodes;$.removeAll(),z.append(J),$.append(z)},format(z){G.push({format:z,respectPrefix:T})},args:y});if(Array.isArray(Y)){for(let[z,J]of Y.entries())E.push([h.offsets.applyParallelOffset(M,z),J,$.clone()]);continue}if(typeof Y=="string"&&G.push({format:Y,respectPrefix:T}),Y===null)continue;$.raws.neededBackup&&(delete $.raws.neededBackup,$.walkRules(z=>{let J=z.raws.originalSelector;if(!J||(delete z.raws.originalSelector,J===z.selector))return;let W=z.selector,Z=(0,cl.default)(X=>{X.walkClasses(ne=>{ne.value=`${c}${h.tailwindConfig.separator}${ne.value}`})}).processSync(J);G.push({format:W.replace(Z,"&"),respectPrefix:T}),z.selector=J})),$.nodes[0].raws.tailwind={...$.nodes[0].raws.tailwind,parentLayer:I.layer};let q=[{...I,sort:h.offsets.applyVariantOffset(I.sort,M,Object.assign(y,h.variantOptions.get(c))),collectedFormats:(I.collectedFormats??[]).concat(G)},$.nodes[0]];_.push(q)}}return _}return[]}function Di(c,d,h={}){return!Zt(c)&&!Array.isArray(c)?[[c],h]:Array.isArray(c)?Di(c[0],d,c[1]):(d.has(c)||d.set(c,Ad(c)),[d.get(c),h])}function Md(c){return jd.test(c)}function Mc(c){if(!c.includes("://"))return!1;try{let d=new URL(c);return d.scheme!==""&&d.host!==""}catch{return!1}}function ll(c){let d=!0;return c.walkDecls(h=>{if(!Od(h.prop,h.value))return d=!1,!1}),d}function Od(c,d){if(Mc(`${c}:${d}`))return!1;try{return Rn.parse(`a{${c}:${d}}`).toResult(),!0}catch{return!1}}function hp(c,d){let[,h,y]=c.match(/^\[([a-zA-Z0-9-_]+):(\S+)\]$/)??[];if(y===void 0||!Md(h)||!il(y))return null;let x=cn(y,{property:h});return Od(h,x)?[[{sort:d.offsets.arbitraryProperty(c),layer:"utilities",options:{respectImportant:!0}},()=>({[ua(c)]:{[h]:x}})]]:null}function*va(c,d){d.candidateRuleMap.has(c)&&(yield[d.candidateRuleMap.get(c),"DEFAULT"]),yield*(function*(E){E!==null&&(yield[E,"DEFAULT"])})(hp(c,d));let h=c,y=!1,x=d.tailwindConfig.prefix,w=x.length,S=h.startsWith(x)||h.startsWith(`-${x}`);h[w]==="-"&&S&&(y=!0,h=x+h.slice(w+1)),y&&d.candidateRuleMap.has(h)&&(yield[d.candidateRuleMap.get(h),"-DEFAULT"]);for(let[E,_]of ya(h))d.candidateRuleMap.has(E)&&(yield[d.candidateRuleMap.get(E),y?`-${_}`:_])}function xa(c,d){return c===Hr?[Hr]:rs(c,d)}function*pp(c,d){var h;for(let y of c)y[1].raws.tailwind={...y[1].raws.tailwind,classCandidate:d,preserveSource:((h=y[0].options)==null?void 0:h.preserveSource)??!1},yield y}function*Ud(c,d){var S;let h=d.tailwindConfig.separator,[y,...x]=xa(c,h).reverse(),w=!1;y.startsWith("!")&&(w=!0,y=y.slice(1));for(let E of va(y,d)){let _=[],T=new Map,[I,k]=E,P=I.length===1;for(let[M,O]of I){let j=[];if(typeof O=="function")for(let B of[].concat(O(k,{isOnlyPlugin:P}))){let[V,$]=Di(B,d.postCssNodeCache);for(let G of V)j.push([{...M,options:{...M.options,...$}},G])}else if(k==="DEFAULT"||k==="-DEFAULT"){let B=O,[V,$]=Di(B,d.postCssNodeCache);for(let G of V)j.push([{...M,options:{...M.options,...$}},G])}if(j.length>0){let B=Array.from(zr(((S=M.options)==null?void 0:S.types)??[],k,M.options??{},d.tailwindConfig)).map(([V,$])=>$);B.length>0&&T.set(j,B),_.push(j)}}if(io(k)){if(_.length>1){let M=function(V){return V.length===1?V[0]:V.find($=>{let G=T.get($);return $.some(([{options:Y},q])=>ll(q)?Y.types.some(({type:z,preferOnConflict:J})=>G.includes(z)&&J):!1)})},[O,j]=_.reduce((V,$)=>($.some(([{options:G}])=>G.types.some(({type:Y})=>Y==="any"))?V[0].push($):V[1].push($),V),[[],[]]),B=M(j)??M(O);if(B)_=[B];else{let V=_.map(G=>new Set([...T.get(G)??[]]));for(let G of V)for(let Y of G){let q=!1;for(let z of V)G!==z&&z.has(Y)&&(z.delete(Y),q=!0);q&&G.delete(Y)}let $=[];for(let[G,Y]of V.entries())for(let q of Y){let z=_[G].map(([,J])=>J).flat().map(J=>J.toString().split(`
`).slice(1,-1).map(W=>W.trim()).map(W=>`      ${W}`).join(`
`)).join(`

`);$.push(`  Use \`${c.replace("[",`[${q}:`)}\` for \`${z.trim()}\``);break}Ue.warn([`The class \`${c}\` is ambiguous and matches multiple utilities.`,...$,`If this is content and not a class, replace it with \`${c.replace("[","&lsqb;").replace("]","&rsqb;")}\` to silence this warning.`]);continue}}_=_.map(M=>M.filter(O=>ll(O[1])))}_=_.flat(),_=Array.from(pp(_,y)),_=Pd(_,d),w&&(_=Pc(_,y));for(let M of x)_=fp(M,_,d);for(let M of _)M[1].raws.tailwind={...M[1].raws.tailwind,candidate:c},M=ro(M,{context:d,candidate:c}),M!==null&&(yield M)}}function ro(c,{context:d,candidate:h}){if(!c[0].collectedFormats)return c;let y=!0,x;try{x=kc(c[0].collectedFormats,{context:d,candidate:h})}catch{return null}let w=Rn.root({nodes:[c[1].clone()]});return w.walkRules(S=>{if(!Pi(S))try{let E=Ic(S.selector,x,{candidate:h,context:d});if(E===null){S.remove();return}S.selector=E}catch{return y=!1,!1}}),!y||w.nodes.length===0?null:(c[1]=w.nodes[0],c)}function Pi(c){return c.parent&&c.parent.type==="atrule"&&c.parent.name==="keyframes"}function Oc(c){if(c===!0)return d=>{Pi(d)||d.walkDecls(h=>{h.parent.type==="rule"&&!Pi(h.parent)&&(h.important=!0)})};if(typeof c=="string")return d=>{Pi(d)||(d.selectors=d.selectors.map(h=>up(h,c)))}}function so(c,d,h=!1){let y=[],x=Oc(d.tailwindConfig.important);for(let w of c){if(d.notClassCache.has(w))continue;if(d.candidateRuleCache.has(w)){y=y.concat(Array.from(d.candidateRuleCache.get(w)));continue}let S=Array.from(Ud(w,d));if(S.length===0){d.notClassCache.add(w);continue}d.classCache.set(w,S);let E=d.candidateRuleCache.get(w)??new Set;d.candidateRuleCache.set(w,E);for(let _ of S){let[{sort:T,options:I},k]=_;if(I.respectImportant&&x){let M=Rn.root({nodes:[k.clone()]});M.walkRules(x),k=M.nodes[0]}let P=[T,h?k.clone():k];E.add(P),d.ruleCache.add(P),y.push(P)}}return y}function io(c){return c.startsWith("[")&&c.endsWith("]")}var cl,Mi,jd,js=v(()=>{L(),ds(),cl=U(ii()),ap(),jn(),Xo(),za(),je(),ps(),ga(),el(),ks(),uo(),Us(),ti(),Vt(),dp(),Mi=(0,cl.default)(c=>c.first.filter(({type:d})=>d==="class").pop().value),jd=/^[a-z_-]/}),Uc,Ld=v(()=>{L(),Uc={}});function Oi(c){try{return Uc.createHash("md5").update(c,"utf-8").digest("binary")}catch{return""}}function Ui(c,d){let h=d.toString();if(!h.includes("@tailwind"))return!1;let y=Ri.get(c),x=Oi(h),w=y!==x;return Ri.set(c,x),w}var ul=v(()=>{L(),Ld(),ps()});function jc(c){return(c>0n)-(c<0n)}var Bd=v(()=>{L()});function dl(c,d){let h=0n,y=0n;for(let[x,w]of d)c&x&&(h=h|x,y=y|w);return c&~h|y}var fl=v(()=>{L()});function qd(c){let d=null;for(let h of c)d=d??h,d=d>h?d:h;return d}function mp(c,d){let h=c.length,y=d.length,x=h<y?h:y;for(let w=0;w<x;w++){let S=c.charCodeAt(w)-d.charCodeAt(w);if(S!==0)return S}return h-y}var ba,Lc=v(()=>{L(),Bd(),fl(),ba=class{constructor(){this.offsets={defaults:0n,base:0n,components:0n,utilities:0n,variants:0n,user:0n},this.layerPositions={defaults:0n,base:1n,components:2n,utilities:3n,user:4n,variants:5n},this.reservedVariantBits=0n,this.variantOffsets=new Map}create(c){return{layer:c,parentLayer:c,arbitrary:0n,variants:0n,parallelIndex:0n,index:this.offsets[c]++,propertyOffset:0n,property:"",options:[]}}arbitraryProperty(c){return{...this.create("utilities"),arbitrary:1n,property:c}}forVariant(c,d=0){let h=this.variantOffsets.get(c);if(h===void 0)throw new Error(`Cannot find offset for unknown variant ${c}`);return{...this.create("variants"),variants:h<<BigInt(d)}}applyVariantOffset(c,d,h){return h.variant=d.variants,{...c,layer:"variants",parentLayer:c.layer==="variants"?c.parentLayer:c.layer,variants:c.variants|d.variants,options:h.sort?[].concat(h,c.options):c.options,parallelIndex:qd([c.parallelIndex,d.parallelIndex])}}applyParallelOffset(c,d){return{...c,parallelIndex:BigInt(d)}}recordVariants(c,d){for(let h of c)this.recordVariant(h,d(h))}recordVariant(c,d=1){return this.variantOffsets.set(c,1n<<this.reservedVariantBits),this.reservedVariantBits+=BigInt(d),{...this.create("variants"),variants:this.variantOffsets.get(c)}}compare(c,d){if(c.layer!==d.layer)return this.layerPositions[c.layer]-this.layerPositions[d.layer];if(c.parentLayer!==d.parentLayer)return this.layerPositions[c.parentLayer]-this.layerPositions[d.parentLayer];for(let h of c.options)for(let y of d.options){if(h.id!==y.id||!h.sort||!y.sort)continue;let x=qd([h.variant,y.variant])??0n,w=~(x|x-1n),S=c.variants&w,E=d.variants&w;if(S!==E)continue;let _=h.sort({value:h.value,modifier:h.modifier},{value:y.value,modifier:y.modifier});if(_!==0)return _}return c.variants!==d.variants?c.variants-d.variants:c.parallelIndex!==d.parallelIndex?c.parallelIndex-d.parallelIndex:c.arbitrary!==d.arbitrary?c.arbitrary-d.arbitrary:c.propertyOffset!==d.propertyOffset?c.propertyOffset-d.propertyOffset:c.index-d.index}recalculateVariantOffsets(){let c=Array.from(this.variantOffsets.entries()).filter(([h])=>h.startsWith("[")).sort(([h],[y])=>mp(h,y)),d=c.map(([,h])=>h).sort((h,y)=>jc(h-y));return c.map(([,h],y)=>[h,d[y]]).filter(([h,y])=>h!==y)}remapArbitraryVariantOffsets(c){let d=this.recalculateVariantOffsets();return d.length===0?c:c.map(h=>{let[y,x]=h;return y={...y,variants:dl(y.variants,d)},[y,x]})}sortArbitraryProperties(c){let d=new Set;for(let[w]of c)w.arbitrary===1n&&d.add(w.property);if(d.size===0)return c;let h=Array.from(d).sort(),y=new Map,x=1n;for(let w of h)y.set(w,x++);return c.map(w=>{let[S,E]=w;return S={...S,propertyOffset:y.get(S.property)??0n},[S,E]})}sort(c){return c=this.remapArbitraryVariantOffsets(c),c=this.sortArbitraryProperties(c),c.sort(([d],[h])=>jc(this.compare(d,h)))}}});function Bc(c,d){let h=c.tailwindConfig.prefix;return typeof h=="function"?h(d):h+d}function qc({type:c="any",...d}){let h=[].concat(c);return{...d,types:h.map(y=>Array.isArray(y)?{type:y[0],...y[1]}:{type:y,preferOnConflict:!1})}}function $d(c){let d=[],h="",y=0;for(let x=0;x<c.length;x++){let w=c[x];if(w==="\\")h+="\\"+c[++x];else if(w==="{")++y,d.push(h.trim()),h="";else if(w==="}"){if(--y<0)throw new Error("Your { and } are unbalanced.");d.push(h.trim()),h=""}else h+=w}return h.length>0&&d.push(h.trim()),d=d.filter(x=>x!==""),d}function Gr(c,d,{before:h=[]}={}){if(h=[].concat(h),h.length<=0){c.push(d);return}let y=c.length-1;for(let x of h){let w=c.indexOf(x);w!==-1&&(y=Math.min(y,w))}c.splice(y,0,d)}function Yr(c){return Array.isArray(c)?c.flatMap(d=>!Array.isArray(d)&&!Zt(d)?d:Ad(d)):Yr([c])}function ji(c,d){return(0,Pn.default)(h=>{let y=[];return d&&d(h),h.walkClasses(x=>{y.push(x.value)}),y}).transformSync(c)}function zd(c){c.walkPseudos(d=>{d.value===":not"&&d.remove()})}function gp(c,d={containsNonOnDemandable:!1},h=0){let y=[],x=[];c.type==="rule"?x.push(...c.selectors):c.type==="atrule"&&c.walkRules(w=>x.push(...w.selectors));for(let w of x){let S=ji(w,zd);S.length===0&&(d.containsNonOnDemandable=!0);for(let E of S)y.push(E)}return h===0?[d.containsNonOnDemandable||y.length===0,y]:y}function gs(c){return Yr(c).flatMap(d=>{let h=new Map,[y,x]=gp(d);return y&&x.unshift(Hr),x.map(w=>(h.has(d)||h.set(d,d),[w,h.get(d)]))})}function yr(c){return c.startsWith("@")||c.includes("&")}function Dn(c){c=c.replace(/\n+/g,"").replace(/\s{1,}/g," ").trim();let d=$d(c).map(h=>{if(!h.startsWith("@"))return({format:w})=>w(h);let[,y,x]=/@(\S*)( .+|[({].*)?/g.exec(h);return({wrap:w})=>w(Rn.atRule({name:y,params:(x==null?void 0:x.trim())??""}))}).reverse();return h=>{for(let y of d)y(h)}}function $c(c,d,{variantList:h,variantMap:y,offsets:x,classList:w}){function S(P,M){return P?(0,yp.default)(c,P,M):c}function E(P){return vc(c.prefix,P)}function _(P,M){return P===Hr?Hr:M.respectPrefix?d.tailwindConfig.prefix+P:P}function T(P,M,O={}){let j=yt(P),B=S(["theme",...j],M);return ai(j[0])(B,O)}let I=0,k={postcss:Rn,prefix:E,e:rr,config:S,theme:T,corePlugins:P=>Array.isArray(c.corePlugins)?c.corePlugins.includes(P):S(["corePlugins",P],!0),variants:()=>[],addBase(P){for(let[M,O]of gs(P)){let j=_(M,{}),B=x.create("base");d.candidateRuleMap.has(j)||d.candidateRuleMap.set(j,[]),d.candidateRuleMap.get(j).push([{sort:B,layer:"base"},O])}},addDefaults(P,M){let O={[`@defaults ${P}`]:M};for(let[j,B]of gs(O)){let V=_(j,{});d.candidateRuleMap.has(V)||d.candidateRuleMap.set(V,[]),d.candidateRuleMap.get(V).push([{sort:x.create("defaults"),layer:"defaults"},B])}},addComponents(P,M){M=Object.assign({},{preserveSource:!1,respectPrefix:!0,respectImportant:!1},Array.isArray(M)?{}:M);for(let[O,j]of gs(P)){let B=_(O,M);w.add(B),d.candidateRuleMap.has(B)||d.candidateRuleMap.set(B,[]),d.candidateRuleMap.get(B).push([{sort:x.create("components"),layer:"components",options:M},j])}},addUtilities(P,M){M=Object.assign({},{preserveSource:!1,respectPrefix:!0,respectImportant:!0},Array.isArray(M)?{}:M);for(let[O,j]of gs(P)){let B=_(O,M);w.add(B),d.candidateRuleMap.has(B)||d.candidateRuleMap.set(B,[]),d.candidateRuleMap.get(B).push([{sort:x.create("utilities"),layer:"utilities",options:M},j])}},matchUtilities:function(P,M){M=qc({respectPrefix:!0,respectImportant:!0,modifiers:!1,...M});let O=x.create("utilities");for(let j in P){let B=function(Y,{isOnlyPlugin:q}){let[z,J,W]=Nh(M.types,Y,M,c);if(z===void 0)return[];if(!M.types.some(({type:ne})=>ne===J))if(q)Ue.warn([`Unnecessary typehint \`${J}\` in \`${j}-${Y}\`.`,`You can safely update it to \`${j}-${Y.replace(J+":","")}\`.`]);else return[];if(!il(z))return[];let Z={get modifier(){return M.modifiers||Ue.warn(`modifier-used-without-options-for-${j}`,["Your plugin must set `modifiers: true` in its options to support modifiers."]),W}},X=Pe(c,"generalizedModifiers");return[].concat(X?$(z,Z):$(z)).filter(Boolean).map(ne=>({[xc(j,Y)]:ne}))},V=_(j,M),$=P[j];w.add([V,M]);let G=[{sort:O,layer:"utilities",options:M},B];d.candidateRuleMap.has(V)||d.candidateRuleMap.set(V,[]),d.candidateRuleMap.get(V).push(G)}},matchComponents:function(P,M){M=qc({respectPrefix:!0,respectImportant:!1,modifiers:!1,...M});let O=x.create("components");for(let j in P){let B=function(Y,{isOnlyPlugin:q}){let[z,J,W]=Nh(M.types,Y,M,c);if(z===void 0)return[];if(!M.types.some(({type:ne})=>ne===J))if(q)Ue.warn([`Unnecessary typehint \`${J}\` in \`${j}-${Y}\`.`,`You can safely update it to \`${j}-${Y.replace(J+":","")}\`.`]);else return[];if(!il(z))return[];let Z={get modifier(){return M.modifiers||Ue.warn(`modifier-used-without-options-for-${j}`,["Your plugin must set `modifiers: true` in its options to support modifiers."]),W}},X=Pe(c,"generalizedModifiers");return[].concat(X?$(z,Z):$(z)).filter(Boolean).map(ne=>({[xc(j,Y)]:ne}))},V=_(j,M),$=P[j];w.add([V,M]);let G=[{sort:O,layer:"components",options:M},B];d.candidateRuleMap.has(V)||d.candidateRuleMap.set(V,[]),d.candidateRuleMap.get(V).push(G)}},addVariant(P,M,O={}){M=[].concat(M).map(j=>{if(typeof j!="string")return(B={})=>{let{args:V,modifySelectors:$,container:G,separator:Y,wrap:q,format:z}=B,J=j(Object.assign({modifySelectors:$,container:G,separator:Y},O.type===co.MatchVariant&&{args:V,wrap:q,format:z}));if(typeof J=="string"&&!yr(J))throw new Error(`Your custom variant \`${P}\` has an invalid format string. Make sure it's an at-rule or contains a \`&\` placeholder.`);return Array.isArray(J)?J.filter(W=>typeof W=="string").map(W=>Dn(W)):J&&typeof J=="string"&&Dn(J)(B)};if(!yr(j))throw new Error(`Your custom variant \`${P}\` has an invalid format string. Make sure it's an at-rule or contains a \`&\` placeholder.`);return Dn(j)}),Gr(h,P,O),y.set(P,M),d.variantOptions.set(P,O)},matchVariant(P,M,O){let j=(O==null?void 0:O.id)??++I,B=P==="@",V=Pe(c,"generalizedModifiers");for(let[G,Y]of Object.entries((O==null?void 0:O.values)??{}))G!=="DEFAULT"&&k.addVariant(B?`${P}${G}`:`${P}-${G}`,({args:q,container:z})=>M(Y,V?{modifier:q==null?void 0:q.modifier,container:z}:{container:z}),{...O,value:Y,id:j,type:co.MatchVariant,variantInfo:hl.Base});let $="DEFAULT"in((O==null?void 0:O.values)??{});k.addVariant(P,({args:G,container:Y})=>(G==null?void 0:G.value)===no&&!$?null:M((G==null?void 0:G.value)===no?O.values.DEFAULT:(G==null?void 0:G.value)??(typeof G=="string"?G:""),V?{modifier:G==null?void 0:G.modifier,container:Y}:{container:Y}),{...O,id:j,type:co.MatchVariant,variantInfo:hl.Dynamic})}};return k}function ys(c){return pl.has(c)||pl.set(c,new Map),pl.get(c)}function jt(c,d){var x;let h=!1,y=new Map;for(let w of c){if(!w)continue;let S=Go.parse(w),E=S.hash?S.href.replace(S.hash,""):S.href;E=S.search?E.replace(S.search,""):E;let _=(x=re.statSync(decodeURIComponent(E),{throwIfNoEntry:!1}))==null?void 0:x.mtimeMs;!_||((!d.has(w)||_>d.get(w))&&(h=!0),y.set(w,_))}return[h,y]}function hn(c){c.walkAtRules(d=>{["responsive","variants"].includes(d.name)&&(hn(d),d.before(d.nodes),d.remove())})}function Gn(c){let d=[];return c.each(h=>{h.type==="atrule"&&["responsive","variants"].includes(h.name)&&(h.name="layer",h.params="utilities")}),c.walkAtRules("layer",h=>{if(hn(h),h.params==="base"){for(let y of h.nodes)d.push(function({addBase:x}){x(y,{respectPrefix:!1})});h.remove()}else if(h.params==="components"){for(let y of h.nodes)d.push(function({addComponents:x}){x(y,{respectPrefix:!1,preserveSource:!0})});h.remove()}else if(h.params==="utilities"){for(let y of h.nodes)d.push(function({addUtilities:x}){x(y,{respectPrefix:!1,preserveSource:!0})});h.remove()}}),d}function zc(c,d){let h=Object.entries({...vn,...Jt}).map(([E,_])=>c.tailwindConfig.corePlugins.includes(E)?_:null).filter(Boolean),y=c.tailwindConfig.plugins.map(E=>(E.__isOptionsFunction&&(E=E()),typeof E=="function"?E:E.handler)),x=Gn(d),w=[vn.childVariant,vn.pseudoElementVariants,vn.pseudoClassVariants,vn.hasVariants,vn.ariaVariants,vn.dataVariants],S=[vn.supportsVariants,vn.reducedMotionVariants,vn.prefersContrastVariants,vn.screenVariants,vn.orientationVariants,vn.directionVariants,vn.darkVariants,vn.forcedColorsVariants,vn.printVariant];return(c.tailwindConfig.darkMode==="class"||Array.isArray(c.tailwindConfig.darkMode)&&c.tailwindConfig.darkMode[0]==="class")&&(S=[vn.supportsVariants,vn.reducedMotionVariants,vn.prefersContrastVariants,vn.darkVariants,vn.screenVariants,vn.orientationVariants,vn.directionVariants,vn.forcedColorsVariants,vn.printVariant]),[...h,...w,...y,...S,...x]}function ao(c,d){let h=[],y=new Map;d.variantMap=y;let x=new ba;d.offsets=x;let w=new Set,S=$c(d.tailwindConfig,d,{variantList:h,variantMap:y,offsets:x,classList:w});for(let I of c)if(Array.isArray(I))for(let k of I)k(S);else I==null||I(S);x.recordVariants(h,I=>y.get(I).length);for(let[I,k]of y.entries())d.variantMap.set(I,k.map((P,M)=>[x.forVariant(I,M),P]));let E=(d.tailwindConfig.safelist??[]).filter(Boolean);if(E.length>0){let I=[];for(let k of E){if(typeof k=="string"){d.changedContent.push({content:k,extension:"html"});continue}if(k instanceof RegExp){Ue.warn("root-regex",["Regular expressions in `safelist` work differently in Tailwind CSS v3.0.","Update your `safelist` configuration to eliminate this warning.","https://tailwindcss.com/docs/content-configuration#safelisting-classes"]);continue}I.push(k)}if(I.length>0){let k=new Map,P=d.tailwindConfig.prefix.length,M=I.some(O=>O.pattern.source.includes("!"));for(let O of w){let j=Array.isArray(O)?(()=>{let[B,V]=O,$=Object.keys((V==null?void 0:V.values)??{}).map(G=>da(B,G));return V!=null&&V.supportsNegativeValues&&($=[...$,...$.map(G=>"-"+G)],$=[...$,...$.map(G=>G.slice(0,P)+"-"+G.slice(P))]),V.types.some(({type:G})=>G==="color")&&($=[...$,...$.flatMap(G=>Object.keys(d.tailwindConfig.theme.opacity).map(Y=>`${G}/${Y}`))]),M&&(V!=null&&V.respectImportant)&&($=[...$,...$.map(G=>"!"+G)]),$})():[O];for(let B of j)for(let{pattern:V,variants:$=[]}of I)if(V.lastIndex=0,k.has(V)||k.set(V,0),!!V.test(B)){k.set(V,k.get(V)+1),d.changedContent.push({content:B,extension:"html"});for(let G of $)d.changedContent.push({content:G+d.tailwindConfig.separator+B,extension:"html"})}}for(let[O,j]of k.entries())j===0&&Ue.warn([`The safelist pattern \`${O}\` doesn't match any Tailwind CSS classes.`,"Fix this pattern or remove it from your `safelist` configuration.","https://tailwindcss.com/docs/content-configuration#safelisting-classes"])}}let _=[].concat(d.tailwindConfig.darkMode??"media")[1]??"dark",T=[Bc(d,_),Bc(d,"group"),Bc(d,"peer")];d.getClassOrder=function(I){let k=[...I].sort((j,B)=>j===B?0:j<B?-1:1),P=new Map(k.map(j=>[j,null])),M=so(new Set(k),d,!0);M=d.offsets.sort(M);let O=BigInt(T.length);for(let[,j]of M){let B=j.raws.tailwind.candidate;P.set(B,P.get(B)??O++)}return I.map(j=>{let B=P.get(j)??null,V=T.indexOf(j);return B===null&&V!==-1&&(B=BigInt(V)),[j,B]})},d.getClassList=function(I={}){var P;let k=[];for(let M of w)if(Array.isArray(M)){let[O,j]=M,B=[],V=Object.keys((j==null?void 0:j.modifiers)??{});(P=j==null?void 0:j.types)!=null&&P.some(({type:Y})=>Y==="color")&&V.push(...Object.keys(d.tailwindConfig.theme.opacity??{}));let $={modifiers:V},G=I.includeMetadata&&V.length>0;for(let[Y,q]of Object.entries((j==null?void 0:j.values)??{})){if(q==null)continue;let z=da(O,Y);if(k.push(G?[z,$]:z),(j==null?void 0:j.supportsNegativeValues)&&ve(q)){let J=da(O,`-${Y}`);B.push(G?[J,$]:J)}}k.push(...B)}else k.push(M);return k},d.getVariants=function(){let I=Math.random().toString(36).substring(7).toUpperCase(),k=[];for(let[P,M]of d.variantOptions.entries())M.variantInfo!==hl.Base&&k.push({name:P,isArbitrary:M.type===Symbol.for("MATCH_VARIANT"),values:Object.keys(M.values??{}),hasDash:P!=="@",selectors({modifier:O,value:j}={}){var Be;let B=`TAILWINDPLACEHOLDER${I}`,V=Rn.rule({selector:`.${B}`}),$=Rn.root({nodes:[V.clone()]}),G=$.toString(),Y=(d.variantMap.get(P)??[]).flatMap(([Le,_e])=>_e),q=[];for(let Le of Y){let _e=[],Ee={args:{modifier:O,value:((Be=M.values)==null?void 0:Be[j])??j},separator:d.tailwindConfig.separator,modifySelectors(Je){return $.each(ft=>{ft.type==="rule"&&(ft.selectors=ft.selectors.map(St=>Je({get className(){return Dd(St)},selector:St})))}),$},format(Je){_e.push(Je)},wrap(Je){_e.push(`@${Je.name} ${Je.params} { & }`)},container:$},Xe=Le(Ee);if(_e.length>0&&q.push(_e),Array.isArray(Xe))for(let Je of Xe)_e=[],Je(Ee),q.push(_e)}let z=[],J=$.toString();G!==J&&($.walkRules(Le=>{let _e=Le.selector,Ee=(0,Pn.default)(Xe=>{Xe.walkClasses(Je=>{Je.value=`${P}${d.tailwindConfig.separator}${Je.value}`})}).processSync(_e);z.push(_e.replace(Ee,"&").replace(B,"&"))}),$.walkAtRules(Le=>{z.push(`@${Le.name} (${Le.params}) { & }`)}));let W=!(j in(M.values??{})),Z=M[fi]??{},X=!(W||Z.respectPrefix===!1);q=q.map(Le=>Le.map(_e=>({format:_e,respectPrefix:X}))),z=z.map(Le=>({format:Le,respectPrefix:X}));let ne={candidate:B,context:d},Ve=q.map(Le=>Ic(`.${B}`,kc(Le,ne),ne).replace(`.${B}`,"&").replace("{ & }","").trim());return z.length>0&&Ve.push(kc(z,ne).toString().replace(`.${B}`,"&")),Ve}});return k}}function Li(c,d){!c.classCache.has(d)||(c.notClassCache.add(d),c.classCache.delete(d),c.applyClassCache.delete(d),c.candidateRuleMap.delete(d),c.candidateRuleCache.delete(d),c.stylesheetCache=null)}function Vc(c,d){let h=d.raws.tailwind.candidate;if(h){for(let y of c.ruleCache)y[1].raws.tailwind.candidate===h&&c.ruleCache.delete(y);Li(c,h)}}function oo(c,d=[],h=Rn.root()){let y={disposables:[],ruleCache:new Set,candidateRuleCache:new Map,classCache:new Map,applyClassCache:new Map,notClassCache:new Set(c.blocklist??[]),postCssNodeCache:new Map,candidateRuleMap:new Map,tailwindConfig:c,changedContent:d,variantMap:new Map,stylesheetCache:null,variantOptions:new Map,markInvalidUtilityCandidate:w=>Li(y,w),markInvalidUtilityNode:w=>Vc(y,w)},x=zc(y,h);return ao(x,y),y}function lo(c,d,h,y,x,w){let S=d.opts.from,E=y!==null;Os.DEBUG&&console.log("Source path:",S);let _;if(E&&wa.has(S))_=wa.get(S);else if(Bi.has(x)){let P=Bi.get(x);vs.get(P).add(S),wa.set(S,P),_=P}let T=Ui(S,c);if(_){let[P,M]=jt([...w],ys(_));if(!P&&!T)return[_,!1,M]}if(wa.has(S)){let P=wa.get(S);if(vs.has(P)&&(vs.get(P).delete(S),vs.get(P).size===0)){vs.delete(P);for(let[M,O]of Bi)O===P&&Bi.delete(M);for(let M of P.disposables.splice(0))M(P)}}Os.DEBUG&&console.log("Setting up new context...");let I=oo(h,[],c);Object.assign(I,{userConfigPath:y});let[,k]=jt([...w],ys(I));return Bi.set(x,I),wa.set(S,I),vs.has(I)||vs.set(I,new Set),vs.get(I).add(S),[I,!0,k]}var yp,Pn,fi,co,hl,pl,wa,Bi,vs,uo=v(()=>{L(),ce(),uc(),ds(),yp=U($h()),Pn=U(ii()),Xa(),ap(),Xo(),jn(),fr(),el(),za(),Ii(),ps(),ps(),qe(),je(),Re(),Us(),js(),ul(),Lc(),Vt(),ga(),fi=Symbol(),co={AddVariant:Symbol.for("ADD_VARIANT"),MatchVariant:Symbol.for("MATCH_VARIANT")},hl={Base:1,Dynamic:2},pl=new WeakMap,wa=li,Bi=Rd,vs=Cc});function vr(c){return c.ignore?[]:c.glob?F.env.ROLLUP_WATCH==="true"?[{type:"dependency",file:c.base}]:[{type:"dir-dependency",dir:c.base,glob:c.glob}]:[{type:"dependency",file:c.base}]}var zn=v(()=>{L()});function ml(c,d){return{handler:c,config:d}}var fo,Fc=v(()=>{L(),ml.withOptions=function(c,d=()=>({})){let h=function(y){return{__options:y,handler:c(y),config:d(y)}};return h.__isOptionsFunction=!0,h.__pluginFunction=c,h.__configFunction=d,h},fo=ml}),gl={};N(gl,{default:()=>Ls});var Ls,yl=v(()=>{L(),Fc(),Ls=fo}),Vd=p((c,d)=>{L();var h=(yl(),gl).default,y={overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical"},x=h(function({matchUtilities:w,addUtilities:S,theme:E,variants:_}){let T=E("lineClamp");w({"line-clamp":I=>({...y,"-webkit-line-clamp":`${I}`})},{values:T}),S([{".line-clamp-none":{"-webkit-line-clamp":"unset"}}],_("lineClamp"))},{theme:{lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"}},variants:{lineClamp:["responsive"]}});d.exports=x});function Hc(c){c.content.files.length===0&&Ue.warn("content-problems",["The `content` option in your Tailwind CSS configuration is missing or empty.","Configure your content sources or your generated CSS will be missing styles.","https://tailwindcss.com/docs/content-configuration"]);try{let d=Vd();c.plugins.includes(d)&&(Ue.warn("line-clamp-in-core",["As of Tailwind CSS v3.3, the `@tailwindcss/line-clamp` plugin is now included by default.","Remove it from the `plugins` array in your configuration to eliminate this warning."]),c.plugins=c.plugins.filter(h=>h!==d))}catch{}return c}var vp=v(()=>{L(),je()}),Fd,xp=v(()=>{L(),Fd=()=>!1}),vl,bp=v(()=>{L(),vl={sync:c=>[].concat(c),generateTasks:c=>[{dynamic:!1,base:".",negative:[],positive:[].concat(c),patterns:[].concat(c)}],escapePath:c=>c}}),Gc,Hd=v(()=>{L(),Gc=c=>c}),Gd,Jg=v(()=>{L(),Gd=()=>""});function wp(c){let d=c,h=Gd(c);return h!=="."&&(d=c.substr(h.length),d.charAt(0)==="/"&&(d=d.substr(1))),d.substr(0,2)==="./"?d=d.substr(2):d.charAt(0)==="/"&&(d=d.substr(1)),{base:h,glob:d}}var _p=v(()=>{L(),Jg()}),Yc=p(c=>{L(),c.isInteger=d=>typeof d=="number"?Number.isInteger(d):typeof d=="string"&&d.trim()!==""?Number.isInteger(Number(d)):!1,c.find=(d,h)=>d.nodes.find(y=>y.type===h),c.exceedsLimit=(d,h,y=1,x)=>x===!1||!c.isInteger(d)||!c.isInteger(h)?!1:(Number(h)-Number(d))/Number(y)>=x,c.escapeNode=(d,h=0,y)=>{let x=d.nodes[h];!x||(y&&x.type===y||x.type==="open"||x.type==="close")&&x.escaped!==!0&&(x.value="\\"+x.value,x.escaped=!0)},c.encloseBrace=d=>d.type!=="brace"?!1:d.commas>>0+d.ranges>>0==0?(d.invalid=!0,!0):!1,c.isInvalidBrace=d=>d.type!=="brace"?!1:d.invalid===!0||d.dollar?!0:d.commas>>0+d.ranges>>0==0||d.open!==!0||d.close!==!0?(d.invalid=!0,!0):!1,c.isOpenOrClose=d=>d.type==="open"||d.type==="close"?!0:d.open===!0||d.close===!0,c.reduce=d=>d.reduce((h,y)=>(y.type==="text"&&h.push(y.value),y.type==="range"&&(y.type="text"),h),[]),c.flatten=(...d)=>{let h=[],y=x=>{for(let w=0;w<x.length;w++){let S=x[w];if(Array.isArray(S)){y(S);continue}S!==void 0&&h.push(S)}return h};return y(d),h}}),xl=p((c,d)=>{L();var h=Yc();d.exports=(y,x={})=>{let w=(S,E={})=>{let _=x.escapeInvalid&&h.isInvalidBrace(E),T=S.invalid===!0&&x.escapeInvalid===!0,I="";if(S.value)return(_||T)&&h.isOpenOrClose(S)?"\\"+S.value:S.value;if(S.value)return S.value;if(S.nodes)for(let k of S.nodes)I+=w(k);return I};return w(y)}}),Sp=p((c,d)=>{L(),d.exports=function(h){return typeof h=="number"?h-h==0:typeof h=="string"&&h.trim()!==""?Number.isFinite?Number.isFinite(+h):isFinite(+h):!1}}),Ep=p((c,d)=>{L();var h=Sp(),y=($,G,Y)=>{if(h($)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(G===void 0||$===G)return String($);if(h(G)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let q={relaxZeros:!0,...Y};typeof q.strictZeros=="boolean"&&(q.relaxZeros=q.strictZeros===!1);let z=String(q.relaxZeros),J=String(q.shorthand),W=String(q.capture),Z=String(q.wrap),X=$+":"+G+"="+z+J+W+Z;if(y.cache.hasOwnProperty(X))return y.cache[X].result;let ne=Math.min($,G),Ve=Math.max($,G);if(Math.abs(ne-Ve)===1){let Xe=$+"|"+G;return q.capture?`(${Xe})`:q.wrap===!1?Xe:`(?:${Xe})`}let Be=B($)||B(G),Le={min:$,max:G,a:ne,b:Ve},_e=[],Ee=[];if(Be&&(Le.isPadded=Be,Le.maxLen=String(Le.max).length),ne<0){let Xe=Ve<0?Math.abs(Ve):1;Ee=E(Xe,Math.abs(ne),Le,q),ne=Le.a=0}return Ve>=0&&(_e=E(ne,Ve,Le,q)),Le.negatives=Ee,Le.positives=_e,Le.result=x(Ee,_e),q.capture===!0?Le.result=`(${Le.result})`:q.wrap!==!1&&_e.length+Ee.length>1&&(Le.result=`(?:${Le.result})`),y.cache[X]=Le,Le.result};function x($,G,Y){let q=_($,G,"-",!1)||[],z=_(G,$,"",!1)||[],J=_($,G,"-?",!0)||[];return q.concat(J).concat(z).join("|")}function w($,G){let Y=1,q=1,z=P($,Y),J=new Set([G]);for(;$<=z&&z<=G;)J.add(z),Y+=1,z=P($,Y);for(z=M(G+1,q)-1;$<z&&z<=G;)J.add(z),q+=1,z=M(G+1,q)-1;return J=[...J],J.sort(I),J}function S($,G,Y){if($===G)return{pattern:$,count:[],digits:0};let q=T($,G),z=q.length,J="",W=0;for(let Z=0;Z<z;Z++){let[X,ne]=q[Z];X===ne?J+=X:X!=="0"||ne!=="9"?J+=j(X,ne):W++}return W&&(J+=Y.shorthand===!0?"\\d":"[0-9]"),{pattern:J,count:[W],digits:z}}function E($,G,Y,q){let z=w($,G),J=[],W=$,Z;for(let X=0;X<z.length;X++){let ne=z[X],Ve=S(String(W),String(ne),q),Be="";if(!Y.isPadded&&Z&&Z.pattern===Ve.pattern){Z.count.length>1&&Z.count.pop(),Z.count.push(Ve.count[0]),Z.string=Z.pattern+O(Z.count),W=ne+1;continue}Y.isPadded&&(Be=V(ne,Y,q)),Ve.string=Be+Ve.pattern+O(Ve.count),J.push(Ve),W=ne+1,Z=Ve}return J}function _($,G,Y,q,z){let J=[];for(let W of $){let{string:Z}=W;!q&&!k(G,"string",Z)&&J.push(Y+Z),q&&k(G,"string",Z)&&J.push(Y+Z)}return J}function T($,G){let Y=[];for(let q=0;q<$.length;q++)Y.push([$[q],G[q]]);return Y}function I($,G){return $>G?1:G>$?-1:0}function k($,G,Y){return $.some(q=>q[G]===Y)}function P($,G){return Number(String($).slice(0,-G)+"9".repeat(G))}function M($,G){return $-$%Math.pow(10,G)}function O($){let[G=0,Y=""]=$;return Y||G>1?`{${G+(Y?","+Y:"")}}`:""}function j($,G,Y){return`[${$}${G-$==1?"":"-"}${G}]`}function B($){return/^-?(0+)\d/.test($)}function V($,G,Y){if(!G.isPadded)return $;let q=Math.abs(G.maxLen-String($).length),z=Y.relaxZeros!==!1;switch(q){case 0:return"";case 1:return z?"0?":"0";case 2:return z?"0{0,2}":"00";default:return z?`0{0,${q}}`:`0{${q}}`}}y.cache={},y.clearCache=()=>y.cache={},d.exports=y}),Yd=p((c,d)=>{L();var h=(yc(),Qa),y=Ep(),x=q=>q!==null&&typeof q=="object"&&!Array.isArray(q),w=q=>z=>q===!0?Number(z):String(z),S=q=>typeof q=="number"||typeof q=="string"&&q!=="",E=q=>Number.isInteger(+q),_=q=>{let z=`${q}`,J=-1;if(z[0]==="-"&&(z=z.slice(1)),z==="0")return!1;for(;z[++J]==="0";);return J>0},T=(q,z,J)=>typeof q=="string"||typeof z=="string"?!0:J.stringify===!0,I=(q,z,J)=>{if(z>0){let W=q[0]==="-"?"-":"";W&&(q=q.slice(1)),q=W+q.padStart(W?z-1:z,"0")}return J===!1?String(q):q},k=(q,z)=>{let J=q[0]==="-"?"-":"";for(J&&(q=q.slice(1),z--);q.length<z;)q="0"+q;return J?"-"+q:q},P=(q,z,J)=>{q.negatives.sort((Ve,Be)=>Ve<Be?-1:Ve>Be?1:0),q.positives.sort((Ve,Be)=>Ve<Be?-1:Ve>Be?1:0);let W=z.capture?"":"?:",Z="",X="",ne;return q.positives.length&&(Z=q.positives.map(Ve=>k(String(Ve),J)).join("|")),q.negatives.length&&(X=`-(${W}${q.negatives.map(Ve=>k(String(Ve),J)).join("|")})`),Z&&X?ne=`${Z}|${X}`:ne=Z||X,z.wrap?`(${W}${ne})`:ne},M=(q,z,J,W)=>{if(J)return y(q,z,{wrap:!1,...W});let Z=String.fromCharCode(q);if(q===z)return Z;let X=String.fromCharCode(z);return`[${Z}-${X}]`},O=(q,z,J)=>{if(Array.isArray(q)){let W=J.wrap===!0,Z=J.capture?"":"?:";return W?`(${Z}${q.join("|")})`:q.join("|")}return y(q,z,J)},j=(...q)=>new RangeError("Invalid range arguments: "+h.inspect(...q)),B=(q,z,J)=>{if(J.strictRanges===!0)throw j([q,z]);return[]},V=(q,z)=>{if(z.strictRanges===!0)throw new TypeError(`Expected step "${q}" to be a number`);return[]},$=(q,z,J=1,W={})=>{let Z=Number(q),X=Number(z);if(!Number.isInteger(Z)||!Number.isInteger(X)){if(W.strictRanges===!0)throw j([q,z]);return[]}Z===0&&(Z=0),X===0&&(X=0);let ne=Z>X,Ve=String(q),Be=String(z),Le=String(J);J=Math.max(Math.abs(J),1);let _e=_(Ve)||_(Be)||_(Le),Ee=_e?Math.max(Ve.length,Be.length,Le.length):0,Xe=_e===!1&&T(q,z,W)===!1,Je=W.transform||w(Xe);if(W.toRegex&&J===1)return M(k(q,Ee),k(z,Ee),!0,W);let ft={negatives:[],positives:[]},St=oe=>ft[oe<0?"negatives":"positives"].push(Math.abs(oe)),Qe=[],Ze=0;for(;ne?Z>=X:Z<=X;)W.toRegex===!0&&J>1?St(Z):Qe.push(I(Je(Z,Ze),Ee,Xe)),Z=ne?Z-J:Z+J,Ze++;return W.toRegex===!0?J>1?P(ft,W,Ee):O(Qe,null,{wrap:!1,...W}):Qe},G=(q,z,J=1,W={})=>{if(!E(q)&&q.length>1||!E(z)&&z.length>1)return B(q,z,W);let Z=W.transform||(Xe=>String.fromCharCode(Xe)),X=`${q}`.charCodeAt(0),ne=`${z}`.charCodeAt(0),Ve=X>ne,Be=Math.min(X,ne),Le=Math.max(X,ne);if(W.toRegex&&J===1)return M(Be,Le,!1,W);let _e=[],Ee=0;for(;Ve?X>=ne:X<=ne;)_e.push(Z(X,Ee)),X=Ve?X-J:X+J,Ee++;return W.toRegex===!0?O(_e,null,{wrap:!1,options:W}):_e},Y=(q,z,J,W={})=>{if(z==null&&S(q))return[q];if(!S(q)||!S(z))return B(q,z,W);if(typeof J=="function")return Y(q,z,1,{transform:J});if(x(J))return Y(q,z,0,J);let Z={...W};return Z.capture===!0&&(Z.wrap=!0),J=J||Z.step||1,E(J)?E(q)&&E(z)?$(q,z,J,Z):G(q,z,Math.max(Math.abs(J),1),Z):J!=null&&!x(J)?V(J,Z):Y(q,z,1,J)};d.exports=Y}),Cp=p((c,d)=>{L();var h=Yd(),y=Yc(),x=(w,S={})=>{let E=(_,T={})=>{let I=y.isInvalidBrace(T),k=_.invalid===!0&&S.escapeInvalid===!0,P=I===!0||k===!0,M=S.escapeInvalid===!0?"\\":"",O="";if(_.isOpen===!0)return M+_.value;if(_.isClose===!0)return console.log("node.isClose",M,_.value),M+_.value;if(_.type==="open")return P?M+_.value:"(";if(_.type==="close")return P?M+_.value:")";if(_.type==="comma")return _.prev.type==="comma"?"":P?_.value:"|";if(_.value)return _.value;if(_.nodes&&_.ranges>0){let j=y.reduce(_.nodes),B=h(...j,{...S,wrap:!1,toRegex:!0,strictZeros:!0});if(B.length!==0)return j.length>1&&B.length>1?`(${B})`:B}if(_.nodes)for(let j of _.nodes)O+=E(j,_);return O};return E(w)};d.exports=x}),Tp=p((c,d)=>{L();var h=Yd(),y=xl(),x=Yc(),w=(E="",_="",T=!1)=>{let I=[];if(E=[].concat(E),_=[].concat(_),!_.length)return E;if(!E.length)return T?x.flatten(_).map(k=>`{${k}}`):_;for(let k of E)if(Array.isArray(k))for(let P of k)I.push(w(P,_,T));else for(let P of _)T===!0&&typeof P=="string"&&(P=`{${P}}`),I.push(Array.isArray(P)?w(k,P,T):k+P);return x.flatten(I)},S=(E,_={})=>{let T=_.rangeLimit===void 0?1e3:_.rangeLimit,I=(k,P={})=>{k.queue=[];let M=P,O=P.queue;for(;M.type!=="brace"&&M.type!=="root"&&M.parent;)M=M.parent,O=M.queue;if(k.invalid||k.dollar){O.push(w(O.pop(),y(k,_)));return}if(k.type==="brace"&&k.invalid!==!0&&k.nodes.length===2){O.push(w(O.pop(),["{}"]));return}if(k.nodes&&k.ranges>0){let $=x.reduce(k.nodes);if(x.exceedsLimit(...$,_.step,T))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let G=h(...$,_);G.length===0&&(G=y(k,_)),O.push(w(O.pop(),G)),k.nodes=[];return}let j=x.encloseBrace(k),B=k.queue,V=k;for(;V.type!=="brace"&&V.type!=="root"&&V.parent;)V=V.parent,B=V.queue;for(let $=0;$<k.nodes.length;$++){let G=k.nodes[$];if(G.type==="comma"&&k.type==="brace"){$===1&&B.push(""),B.push("");continue}if(G.type==="close"){O.push(w(O.pop(),B,j));continue}if(G.value&&G.type!=="open"){B.push(w(B.pop(),G.value));continue}G.nodes&&I(G,k)}return B};return x.flatten(I(E))};d.exports=S}),Kg=p((c,d)=>{L(),d.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}}),Ap=p((c,d)=>{L();var h=xl(),{MAX_LENGTH:y,CHAR_BACKSLASH:x,CHAR_BACKTICK:w,CHAR_COMMA:S,CHAR_DOT:E,CHAR_LEFT_PARENTHESES:_,CHAR_RIGHT_PARENTHESES:T,CHAR_LEFT_CURLY_BRACE:I,CHAR_RIGHT_CURLY_BRACE:k,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_RIGHT_SQUARE_BRACKET:M,CHAR_DOUBLE_QUOTE:O,CHAR_SINGLE_QUOTE:j,CHAR_NO_BREAK_SPACE:B,CHAR_ZERO_WIDTH_NOBREAK_SPACE:V}=Kg(),$=(G,Y={})=>{if(typeof G!="string")throw new TypeError("Expected a string");let q=Y||{},z=typeof q.maxLength=="number"?Math.min(y,q.maxLength):y;if(G.length>z)throw new SyntaxError(`Input length (${G.length}), exceeds max characters (${z})`);let J={type:"root",input:G,nodes:[]},W=[J],Z=J,X=J,ne=0,Ve=G.length,Be=0,Le=0,_e,Ee=()=>G[Be++],Xe=Je=>{if(Je.type==="text"&&X.type==="dot"&&(X.type="text"),X&&X.type==="text"&&Je.type==="text"){X.value+=Je.value;return}return Z.nodes.push(Je),Je.parent=Z,Je.prev=X,X=Je,Je};for(Xe({type:"bos"});Be<Ve;)if(Z=W[W.length-1],_e=Ee(),!(_e===V||_e===B)){if(_e===x){Xe({type:"text",value:(Y.keepEscaping?_e:"")+Ee()});continue}if(_e===M){Xe({type:"text",value:"\\"+_e});continue}if(_e===P){ne++;let Je;for(;Be<Ve&&(Je=Ee());){if(_e+=Je,Je===P){ne++;continue}if(Je===x){_e+=Ee();continue}if(Je===M&&(ne--,ne===0))break}Xe({type:"text",value:_e});continue}if(_e===_){Z=Xe({type:"paren",nodes:[]}),W.push(Z),Xe({type:"text",value:_e});continue}if(_e===T){if(Z.type!=="paren"){Xe({type:"text",value:_e});continue}Z=W.pop(),Xe({type:"text",value:_e}),Z=W[W.length-1];continue}if(_e===O||_e===j||_e===w){let Je=_e,ft;for(Y.keepQuotes!==!0&&(_e="");Be<Ve&&(ft=Ee());){if(ft===x){_e+=ft+Ee();continue}if(ft===Je){Y.keepQuotes===!0&&(_e+=ft);break}_e+=ft}Xe({type:"text",value:_e});continue}if(_e===I){Le++;let Je=X.value&&X.value.slice(-1)==="$"||Z.dollar===!0;Z=Xe({type:"brace",open:!0,close:!1,dollar:Je,depth:Le,commas:0,ranges:0,nodes:[]}),W.push(Z),Xe({type:"open",value:_e});continue}if(_e===k){if(Z.type!=="brace"){Xe({type:"text",value:_e});continue}let Je="close";Z=W.pop(),Z.close=!0,Xe({type:Je,value:_e}),Le--,Z=W[W.length-1];continue}if(_e===S&&Le>0){if(Z.ranges>0){Z.ranges=0;let Je=Z.nodes.shift();Z.nodes=[Je,{type:"text",value:h(Z)}]}Xe({type:"comma",value:_e}),Z.commas++;continue}if(_e===E&&Le>0&&Z.commas===0){let Je=Z.nodes;if(Le===0||Je.length===0){Xe({type:"text",value:_e});continue}if(X.type==="dot"){if(Z.range=[],X.value+=_e,X.type="range",Z.nodes.length!==3&&Z.nodes.length!==5){Z.invalid=!0,Z.ranges=0,X.type="text";continue}Z.ranges++,Z.args=[];continue}if(X.type==="range"){Je.pop();let ft=Je[Je.length-1];ft.value+=X.value+_e,X=ft,Z.ranges--;continue}Xe({type:"dot",value:_e});continue}Xe({type:"text",value:_e})}do if(Z=W.pop(),Z.type!=="root"){Z.nodes.forEach(St=>{St.nodes||(St.type==="open"&&(St.isOpen=!0),St.type==="close"&&(St.isClose=!0),St.nodes||(St.type="text"),St.invalid=!0)});let Je=W[W.length-1],ft=Je.nodes.indexOf(Z);Je.nodes.splice(ft,1,...Z.nodes)}while(W.length>0);return Xe({type:"eos"}),J};d.exports=$}),ho=p((c,d)=>{L();var h=xl(),y=Cp(),x=Tp(),w=Ap(),S=(E,_={})=>{let T=[];if(Array.isArray(E))for(let I of E){let k=S.create(I,_);Array.isArray(k)?T.push(...k):T.push(k)}else T=[].concat(S.create(E,_));return _&&_.expand===!0&&_.nodupes===!0&&(T=[...new Set(T)]),T};S.parse=(E,_={})=>w(E,_),S.stringify=(E,_={})=>h(typeof E=="string"?S.parse(E,_):E,_),S.compile=(E,_={})=>(typeof E=="string"&&(E=S.parse(E,_)),y(E,_)),S.expand=(E,_={})=>{typeof E=="string"&&(E=S.parse(E,_));let T=x(E,_);return _.noempty===!0&&(T=T.filter(Boolean)),_.nodupes===!0&&(T=[...new Set(T)]),T},S.create=(E,_={})=>E===""||E.length<3?[E]:_.expand!==!0?S.compile(E,_):S.expand(E,_),d.exports=S}),bl=p((c,d)=>{L();var h=(Ps(),ra),y="\\\\/",x=`[^${y}]`,w="\\.",S="\\+",E="\\?",_="\\/",T="(?=.)",I="[^/]",k=`(?:${_}|$)`,P=`(?:^|${_})`,M=`${w}{1,2}${k}`,O=`(?!${w})`,j=`(?!${P}${M})`,B=`(?!${w}{0,1}${k})`,V=`(?!${M})`,$=`[^.${_}]`,G=`${I}*?`,Y={DOT_LITERAL:w,PLUS_LITERAL:S,QMARK_LITERAL:E,SLASH_LITERAL:_,ONE_CHAR:T,QMARK:I,END_ANCHOR:k,DOTS_SLASH:M,NO_DOT:O,NO_DOTS:j,NO_DOT_SLASH:B,NO_DOTS_SLASH:V,QMARK_NO_DOT:$,STAR:G,START_ANCHOR:P},q={...Y,SLASH_LITERAL:`[${y}]`,QMARK:x,STAR:`${x}*?`,DOTS_SLASH:`${w}{1,2}(?:[${y}]|$)`,NO_DOT:`(?!${w})`,NO_DOTS:`(?!(?:^|[${y}])${w}{1,2}(?:[${y}]|$))`,NO_DOT_SLASH:`(?!${w}{0,1}(?:[${y}]|$))`,NO_DOTS_SLASH:`(?!${w}{1,2}(?:[${y}]|$))`,QMARK_NO_DOT:`[^.${y}]`,START_ANCHOR:`(?:^|[${y}])`,END_ANCHOR:`(?:[${y}]|$)`},z={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};d.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:z,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:h.sep,extglobChars(J){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${J.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(J){return J===!0?q:Y}}}),_a=p(c=>{L();var d=(Ps(),ra),h=F.platform==="win32",{REGEX_BACKSLASH:y,REGEX_REMOVE_BACKSLASH:x,REGEX_SPECIAL_CHARS:w,REGEX_SPECIAL_CHARS_GLOBAL:S}=bl();c.isObject=E=>E!==null&&typeof E=="object"&&!Array.isArray(E),c.hasRegexChars=E=>w.test(E),c.isRegexChar=E=>E.length===1&&c.hasRegexChars(E),c.escapeRegex=E=>E.replace(S,"\\$1"),c.toPosixSlashes=E=>E.replace(y,"/"),c.removeBackslashes=E=>E.replace(x,_=>_==="\\"?"":_),c.supportsLookbehinds=()=>{let E=F.version.slice(1).split(".").map(Number);return E.length===3&&E[0]>=9||E[0]===8&&E[1]>=10},c.isWindows=E=>E&&typeof E.windows=="boolean"?E.windows:h===!0||d.sep==="\\",c.escapeLast=(E,_,T)=>{let I=E.lastIndexOf(_,T);return I===-1?E:E[I-1]==="\\"?c.escapeLast(E,_,I-1):`${E.slice(0,I)}\\${E.slice(I)}`},c.removePrefix=(E,_={})=>{let T=E;return T.startsWith("./")&&(T=T.slice(2),_.prefix="./"),T},c.wrapOutput=(E,_={},T={})=>{let I=T.contains?"":"^",k=T.contains?"":"$",P=`${I}(?:${E})${k}`;return _.negated===!0&&(P=`(?:^(?!${P}).*$)`),P}}),Jc=p((c,d)=>{L();var h=_a(),{CHAR_ASTERISK:y,CHAR_AT:x,CHAR_BACKWARD_SLASH:w,CHAR_COMMA:S,CHAR_DOT:E,CHAR_EXCLAMATION_MARK:_,CHAR_FORWARD_SLASH:T,CHAR_LEFT_CURLY_BRACE:I,CHAR_LEFT_PARENTHESES:k,CHAR_LEFT_SQUARE_BRACKET:P,CHAR_PLUS:M,CHAR_QUESTION_MARK:O,CHAR_RIGHT_CURLY_BRACE:j,CHAR_RIGHT_PARENTHESES:B,CHAR_RIGHT_SQUARE_BRACKET:V}=bl(),$=q=>q===T||q===w,G=q=>{q.isPrefix!==!0&&(q.depth=q.isGlobstar?1/0:1)},Y=(q,z)=>{let J=z||{},W=q.length-1,Z=J.parts===!0||J.scanToEnd===!0,X=[],ne=[],Ve=[],Be=q,Le=-1,_e=0,Ee=0,Xe=!1,Je=!1,ft=!1,St=!1,Qe=!1,Ze=!1,oe=!1,be=!1,bt=!1,Ae=!1,xe=0,Te,rt,We={value:"",depth:0,isGlob:!1},Ut=()=>Le>=W,qt=()=>Be.charCodeAt(Le+1),st=()=>(Te=rt,Be.charCodeAt(++Le));for(;Le<W;){rt=st();let lt;if(rt===w){oe=We.backslashes=!0,rt=st(),rt===I&&(Ze=!0);continue}if(Ze===!0||rt===I){for(xe++;Ut()!==!0&&(rt=st());){if(rt===w){oe=We.backslashes=!0,st();continue}if(rt===I){xe++;continue}if(Ze!==!0&&rt===E&&(rt=st())===E){if(Xe=We.isBrace=!0,ft=We.isGlob=!0,Ae=!0,Z===!0)continue;break}if(Ze!==!0&&rt===S){if(Xe=We.isBrace=!0,ft=We.isGlob=!0,Ae=!0,Z===!0)continue;break}if(rt===j&&(xe--,xe===0)){Ze=!1,Xe=We.isBrace=!0,Ae=!0;break}}if(Z===!0)continue;break}if(rt===T){if(X.push(Le),ne.push(We),We={value:"",depth:0,isGlob:!1},Ae===!0)continue;if(Te===E&&Le===_e+1){_e+=2;continue}Ee=Le+1;continue}if(J.noext!==!0&&(rt===M||rt===x||rt===y||rt===O||rt===_)&&qt()===k){if(ft=We.isGlob=!0,St=We.isExtglob=!0,Ae=!0,rt===_&&Le===_e&&(bt=!0),Z===!0){for(;Ut()!==!0&&(rt=st());){if(rt===w){oe=We.backslashes=!0,rt=st();continue}if(rt===B){ft=We.isGlob=!0,Ae=!0;break}}continue}break}if(rt===y){if(Te===y&&(Qe=We.isGlobstar=!0),ft=We.isGlob=!0,Ae=!0,Z===!0)continue;break}if(rt===O){if(ft=We.isGlob=!0,Ae=!0,Z===!0)continue;break}if(rt===P){for(;Ut()!==!0&&(lt=st());){if(lt===w){oe=We.backslashes=!0,st();continue}if(lt===V){Je=We.isBracket=!0,ft=We.isGlob=!0,Ae=!0;break}}if(Z===!0)continue;break}if(J.nonegate!==!0&&rt===_&&Le===_e){be=We.negated=!0,_e++;continue}if(J.noparen!==!0&&rt===k){if(ft=We.isGlob=!0,Z===!0){for(;Ut()!==!0&&(rt=st());){if(rt===k){oe=We.backslashes=!0,rt=st();continue}if(rt===B){Ae=!0;break}}continue}break}if(ft===!0){if(Ae=!0,Z===!0)continue;break}}J.noext===!0&&(St=!1,ft=!1);let Ct=Be,ar="",Mn="";_e>0&&(ar=Be.slice(0,_e),Be=Be.slice(_e),Ee-=_e),Ct&&ft===!0&&Ee>0?(Ct=Be.slice(0,Ee),Mn=Be.slice(Ee)):ft===!0?(Ct="",Mn=Be):Ct=Be,Ct&&Ct!==""&&Ct!=="/"&&Ct!==Be&&$(Ct.charCodeAt(Ct.length-1))&&(Ct=Ct.slice(0,-1)),J.unescape===!0&&(Mn&&(Mn=h.removeBackslashes(Mn)),Ct&&oe===!0&&(Ct=h.removeBackslashes(Ct)));let Wt={prefix:ar,input:q,start:_e,base:Ct,glob:Mn,isBrace:Xe,isBracket:Je,isGlob:ft,isExtglob:St,isGlobstar:Qe,negated:be,negatedExtglob:bt};if(J.tokens===!0&&(Wt.maxDepth=0,$(rt)||ne.push(We),Wt.tokens=ne),J.parts===!0||J.tokens===!0){let lt;for(let on=0;on<X.length;on++){let Jn=lt?lt+1:_e,et=X[on],$t=q.slice(Jn,et);J.tokens&&(on===0&&_e!==0?(ne[on].isPrefix=!0,ne[on].value=ar):ne[on].value=$t,G(ne[on]),Wt.maxDepth+=ne[on].depth),(on!==0||$t!=="")&&Ve.push($t),lt=et}if(lt&&lt+1<q.length){let on=q.slice(lt+1);Ve.push(on),J.tokens&&(ne[ne.length-1].value=on,G(ne[ne.length-1]),Wt.maxDepth+=ne[ne.length-1].depth)}Wt.slashes=X,Wt.parts=Ve}return Wt};d.exports=Y}),Np=p((c,d)=>{L();var h=bl(),y=_a(),{MAX_LENGTH:x,POSIX_REGEX_SOURCE:w,REGEX_NON_SPECIAL_CHARS:S,REGEX_SPECIAL_CHARS_BACKREF:E,REPLACEMENTS:_}=h,T=(P,M)=>{if(typeof M.expandRange=="function")return M.expandRange(...P,M);P.sort();let O=`[${P.join("-")}]`;try{new RegExp(O)}catch{return P.map(B=>y.escapeRegex(B)).join("..")}return O},I=(P,M)=>`Missing ${P}: "${M}" - use "\\\\${M}" to match literal characters`,k=(P,M)=>{if(typeof P!="string")throw new TypeError("Expected a string");P=_[P]||P;let O={...M},j=typeof O.maxLength=="number"?Math.min(x,O.maxLength):x,B=P.length;if(B>j)throw new SyntaxError(`Input length: ${B}, exceeds maximum allowed length: ${j}`);let V={type:"bos",value:"",output:O.prepend||""},$=[V],G=O.capture?"":"?:",Y=y.isWindows(M),q=h.globChars(Y),z=h.extglobChars(q),{DOT_LITERAL:J,PLUS_LITERAL:W,SLASH_LITERAL:Z,ONE_CHAR:X,DOTS_SLASH:ne,NO_DOT:Ve,NO_DOT_SLASH:Be,NO_DOTS_SLASH:Le,QMARK:_e,QMARK_NO_DOT:Ee,STAR:Xe,START_ANCHOR:Je}=q,ft=et=>`(${G}(?:(?!${Je}${et.dot?ne:J}).)*?)`,St=O.dot?"":Ve,Qe=O.dot?_e:Ee,Ze=O.bash===!0?ft(O):Xe;O.capture&&(Ze=`(${Ze})`),typeof O.noext=="boolean"&&(O.noextglob=O.noext);let oe={input:P,index:-1,start:0,dot:O.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:$};P=y.removePrefix(P,oe),B=P.length;let be=[],bt=[],Ae=[],xe=V,Te,rt=()=>oe.index===B-1,We=oe.peek=(et=1)=>P[oe.index+et],Ut=oe.advance=()=>P[++oe.index]||"",qt=()=>P.slice(oe.index+1),st=(et="",$t=0)=>{oe.consumed+=et,oe.index+=$t},Ct=et=>{oe.output+=et.output!=null?et.output:et.value,st(et.value)},ar=()=>{let et=1;for(;We()==="!"&&(We(2)!=="("||We(3)==="?");)Ut(),oe.start++,et++;return et%2==0?!1:(oe.negated=!0,oe.start++,!0)},Mn=et=>{oe[et]++,Ae.push(et)},Wt=et=>{oe[et]--,Ae.pop()},lt=et=>{if(xe.type==="globstar"){let $t=oe.braces>0&&(et.type==="comma"||et.type==="brace"),Ke=et.extglob===!0||be.length&&(et.type==="pipe"||et.type==="paren");et.type!=="slash"&&et.type!=="paren"&&!$t&&!Ke&&(oe.output=oe.output.slice(0,-xe.output.length),xe.type="star",xe.value="*",xe.output=Ze,oe.output+=xe.output)}if(be.length&&et.type!=="paren"&&(be[be.length-1].inner+=et.value),(et.value||et.output)&&Ct(et),xe&&xe.type==="text"&&et.type==="text"){xe.value+=et.value,xe.output=(xe.output||"")+et.value;return}et.prev=xe,$.push(et),xe=et},on=(et,$t)=>{let Ke={...z[$t],conditions:1,inner:""};Ke.prev=xe,Ke.parens=oe.parens,Ke.output=oe.output;let Dt=(O.capture?"(":"")+Ke.open;Mn("parens"),lt({type:et,value:$t,output:oe.output?"":X}),lt({type:"paren",extglob:!0,value:Ut(),output:Dt}),be.push(Ke)},Jn=et=>{let $t=et.close+(O.capture?")":""),Ke;if(et.type==="negate"){let Dt=Ze;if(et.inner&&et.inner.length>1&&et.inner.includes("/")&&(Dt=ft(O)),(Dt!==Ze||rt()||/^\)+$/.test(qt()))&&($t=et.close=`)$))${Dt}`),et.inner.includes("*")&&(Ke=qt())&&/^\.[^\\/.]+$/.test(Ke)){let In=k(Ke,{...M,fastpaths:!1}).output;$t=et.close=`)${In})${Dt})`}et.prev.type==="bos"&&(oe.negatedExtglob=!0)}lt({type:"paren",extglob:!0,value:Te,output:$t}),Wt("parens")};if(O.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(P)){let et=!1,$t=P.replace(E,(Ke,Dt,In,er,On,ka)=>er==="\\"?(et=!0,Ke):er==="?"?Dt?Dt+er+(On?_e.repeat(On.length):""):ka===0?Qe+(On?_e.repeat(On.length):""):_e.repeat(In.length):er==="."?J.repeat(In.length):er==="*"?Dt?Dt+er+(On?Ze:""):Ze:Dt?Ke:`\\${Ke}`);return et===!0&&(O.unescape===!0?$t=$t.replace(/\\/g,""):$t=$t.replace(/\\+/g,Ke=>Ke.length%2==0?"\\\\":Ke?"\\":"")),$t===P&&O.contains===!0?(oe.output=P,oe):(oe.output=y.wrapOutput($t,oe,M),oe)}for(;!rt();){if(Te=Ut(),Te==="\0")continue;if(Te==="\\"){let Ke=We();if(Ke==="/"&&O.bash!==!0||Ke==="."||Ke===";")continue;if(!Ke){Te+="\\",lt({type:"text",value:Te});continue}let Dt=/^\\+/.exec(qt()),In=0;if(Dt&&Dt[0].length>2&&(In=Dt[0].length,oe.index+=In,In%2!=0&&(Te+="\\")),O.unescape===!0?Te=Ut():Te+=Ut(),oe.brackets===0){lt({type:"text",value:Te});continue}}if(oe.brackets>0&&(Te!=="]"||xe.value==="["||xe.value==="[^")){if(O.posix!==!1&&Te===":"){let Ke=xe.value.slice(1);if(Ke.includes("[")&&(xe.posix=!0,Ke.includes(":"))){let Dt=xe.value.lastIndexOf("["),In=xe.value.slice(0,Dt),er=xe.value.slice(Dt+2),On=w[er];if(On){xe.value=In+On,oe.backtrack=!0,Ut(),!V.output&&$.indexOf(xe)===1&&(V.output=X);continue}}}(Te==="["&&We()!==":"||Te==="-"&&We()==="]")&&(Te=`\\${Te}`),Te==="]"&&(xe.value==="["||xe.value==="[^")&&(Te=`\\${Te}`),O.posix===!0&&Te==="!"&&xe.value==="["&&(Te="^"),xe.value+=Te,Ct({value:Te});continue}if(oe.quotes===1&&Te!=='"'){Te=y.escapeRegex(Te),xe.value+=Te,Ct({value:Te});continue}if(Te==='"'){oe.quotes=oe.quotes===1?0:1,O.keepQuotes===!0&&lt({type:"text",value:Te});continue}if(Te==="("){Mn("parens"),lt({type:"paren",value:Te});continue}if(Te===")"){if(oe.parens===0&&O.strictBrackets===!0)throw new SyntaxError(I("opening","("));let Ke=be[be.length-1];if(Ke&&oe.parens===Ke.parens+1){Jn(be.pop());continue}lt({type:"paren",value:Te,output:oe.parens?")":"\\)"}),Wt("parens");continue}if(Te==="["){if(O.nobracket===!0||!qt().includes("]")){if(O.nobracket!==!0&&O.strictBrackets===!0)throw new SyntaxError(I("closing","]"));Te=`\\${Te}`}else Mn("brackets");lt({type:"bracket",value:Te});continue}if(Te==="]"){if(O.nobracket===!0||xe&&xe.type==="bracket"&&xe.value.length===1){lt({type:"text",value:Te,output:`\\${Te}`});continue}if(oe.brackets===0){if(O.strictBrackets===!0)throw new SyntaxError(I("opening","["));lt({type:"text",value:Te,output:`\\${Te}`});continue}Wt("brackets");let Ke=xe.value.slice(1);if(xe.posix!==!0&&Ke[0]==="^"&&!Ke.includes("/")&&(Te=`/${Te}`),xe.value+=Te,Ct({value:Te}),O.literalBrackets===!1||y.hasRegexChars(Ke))continue;let Dt=y.escapeRegex(xe.value);if(oe.output=oe.output.slice(0,-xe.value.length),O.literalBrackets===!0){oe.output+=Dt,xe.value=Dt;continue}xe.value=`(${G}${Dt}|${xe.value})`,oe.output+=xe.value;continue}if(Te==="{"&&O.nobrace!==!0){Mn("braces");let Ke={type:"brace",value:Te,output:"(",outputIndex:oe.output.length,tokensIndex:oe.tokens.length};bt.push(Ke),lt(Ke);continue}if(Te==="}"){let Ke=bt[bt.length-1];if(O.nobrace===!0||!Ke){lt({type:"text",value:Te,output:Te});continue}let Dt=")";if(Ke.dots===!0){let In=$.slice(),er=[];for(let On=In.length-1;On>=0&&($.pop(),In[On].type!=="brace");On--)In[On].type!=="dots"&&er.unshift(In[On].value);Dt=T(er,O),oe.backtrack=!0}if(Ke.comma!==!0&&Ke.dots!==!0){let In=oe.output.slice(0,Ke.outputIndex),er=oe.tokens.slice(Ke.tokensIndex);Ke.value=Ke.output="\\{",Te=Dt="\\}",oe.output=In;for(let On of er)oe.output+=On.output||On.value}lt({type:"brace",value:Te,output:Dt}),Wt("braces"),bt.pop();continue}if(Te==="|"){be.length>0&&be[be.length-1].conditions++,lt({type:"text",value:Te});continue}if(Te===","){let Ke=Te,Dt=bt[bt.length-1];Dt&&Ae[Ae.length-1]==="braces"&&(Dt.comma=!0,Ke="|"),lt({type:"comma",value:Te,output:Ke});continue}if(Te==="/"){if(xe.type==="dot"&&oe.index===oe.start+1){oe.start=oe.index+1,oe.consumed="",oe.output="",$.pop(),xe=V;continue}lt({type:"slash",value:Te,output:Z});continue}if(Te==="."){if(oe.braces>0&&xe.type==="dot"){xe.value==="."&&(xe.output=J);let Ke=bt[bt.length-1];xe.type="dots",xe.output+=Te,xe.value+=Te,Ke.dots=!0;continue}if(oe.braces+oe.parens===0&&xe.type!=="bos"&&xe.type!=="slash"){lt({type:"text",value:Te,output:J});continue}lt({type:"dot",value:Te,output:J});continue}if(Te==="?"){if(!(xe&&xe.value==="(")&&O.noextglob!==!0&&We()==="("&&We(2)!=="?"){on("qmark",Te);continue}if(xe&&xe.type==="paren"){let Ke=We(),Dt=Te;if(Ke==="<"&&!y.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(xe.value==="("&&!/[!=<:]/.test(Ke)||Ke==="<"&&!/<([!=]|\w+>)/.test(qt()))&&(Dt=`\\${Te}`),lt({type:"text",value:Te,output:Dt});continue}if(O.dot!==!0&&(xe.type==="slash"||xe.type==="bos")){lt({type:"qmark",value:Te,output:Ee});continue}lt({type:"qmark",value:Te,output:_e});continue}if(Te==="!"){if(O.noextglob!==!0&&We()==="("&&(We(2)!=="?"||!/[!=<:]/.test(We(3)))){on("negate",Te);continue}if(O.nonegate!==!0&&oe.index===0){ar();continue}}if(Te==="+"){if(O.noextglob!==!0&&We()==="("&&We(2)!=="?"){on("plus",Te);continue}if(xe&&xe.value==="("||O.regex===!1){lt({type:"plus",value:Te,output:W});continue}if(xe&&(xe.type==="bracket"||xe.type==="paren"||xe.type==="brace")||oe.parens>0){lt({type:"plus",value:Te});continue}lt({type:"plus",value:W});continue}if(Te==="@"){if(O.noextglob!==!0&&We()==="("&&We(2)!=="?"){lt({type:"at",extglob:!0,value:Te,output:""});continue}lt({type:"text",value:Te});continue}if(Te!=="*"){(Te==="$"||Te==="^")&&(Te=`\\${Te}`);let Ke=S.exec(qt());Ke&&(Te+=Ke[0],oe.index+=Ke[0].length),lt({type:"text",value:Te});continue}if(xe&&(xe.type==="globstar"||xe.star===!0)){xe.type="star",xe.star=!0,xe.value+=Te,xe.output=Ze,oe.backtrack=!0,oe.globstar=!0,st(Te);continue}let et=qt();if(O.noextglob!==!0&&/^\([^?]/.test(et)){on("star",Te);continue}if(xe.type==="star"){if(O.noglobstar===!0){st(Te);continue}let Ke=xe.prev,Dt=Ke.prev,In=Ke.type==="slash"||Ke.type==="bos",er=Dt&&(Dt.type==="star"||Dt.type==="globstar");if(O.bash===!0&&(!In||et[0]&&et[0]!=="/")){lt({type:"star",value:Te,output:""});continue}let On=oe.braces>0&&(Ke.type==="comma"||Ke.type==="brace"),ka=be.length&&(Ke.type==="pipe"||Ke.type==="paren");if(!In&&Ke.type!=="paren"&&!On&&!ka){lt({type:"star",value:Te,output:""});continue}for(;et.slice(0,3)==="/**";){let Js=P[oe.index+4];if(Js&&Js!=="/")break;et=et.slice(3),st("/**",3)}if(Ke.type==="bos"&&rt()){xe.type="globstar",xe.value+=Te,xe.output=ft(O),oe.output=xe.output,oe.globstar=!0,st(Te);continue}if(Ke.type==="slash"&&Ke.prev.type!=="bos"&&!er&&rt()){oe.output=oe.output.slice(0,-(Ke.output+xe.output).length),Ke.output=`(?:${Ke.output}`,xe.type="globstar",xe.output=ft(O)+(O.strictSlashes?")":"|$)"),xe.value+=Te,oe.globstar=!0,oe.output+=Ke.output+xe.output,st(Te);continue}if(Ke.type==="slash"&&Ke.prev.type!=="bos"&&et[0]==="/"){let Js=et[1]!==void 0?"|$":"";oe.output=oe.output.slice(0,-(Ke.output+xe.output).length),Ke.output=`(?:${Ke.output}`,xe.type="globstar",xe.output=`${ft(O)}${Z}|${Z}${Js})`,xe.value+=Te,oe.output+=Ke.output+xe.output,oe.globstar=!0,st(Te+Ut()),lt({type:"slash",value:"/",output:""});continue}if(Ke.type==="bos"&&et[0]==="/"){xe.type="globstar",xe.value+=Te,xe.output=`(?:^|${Z}|${ft(O)}${Z})`,oe.output=xe.output,oe.globstar=!0,st(Te+Ut()),lt({type:"slash",value:"/",output:""});continue}oe.output=oe.output.slice(0,-xe.output.length),xe.type="globstar",xe.output=ft(O),xe.value+=Te,oe.output+=xe.output,oe.globstar=!0,st(Te);continue}let $t={type:"star",value:Te,output:Ze};if(O.bash===!0){$t.output=".*?",(xe.type==="bos"||xe.type==="slash")&&($t.output=St+$t.output),lt($t);continue}if(xe&&(xe.type==="bracket"||xe.type==="paren")&&O.regex===!0){$t.output=Te,lt($t);continue}(oe.index===oe.start||xe.type==="slash"||xe.type==="dot")&&(xe.type==="dot"?(oe.output+=Be,xe.output+=Be):O.dot===!0?(oe.output+=Le,xe.output+=Le):(oe.output+=St,xe.output+=St),We()!=="*"&&(oe.output+=X,xe.output+=X)),lt($t)}for(;oe.brackets>0;){if(O.strictBrackets===!0)throw new SyntaxError(I("closing","]"));oe.output=y.escapeLast(oe.output,"["),Wt("brackets")}for(;oe.parens>0;){if(O.strictBrackets===!0)throw new SyntaxError(I("closing",")"));oe.output=y.escapeLast(oe.output,"("),Wt("parens")}for(;oe.braces>0;){if(O.strictBrackets===!0)throw new SyntaxError(I("closing","}"));oe.output=y.escapeLast(oe.output,"{"),Wt("braces")}if(O.strictSlashes!==!0&&(xe.type==="star"||xe.type==="bracket")&&lt({type:"maybe_slash",value:"",output:`${Z}?`}),oe.backtrack===!0){oe.output="";for(let et of oe.tokens)oe.output+=et.output!=null?et.output:et.value,et.suffix&&(oe.output+=et.suffix)}return oe};k.fastpaths=(P,M)=>{let O={...M},j=typeof O.maxLength=="number"?Math.min(x,O.maxLength):x,B=P.length;if(B>j)throw new SyntaxError(`Input length: ${B}, exceeds maximum allowed length: ${j}`);P=_[P]||P;let V=y.isWindows(M),{DOT_LITERAL:$,SLASH_LITERAL:G,ONE_CHAR:Y,DOTS_SLASH:q,NO_DOT:z,NO_DOTS:J,NO_DOTS_SLASH:W,STAR:Z,START_ANCHOR:X}=h.globChars(V),ne=O.dot?J:z,Ve=O.dot?W:z,Be=O.capture?"":"?:",Le={negated:!1,prefix:""},_e=O.bash===!0?".*?":Z;O.capture&&(_e=`(${_e})`);let Ee=St=>St.noglobstar===!0?_e:`(${Be}(?:(?!${X}${St.dot?q:$}).)*?)`,Xe=St=>{switch(St){case"*":return`${ne}${Y}${_e}`;case".*":return`${$}${Y}${_e}`;case"*.*":return`${ne}${_e}${$}${Y}${_e}`;case"*/*":return`${ne}${_e}${G}${Y}${Ve}${_e}`;case"**":return ne+Ee(O);case"**/*":return`(?:${ne}${Ee(O)}${G})?${Ve}${Y}${_e}`;case"**/*.*":return`(?:${ne}${Ee(O)}${G})?${Ve}${_e}${$}${Y}${_e}`;case"**/.*":return`(?:${ne}${Ee(O)}${G})?${$}${Y}${_e}`;default:{let Qe=/^(.*?)\.(\w+)$/.exec(St);if(!Qe)return;let Ze=Xe(Qe[1]);return Ze?Ze+$+Qe[2]:void 0}}},Je=y.removePrefix(P,Le),ft=Xe(Je);return ft&&O.strictSlashes!==!0&&(ft+=`${G}?`),ft},d.exports=k}),Jd=p((c,d)=>{L();var h=(Ps(),ra),y=Jc(),x=Np(),w=_a(),S=bl(),E=T=>T&&typeof T=="object"&&!Array.isArray(T),_=(T,I,k=!1)=>{if(Array.isArray(T)){let G=T.map(Y=>_(Y,I,k));return Y=>{for(let q of G){let z=q(Y);if(z)return z}return!1}}let P=E(T)&&T.tokens&&T.input;if(T===""||typeof T!="string"&&!P)throw new TypeError("Expected pattern to be a non-empty string");let M=I||{},O=w.isWindows(I),j=P?_.compileRe(T,I):_.makeRe(T,I,!1,!0),B=j.state;delete j.state;let V=()=>!1;if(M.ignore){let G={...I,ignore:null,onMatch:null,onResult:null};V=_(M.ignore,G,k)}let $=(G,Y=!1)=>{let{isMatch:q,match:z,output:J}=_.test(G,j,I,{glob:T,posix:O}),W={glob:T,state:B,regex:j,posix:O,input:G,output:J,match:z,isMatch:q};return typeof M.onResult=="function"&&M.onResult(W),q===!1?(W.isMatch=!1,Y?W:!1):V(G)?(typeof M.onIgnore=="function"&&M.onIgnore(W),W.isMatch=!1,Y?W:!1):(typeof M.onMatch=="function"&&M.onMatch(W),Y?W:!0)};return k&&($.state=B),$};_.test=(T,I,k,{glob:P,posix:M}={})=>{if(typeof T!="string")throw new TypeError("Expected input to be a string");if(T==="")return{isMatch:!1,output:""};let O=k||{},j=O.format||(M?w.toPosixSlashes:null),B=T===P,V=B&&j?j(T):T;return B===!1&&(V=j?j(T):T,B=V===P),(B===!1||O.capture===!0)&&(O.matchBase===!0||O.basename===!0?B=_.matchBase(T,I,k,M):B=I.exec(V)),{isMatch:!!B,match:B,output:V}},_.matchBase=(T,I,k,P=w.isWindows(k))=>(I instanceof RegExp?I:_.makeRe(I,k)).test(h.basename(T)),_.isMatch=(T,I,k)=>_(I,k)(T),_.parse=(T,I)=>Array.isArray(T)?T.map(k=>_.parse(k,I)):x(T,{...I,fastpaths:!1}),_.scan=(T,I)=>y(T,I),_.compileRe=(T,I,k=!1,P=!1)=>{if(k===!0)return T.output;let M=I||{},O=M.contains?"":"^",j=M.contains?"":"$",B=`${O}(?:${T.output})${j}`;T&&T.negated===!0&&(B=`^(?!${B}).*$`);let V=_.toRegex(B,I);return P===!0&&(V.state=T),V},_.makeRe=(T,I={},k=!1,P=!1)=>{if(!T||typeof T!="string")throw new TypeError("Expected a non-empty string");let M={negated:!1,fastpaths:!0};return I.fastpaths!==!1&&(T[0]==="."||T[0]==="*")&&(M.output=x.fastpaths(T,I)),M.output||(M=x(T,I)),_.compileRe(M,I,k,P)},_.toRegex=(T,I)=>{try{let k=I||{};return new RegExp(T,k.flags||(k.nocase?"i":""))}catch(k){if(I&&I.debug===!0)throw k;return/$^/}},_.constants=S,d.exports=_}),Wg=p((c,d)=>{L(),d.exports=Jd()}),kp=p((c,d)=>{L();var h=(yc(),Qa),y=ho(),x=Wg(),w=_a(),S=T=>T===""||T==="./",E=T=>{let I=T.indexOf("{");return I>-1&&T.indexOf("}",I)>-1},_=(T,I,k)=>{I=[].concat(I),T=[].concat(T);let P=new Set,M=new Set,O=new Set,j=0,B=$=>{O.add($.output),k&&k.onResult&&k.onResult($)};for(let $=0;$<I.length;$++){let G=x(String(I[$]),{...k,onResult:B},!0),Y=G.state.negated||G.state.negatedExtglob;Y&&j++;for(let q of T){let z=G(q,!0);!(Y?!z.isMatch:z.isMatch)||(Y?P.add(z.output):(P.delete(z.output),M.add(z.output)))}}let V=(j===I.length?[...O]:[...M]).filter($=>!P.has($));if(k&&V.length===0){if(k.failglob===!0)throw new Error(`No matches found for "${I.join(", ")}"`);if(k.nonull===!0||k.nullglob===!0)return k.unescape?I.map($=>$.replace(/\\/g,"")):I}return V};_.match=_,_.matcher=(T,I)=>x(T,I),_.isMatch=(T,I,k)=>x(I,k)(T),_.any=_.isMatch,_.not=(T,I,k={})=>{I=[].concat(I).map(String);let P=new Set,M=[],O=B=>{k.onResult&&k.onResult(B),M.push(B.output)},j=new Set(_(T,I,{...k,onResult:O}));for(let B of M)j.has(B)||P.add(B);return[...P]},_.contains=(T,I,k)=>{if(typeof T!="string")throw new TypeError(`Expected a string: "${h.inspect(T)}"`);if(Array.isArray(I))return I.some(P=>_.contains(T,P,k));if(typeof I=="string"){if(S(T)||S(I))return!1;if(T.includes(I)||T.startsWith("./")&&T.slice(2).includes(I))return!0}return _.isMatch(T,I,{...k,contains:!0})},_.matchKeys=(T,I,k)=>{if(!w.isObject(T))throw new TypeError("Expected the first argument to be an object");let P=_(Object.keys(T),I,k),M={};for(let O of P)M[O]=T[O];return M},_.some=(T,I,k)=>{let P=[].concat(T);for(let M of[].concat(I)){let O=x(String(M),k);if(P.some(j=>O(j)))return!0}return!1},_.every=(T,I,k)=>{let P=[].concat(T);for(let M of[].concat(I)){let O=x(String(M),k);if(!P.every(j=>O(j)))return!1}return!0},_.all=(T,I,k)=>{if(typeof T!="string")throw new TypeError(`Expected a string: "${h.inspect(T)}"`);return[].concat(I).every(P=>x(P,k)(T))},_.capture=(T,I,k)=>{let P=w.isWindows(k),M=x.makeRe(String(T),{...k,capture:!0}).exec(P?w.toPosixSlashes(I):I);if(M)return M.slice(1).map(O=>O===void 0?"":O)},_.makeRe=(...T)=>x.makeRe(...T),_.scan=(...T)=>x.scan(...T),_.parse=(T,I)=>{let k=[];for(let P of[].concat(T||[]))for(let M of y(String(P),I))k.push(x.parse(M,I));return k},_.braces=(T,I)=>{if(typeof T!="string")throw new TypeError("Expected a string");return I&&I.nobrace===!0||!E(T)?[T]:y(T,I)},_.braceExpand=(T,I)=>{if(typeof T!="string")throw new TypeError("Expected a string");return _.braces(T,{...I,expand:!0})},_.hasBraces=E,d.exports=_});function Ip(c,d){let h=d.content.files;h=h.filter(E=>typeof E=="string"),h=h.map(Gc);let y=vl.generateTasks(h),x=[],w=[];for(let E of y)x.push(...E.positive.map(_=>Kd(_,!1))),w.push(...E.negative.map(_=>Kd(_,!0)));let S=[...x,...w];return S=Dp(c,S),S=S.flatMap(Wd),S=S.map(Rp),S}function Kd(c,d){let h={original:c,base:c,ignore:d,pattern:c,glob:null};return Fd(c)&&Object.assign(h,wp(c)),h}function Rp(c){let d=Gc(c.base);return d=vl.escapePath(d),c.pattern=c.glob?`${d}/${c.glob}`:d,c.pattern=c.ignore?`!${c.pattern}`:c.pattern,c}function Dp(c,d){let h=[];return c.userConfigPath&&c.tailwindConfig.content.relative&&(h=[Hn.dirname(c.userConfigPath)]),d.map(y=>(y.base=Hn.resolve(...h,y.base),y))}function Wd(c){let d=[c];try{let h=re.realpathSync(c.base);h!==c.base&&d.push({...c,base:h})}catch{}return d}function Pp(c,d,h){let y=c.tailwindConfig.content.files.filter(S=>typeof S.raw=="string").map(({raw:S,extension:E="html"})=>({content:S,extension:E})),[x,w]=Qd(d,h);for(let S of x){let E=Hn.extname(S).slice(1);y.push({file:S,extension:E})}return[y,w]}function Mp(c){if(!c.some(x=>x.includes("**")&&!Zd.test(x)))return()=>{};let d=[],h=[];for(let x of c){let w=Xd.default.matcher(x);Zd.test(x)&&h.push(w),d.push(w)}let y=!1;return x=>{if(y||h.some(T=>T(x)))return;let w=d.findIndex(T=>T(x));if(w===-1)return;let S=c[w],E=Hn.relative(F.cwd(),S);E[0]!=="."&&(E=`./${E}`);let _=Kc.find(T=>x.includes(T));_&&(y=!0,Ue.warn("broad-content-glob-pattern",[`Your \`content\` configuration includes a pattern which looks like it's accidentally matching all of \`${_}\` and can cause serious performance issues.`,`Pattern: \`${E}\``,"See our documentation for recommendations:","https://tailwindcss.com/docs/content-configuration#pattern-recommendations"]))}}function Qd(c,d){let h=c.map(E=>E.pattern),y=new Map,x=Mp(h),w=new Set;Os.DEBUG&&console.time("Finding changed files");let S=vl.sync(h,{absolute:!0});for(let E of S){x(E);let _=d.get(E)||-1/0,T=re.statSync(E).mtimeMs;T>_&&(w.add(E),y.set(E,T))}return Os.DEBUG&&console.timeEnd("Finding changed files"),[w,y]}var Xd,Kc,Zd,ef=v(()=>{L(),ce(),Ps(),xp(),bp(),Hd(),_p(),ps(),je(),Xd=U(kp()),Kc=["node_modules"],Zd=new RegExp(`(${Kc.map(c=>String.raw`\b${c}\b`).join("|")})`)});function Qg(){}var Op=v(()=>{L()});function tf(c,d){for(let h of d){let y=`${c}${h}`;if(re.existsSync(y)&&re.statSync(y).isFile())return y}for(let h of d){let y=`${c}/index${h}`;if(re.existsSync(y))return y}return null}function*nf(c,d,h,y=Hn.extname(c)){let x=tf(Hn.resolve(d,c),jp.includes(y)?Lp:rf);if(x===null||h.has(x))return;h.add(x),yield x,d=Hn.dirname(x),y=Hn.extname(x);let w=re.readFileSync(x,"utf-8");for(let S of[...w.matchAll(/import[\s\S]*?['"](.{3,}?)['"]/gi),...w.matchAll(/import[\s\S]*from[\s\S]*?['"](.{3,}?)['"]/gi),...w.matchAll(/require\(['"`](.+)['"`]\)/gi)])!S[1].startsWith(".")||(yield*nf(S[1],d,h,y))}function Up(c){return c===null?new Set:new Set(nf(c,Hn.dirname(c),new Set))}var jp,Lp,rf,wl=v(()=>{L(),ce(),Ps(),jp=[".js",".cjs",".mjs"],Lp=["",".js",".cjs",".mjs",".ts",".cts",".mts",".jsx",".tsx"],rf=["",".ts",".cts",".mts",".tsx",".js",".cjs",".mjs",".jsx"]});function sf(c,d){if(_l.has(c))return _l.get(c);let h=Ip(c,d);return _l.set(c,h).get(c)}function Wc(c){let d=kr(c);if(d!==null){let[y,x,w,S]=Sa.get(d)||[],E=Up(d),_=!1,T=new Map;for(let P of E){let M=re.statSync(P).mtimeMs;T.set(P,M),(!S||!S.has(P)||M>S.get(P))&&(_=!0)}if(!_)return[y,d,x,w];for(let P of E)delete g.cache[P];let I=Hc(na(void 0)),k=le(I);return Sa.set(d,[I,k,E,T]),[I,d,k,E]}let h=na((c==null?void 0:c.config)??c??{});return h=Hc(h),[h,null,le(h),[]]}function Bp(c){return({tailwindDirectives:d,registerDependency:h})=>(y,x)=>{let[w,S,E,_]=Wc(c),T=new Set(_);if(d.size>0){T.add(x.opts.from);for(let O of x.messages)O.type==="dependency"&&T.add(O.file)}let[I,,k]=lo(y,x,w,S,E,T),P=ys(I),M=sf(I,w);if(d.size>0){for(let B of M)for(let V of vr(B))h(V);let[O,j]=Pp(I,M,P);for(let B of O)I.changedContent.push(B);for(let[B,V]of j.entries())k.set(B,V)}for(let O of _)h({type:"dependency",file:O});for(let[O,j]of k.entries())P.set(O,j);return I}}var af,Sa,_l,of=v(()=>{L(),ce(),af=U(ue()),me(),si(),Ho(),uo(),zn(),vp(),ef(),Op(),wl(),Sa=new af.default({maxSize:100}),_l=new WeakMap});function qp(c){let d=new Set,h=new Set,y=new Set;if(c.walkAtRules(x=>{x.name==="apply"&&y.add(x),x.name==="import"&&(x.params==='"tailwindcss/base"'||x.params==="'tailwindcss/base'"?(x.name="tailwind",x.params="base"):x.params==='"tailwindcss/components"'||x.params==="'tailwindcss/components'"?(x.name="tailwind",x.params="components"):x.params==='"tailwindcss/utilities"'||x.params==="'tailwindcss/utilities'"?(x.name="tailwind",x.params="utilities"):(x.params==='"tailwindcss/screens"'||x.params==="'tailwindcss/screens'"||x.params==='"tailwindcss/variants"'||x.params==="'tailwindcss/variants'")&&(x.name="tailwind",x.params="variants")),x.name==="tailwind"&&(x.params==="screens"&&(x.params="variants"),d.add(x.params)),["layer","responsive","variants"].includes(x.name)&&(["responsive","variants"].includes(x.name)&&Ue.warn(`${x.name}-at-rule-deprecated`,[`The \`@${x.name}\` directive has been deprecated in Tailwind CSS v3.0.`,"Use `@layer utilities` or `@layer components` instead.","https://tailwindcss.com/docs/upgrade-guide#replace-variants-with-layer"]),h.add(x))}),!d.has("base")||!d.has("components")||!d.has("utilities")){for(let x of h)if(x.name==="layer"&&["base","components","utilities"].includes(x.params)){if(!d.has(x.params))throw x.error(`\`@layer ${x.params}\` is used but no matching \`@tailwind ${x.params}\` directive is present.`)}else if(x.name==="responsive"){if(!d.has("utilities"))throw x.error("`@responsive` is used but `@tailwind utilities` is missing.")}else if(x.name==="variants"&&!d.has("utilities"))throw x.error("`@variants` is used but `@tailwind utilities` is missing.")}return{tailwindDirectives:d,applyDirectives:y}}var lf=v(()=>{L(),je()});function Ea(c,d=void 0,h=void 0){return c.map(y=>{let x=y.clone();return h!==void 0&&(x.raws.tailwind={...x.raws.tailwind,...h}),d!==void 0&&cf(x,w=>{var S;if(((S=w.raws.tailwind)==null?void 0:S.preserveSource)===!0&&w.source)return!1;w.source=d}),x})}function cf(c,d){var h;d(c)!==!1&&((h=c.each)==null||h.call(c,y=>cf(y,d)))}var $p=v(()=>{L()});function hi(c){return c=Array.isArray(c)?c:[c],c=c.map(d=>d instanceof RegExp?d.source:d),c.join("")}function Jr(c){return new RegExp(hi(c),"g")}function qi(c){return`(?:${c.map(hi).join("|")})`}function uf(c){return`(?:${hi(c)})?`}function Qc(c){return c&&Zc.test(c)?c.replace(Xc,"\\$&"):c||""}var Xc,Zc,zp=v(()=>{L(),Xc=/[\\^$.*+?()[\]{}|]/g,Zc=RegExp(Xc.source)});function Vp(c){let d=Array.from(Xg(c));return h=>{let y=[];for(let x of d)for(let w of h.match(x)??[])y.push(df(w));for(let x of y.slice()){let w=rs(x,".");for(let S=0;S<w.length;S++){let E=w[S];if(S>=w.length-1){y.push(E);continue}let _=Number(w[S+1]);isNaN(_)?y.push(E):S++}}return y}}function*Xg(c){let d=c.tailwindConfig.separator,h=c.tailwindConfig.prefix!==""?uf(Jr([/-?/,Qc(c.tailwindConfig.prefix)])):"",y=qi([/\[[^\s:'"`]+:[^\s\[\]]+\]/,/\[[^\s:'"`\]]+:[^\s]+?\[[^\s]+\][^\s]+?\]/,Jr([qi([/-?(?:\w+)/,/@(?:\w+)/]),uf(qi([Jr([qi([/-(?:\w+-)*\['[^\s]+'\]/,/-(?:\w+-)*\["[^\s]+"\]/,/-(?:\w+-)*\[`[^\s]+`\]/,/-(?:\w+-)*\[(?:[^\s\[\]]+\[[^\s\[\]]+\])*[^\s:\[\]]+\]/]),/(?![{([]])/,/(?:\/[^\s'"`\\><$]*)?/]),Jr([qi([/-(?:\w+-)*\['[^\s]+'\]/,/-(?:\w+-)*\["[^\s]+"\]/,/-(?:\w+-)*\[`[^\s]+`\]/,/-(?:\w+-)*\[(?:[^\s\[\]]+\[[^\s\[\]]+\])*[^\s\[\]]+\]/]),/(?![{([]])/,/(?:\/[^\s'"`\\$]*)?/]),/[-\/][^\s'"`\\$={><]*/]))])]),x=[qi([Jr([/@\[[^\s"'`]+\](\/[^\s"'`]+)?/,d]),Jr([/([^\s"'`\[\\]+-)?\[[^\s"'`]+\]\/[\w_-]+/,d]),Jr([/([^\s"'`\[\\]+-)?\[[^\s"'`]+\]/,d]),Jr([/[^\s"'`\[\\]+/,d])]),qi([Jr([/([^\s"'`\[\\]+-)?\[[^\s`]+\]\/[\w_-]+/,d]),Jr([/([^\s"'`\[\\]+-)?\[[^\s`]+\]/,d]),Jr([/[^\s`\[\\]+/,d])])];for(let w of x)yield Jr(["((?=((",w,")+))\\2)?",/!?/,h,y]);yield/[^<>"'`\s.(){}[\]#=%$][^<>"'`\s(){}[\]#=%$]*[^<>"'`\s.(){}[\]#=%:$]/g}function df(c){if(!c.includes("-["))return c;let d=0,h=[],y=c.matchAll(Vn);y=Array.from(y).flatMap(x=>{let[,...w]=x;return w.map((S,E)=>Object.assign([],x,{index:x.index+E,0:S}))});for(let x of y){let w=x[0],S=h[h.length-1];if(w===S?h.pop():(w==="'"||w==='"'||w==="`")&&h.push(w),!S){if(w==="["){d++;continue}else if(w==="]"){d--;continue}if(d<0)return c.substring(0,x.index-1);if(d===0&&!sr.test(w))return c.substring(0,x.index)}}return c}var Vn,sr,Fp=v(()=>{L(),zp(),ti(),Vn=/([\[\]'"`])([^\[\]'"`])?/g,sr=/[^"'`\s<>\]]+/});function Hp(c,d){let h=c.tailwindConfig.content.extract;return h[d]||h.DEFAULT||ff[d]||ff.DEFAULT(c)}function Gp(c,d){let h=c.content.transform;return h[d]||h.DEFAULT||po[d]||po.DEFAULT}function Yp(c,d,h,y){$i.has(d)||$i.set(d,new El.default({maxSize:25e3}));for(let x of c.split(`
`))if(x=x.trim(),!y.has(x))if(y.add(x),$i.get(d).has(x))for(let w of $i.get(d).get(x))h.add(w);else{let w=d(x).filter(E=>E!=="!*"),S=new Set(w);for(let E of S)h.add(E);$i.get(d).set(x,S)}}function Sl(c,d){let h=d.offsets.sort(c),y={base:new Set,defaults:new Set,components:new Set,utilities:new Set,variants:new Set};for(let[x,w]of h)y[x.layer].add(w);return y}function Jp(c){return async d=>{let h={base:null,components:null,utilities:null,variants:null};if(d.walkAtRules(B=>{B.name==="tailwind"&&Object.keys(h).includes(B.params)&&(h[B.params]=B)}),Object.values(h).every(B=>B===null))return d;let y=new Set([...c.candidates??[],Hr]),x=new Set;xs.DEBUG&&console.time("Reading changed files");let w=[];for(let B of c.changedContent){let V=Gp(c.tailwindConfig,B.extension),$=Hp(c,B.extension);w.push([B,{transformer:V,extractor:$}])}let S=500;for(let B=0;B<w.length;B+=S){let V=w.slice(B,B+S);await Promise.all(V.map(async([{file:$,content:G},{transformer:Y,extractor:q}])=>{G=$?await re.promises.readFile($,"utf8"):G,Yp(Y(G),q,y,x)}))}xs.DEBUG&&console.timeEnd("Reading changed files");let E=c.classCache.size;xs.DEBUG&&console.time("Generate rules"),xs.DEBUG&&console.time("Sorting candidates");let _=new Set([...y].sort((B,V)=>B===V?0:B<V?-1:1));xs.DEBUG&&console.timeEnd("Sorting candidates"),so(_,c),xs.DEBUG&&console.timeEnd("Generate rules"),xs.DEBUG&&console.time("Build stylesheet"),(c.stylesheetCache===null||c.classCache.size!==E)&&(c.stylesheetCache=Sl([...c.ruleCache],c)),xs.DEBUG&&console.timeEnd("Build stylesheet");let{defaults:T,base:I,components:k,utilities:P,variants:M}=c.stylesheetCache;h.base&&(h.base.before(Ea([...T,...I],h.base.source,{layer:"base"})),h.base.remove()),h.components&&(h.components.before(Ea([...k],h.components.source,{layer:"components"})),h.components.remove()),h.utilities&&(h.utilities.before(Ea([...P],h.utilities.source,{layer:"utilities"})),h.utilities.remove());let O=Array.from(M).filter(B=>{var $;let V=($=B.raws.tailwind)==null?void 0:$.parentLayer;return V==="components"?h.components!==null:V==="utilities"?h.utilities!==null:!0});h.variants?(h.variants.before(Ea(O,h.variants.source,{layer:"variants"})),h.variants.remove()):O.length>0&&d.append(Ea(O,d.source,{layer:"variants"})),d.source.end=d.source.end??d.source.start;let j=O.some(B=>{var V;return((V=B.raws.tailwind)==null?void 0:V.parentLayer)==="utilities"});h.utilities&&P.size===0&&!j&&Ue.warn("content-problems",["No utility classes were detected in your source files. If this is unexpected, double-check the `content` option in your Tailwind CSS configuration.","https://tailwindcss.com/docs/content-configuration"]),xs.DEBUG&&(console.log("Potential classes: ",y.size),console.log("Active contexts: ",Cc.size)),c.changedContent=[],d.walkAtRules("layer",B=>{Object.keys(h).includes(B.params)&&B.remove()})}}var El,xs,ff,po,$i,Kp=v(()=>{L(),ce(),El=U(ue()),ps(),js(),je(),$p(),Fp(),xs=Os,ff={DEFAULT:Vp},po={DEFAULT:c=>c,svelte:c=>c.replace(/(?:^|\s)class:/g," ")},$i=new WeakMap});function Cl(c){let d=new Map;Rn.root({nodes:[c.clone()]}).walkRules(x=>{(0,iu.default)(w=>{w.walkClasses(S=>{let E=S.parent.toString(),_=d.get(E);_||d.set(E,_=new Set),_.add(S.value)})}).processSync(x.selector)});let h=Array.from(d.values(),x=>Array.from(x)),y=h.flat();return Object.assign(y,{groups:h})}function eu(c){return vf.astSync(c)}function tu(c,d){let h=new Set;for(let y of c)h.add(y.split(d).pop());return Array.from(h)}function nu(c,d){let h=c.tailwindConfig.prefix;return typeof h=="function"?h(d):h+d}function*ru(c){for(yield c;c.parent;)yield c.parent,c=c.parent}function Wp(c,d={}){let h=c.nodes;c.nodes=[];let y=c.clone(d);return c.nodes=h,y}function hf(c){for(let d of ru(c))if(c!==d){if(d.type==="root")break;c=Wp(d,{nodes:[c]})}return c}function su(c,d){let h=new Map;return c.walkRules(y=>{var S;for(let E of ru(y))if(((S=E.raws.tailwind)==null?void 0:S.layer)!==void 0)return;let x=hf(y),w=d.offsets.create("user");for(let E of Cl(y)){let _=h.get(E)||[];h.set(E,_),_.push([{layer:"user",sort:w,important:!1},x])}}),h}function pf(c,d){for(let h of c){if(d.notClassCache.has(h)||d.applyClassCache.has(h))continue;if(d.classCache.has(h)){d.applyClassCache.set(h,d.classCache.get(h).map(([x,w])=>[x,w.clone()]));continue}let y=Array.from(Ud(h,d));if(y.length===0){d.notClassCache.add(h);continue}d.applyClassCache.set(h,y)}return d.applyClassCache}function Qp(c){let d=null;return{get:h=>(d=d||c(),d.get(h)),has:h=>(d=d||c(),d.has(h))}}function mf(c){return{get:d=>c.flatMap(h=>h.get(d)||[]),has:d=>c.some(h=>h.has(d))}}function gf(c){let d=c.split(/[\s\t\n]+/g);return d[d.length-1]==="!important"?[d.slice(0,-1),!0]:[d,!1]}function Bs(c,d,h){let y=new Set,x=[];if(c.walkAtRules("apply",_=>{let[T]=gf(_.params);for(let I of T)y.add(I);x.push(_)}),x.length===0)return;let w=mf([h,pf(y,d)]);function S(_,T,I){let k=eu(_),P=eu(T),M=eu(`.${rr(I)}`).nodes[0].nodes[0];return k.each(O=>{let j=new Set;P.each(B=>{let V=!1;B=B.clone(),B.walkClasses($=>{$.value===M.value&&(V||($.replaceWith(...O.nodes.map(G=>G.clone())),j.add(B),V=!0))})});for(let B of j){let V=[[]];for(let $ of B.nodes)$.type==="combinator"?(V.push($),V.push([])):V[V.length-1].push($);B.nodes=[];for(let $ of V)Array.isArray($)&&$.sort((G,Y)=>G.type==="tag"&&Y.type==="class"?-1:G.type==="class"&&Y.type==="tag"?1:G.type==="class"&&Y.type==="pseudo"&&Y.value.startsWith("::")?-1:G.type==="pseudo"&&G.value.startsWith("::")&&Y.type==="class"?1:0),B.nodes=B.nodes.concat($)}O.replaceWith(...j)}),k.toString()}let E=new Map;for(let _ of x){let[T]=E.get(_.parent)||[[],_.source];E.set(_.parent,[T,_.source]);let[I,k]=gf(_.params);if(_.parent.type==="atrule"){if(_.parent.name==="screen"){let P=_.parent.params;throw _.error(`@apply is not supported within nested at-rules like @screen. We suggest you write this as @apply ${I.map(M=>`${P}:${M}`).join(" ")} instead.`)}throw _.error(`@apply is not supported within nested at-rules like @${_.parent.name}. You can fix this by un-nesting @${_.parent.name}.`)}for(let P of I){if([nu(d,"group"),nu(d,"peer")].includes(P))throw _.error(`@apply should not be used with the '${P}' utility`);if(!w.has(P))throw _.error(`The \`${P}\` class does not exist. If \`${P}\` is a custom class, make sure it is defined within a \`@layer\` directive.`);let M=w.get(P);for(let[,O]of M)O.type!=="atrule"&&O.walkRules(()=>{throw _.error([`The \`${P}\` class cannot be used with \`@apply\` because \`@apply\` does not currently support nested CSS.`,"Rewrite the selector without nesting or configure the `tailwindcss/nesting` plugin:","https://tailwindcss.com/docs/using-with-preprocessors#nesting"].join(`
`))});T.push([P,k,M])}}for(let[_,[T,I]]of E){let k=[];for(let[M,O,j]of T){let B=[M,...tu([M],d.tailwindConfig.separator)];for(let[V,$]of j){let G=Cl(_),Y=Cl($);if(Y=Y.groups.filter(z=>z.some(J=>B.includes(J))).flat(),Y=Y.concat(tu(Y,d.tailwindConfig.separator)),G.some(z=>Y.includes(z)))throw $.error(`You cannot \`@apply\` the \`${M}\` utility here because it creates a circular dependency.`);let q=Rn.root({nodes:[$.clone()]});q.walk(z=>{z.source=I}),($.type!=="atrule"||$.type==="atrule"&&$.name!=="keyframes")&&q.walkRules(z=>{if(!Cl(z).some(X=>X===M)){z.remove();return}let J=typeof d.tailwindConfig.important=="string"?d.tailwindConfig.important:null,W=_.raws.tailwind!==void 0&&J&&_.selector.indexOf(J)===0?_.selector.slice(J.length):_.selector;W===""&&(W=_.selector),z.selector=S(W,z.selector,M),J&&W!==_.selector&&(z.selector=up(z.selector,J)),z.walkDecls(X=>{X.important=V.important||O});let Z=(0,iu.default)().astSync(z.selector);Z.each(X=>al(X)),z.selector=Z.toString()}),q.nodes[0]&&k.push([V.sort,q.nodes[0]])}}let P=d.offsets.sort(k).map(M=>M[1]);_.after(P)}for(let _ of x)_.parent.nodes.length>1?_.remove():_.parent.remove();Bs(c,d,h)}function yf(c){return d=>{let h=Qp(()=>su(d,c));Bs(d,c,h)}}var iu,vf,pi=v(()=>{L(),ds(),iu=U(ii()),js(),fr(),dp(),Nc(),vf=(0,iu.default)()}),xf=p((c,d)=>{L(),(function(){function h(w,S,E){if(!w)return null;h.caseSensitive||(w=w.toLowerCase());var _=h.threshold===null?null:h.threshold*w.length,T=h.thresholdAbsolute,I;_!==null&&T!==null?I=Math.min(_,T):_!==null?I=_:T!==null?I=T:I=null;var k,P,M,O,j,B=S.length;for(j=0;j<B;j++)if(P=S[j],E&&(P=P[E]),!!P&&(h.caseSensitive?M=P:M=P.toLowerCase(),O=x(w,M,I),(I===null||O<I)&&(I=O,E&&h.returnWinningObject?k=S[j]:k=P,h.returnFirstMatch)))return k;return k||h.nullResultValue}h.threshold=.4,h.thresholdAbsolute=20,h.caseSensitive=!1,h.nullResultValue=null,h.returnWinningObject=null,h.returnFirstMatch=!1,typeof d<"u"&&d.exports?d.exports=h:window.didYouMean=h;var y=Math.pow(2,32)-1;function x(w,S,E){E=E||E===0?E:y;var _=w.length,T=S.length;if(_===0)return Math.min(E+1,T);if(T===0)return Math.min(E+1,_);if(Math.abs(_-T)>E)return E+1;var I=[],k,P,M,O,j;for(k=0;k<=T;k++)I[k]=[k];for(P=0;P<=_;P++)I[0][P]=P;for(k=1;k<=T;k++){for(M=y,O=1,k>E&&(O=k-E),j=T+1,j>E+k&&(j=E+k),P=1;P<=_;P++)P<O||P>j?I[k][P]=E+1:S.charAt(k-1)===w.charAt(P-1)?I[k][P]=I[k-1][P-1]:I[k][P]=Math.min(I[k-1][P-1]+1,Math.min(I[k][P-1]+1,I[k-1][P]+1)),I[k][P]<M&&(M=I[k][P]);if(M>E)return E+1}return I[T][_]}})()}),Xp=p((c,d)=>{L();var h=40,y=41,x=39,w=34,S=92,E=47,_=44,T=58,I=42,k=117,P=85,M=43,O=/^[a-f0-9?-]+$/i;d.exports=function(j){for(var B=[],V=j,$,G,Y,q,z,J,W,Z,X=0,ne=V.charCodeAt(X),Ve=V.length,Be=[{nodes:B}],Le=0,_e,Ee="",Xe="",Je="";X<Ve;)if(ne<=32){$=X;do $+=1,ne=V.charCodeAt($);while(ne<=32);q=V.slice(X,$),Y=B[B.length-1],ne===y&&Le?Je=q:Y&&Y.type==="div"?(Y.after=q,Y.sourceEndIndex+=q.length):ne===_||ne===T||ne===E&&V.charCodeAt($+1)!==I&&(!_e||_e&&_e.type==="function"&&!1)?Xe=q:B.push({type:"space",sourceIndex:X,sourceEndIndex:$,value:q}),X=$}else if(ne===x||ne===w){$=X,G=ne===x?"'":'"',q={type:"string",sourceIndex:X,quote:G};do if(z=!1,$=V.indexOf(G,$+1),~$)for(J=$;V.charCodeAt(J-1)===S;)J-=1,z=!z;else V+=G,$=V.length-1,q.unclosed=!0;while(z);q.value=V.slice(X+1,$),q.sourceEndIndex=q.unclosed?$:$+1,B.push(q),X=$+1,ne=V.charCodeAt(X)}else if(ne===E&&V.charCodeAt(X+1)===I)$=V.indexOf("*/",X),q={type:"comment",sourceIndex:X,sourceEndIndex:$+2},$===-1&&(q.unclosed=!0,$=V.length,q.sourceEndIndex=$),q.value=V.slice(X+2,$),B.push(q),X=$+2,ne=V.charCodeAt(X);else if((ne===E||ne===I)&&_e&&_e.type==="function")q=V[X],B.push({type:"word",sourceIndex:X-Xe.length,sourceEndIndex:X+q.length,value:q}),X+=1,ne=V.charCodeAt(X);else if(ne===E||ne===_||ne===T)q=V[X],B.push({type:"div",sourceIndex:X-Xe.length,sourceEndIndex:X+q.length,value:q,before:Xe,after:""}),Xe="",X+=1,ne=V.charCodeAt(X);else if(h===ne){$=X;do $+=1,ne=V.charCodeAt($);while(ne<=32);if(Z=X,q={type:"function",sourceIndex:X-Ee.length,value:Ee,before:V.slice(Z+1,$)},X=$,Ee==="url"&&ne!==x&&ne!==w){$-=1;do if(z=!1,$=V.indexOf(")",$+1),~$)for(J=$;V.charCodeAt(J-1)===S;)J-=1,z=!z;else V+=")",$=V.length-1,q.unclosed=!0;while(z);W=$;do W-=1,ne=V.charCodeAt(W);while(ne<=32);Z<W?(X!==W+1?q.nodes=[{type:"word",sourceIndex:X,sourceEndIndex:W+1,value:V.slice(X,W+1)}]:q.nodes=[],q.unclosed&&W+1!==$?(q.after="",q.nodes.push({type:"space",sourceIndex:W+1,sourceEndIndex:$,value:V.slice(W+1,$)})):(q.after=V.slice(W+1,$),q.sourceEndIndex=$)):(q.after="",q.nodes=[]),X=$+1,q.sourceEndIndex=q.unclosed?$:X,ne=V.charCodeAt(X),B.push(q)}else Le+=1,q.after="",q.sourceEndIndex=X+1,B.push(q),Be.push(q),B=q.nodes=[],_e=q;Ee=""}else if(y===ne&&Le)X+=1,ne=V.charCodeAt(X),_e.after=Je,_e.sourceEndIndex+=Je.length,Je="",Le-=1,Be[Be.length-1].sourceEndIndex=X,Be.pop(),_e=Be[Le],B=_e.nodes;else{$=X;do ne===S&&($+=1),$+=1,ne=V.charCodeAt($);while($<Ve&&!(ne<=32||ne===x||ne===w||ne===_||ne===T||ne===E||ne===h||ne===I&&_e&&_e.type==="function"||ne===E&&_e.type==="function"||ne===y&&Le));q=V.slice(X,$),h===ne?Ee=q:(k===q.charCodeAt(0)||P===q.charCodeAt(0))&&M===q.charCodeAt(1)&&O.test(q.slice(2))?B.push({type:"unicode-range",sourceIndex:X,sourceEndIndex:$,value:q}):B.push({type:"word",sourceIndex:X,sourceEndIndex:$,value:q}),X=$}for(X=Be.length-1;X;X-=1)Be[X].unclosed=!0,Be[X].sourceEndIndex=V.length;return Be[0].nodes}}),au=p((c,d)=>{L(),d.exports=function h(y,x,w){var S,E,_,T;for(S=0,E=y.length;S<E;S+=1)_=y[S],w||(T=x(_,S,y)),T!==!1&&_.type==="function"&&Array.isArray(_.nodes)&&h(_.nodes,x,w),w&&x(_,S,y)}}),Tl=p((c,d)=>{L();function h(x,w){var S=x.type,E=x.value,_,T;return w&&(T=w(x))!==void 0?T:S==="word"||S==="space"?E:S==="string"?(_=x.quote||"",_+E+(x.unclosed?"":_)):S==="comment"?"/*"+E+(x.unclosed?"":"*/"):S==="div"?(x.before||"")+E+(x.after||""):Array.isArray(x.nodes)?(_=y(x.nodes,w),S!=="function"?_:E+"("+(x.before||"")+_+(x.after||"")+(x.unclosed?"":")")):E}function y(x,w){var S,E;if(Array.isArray(x)){for(S="",E=x.length-1;~E;E-=1)S=h(x[E],w)+S;return S}return h(x,w)}d.exports=y}),kn=p((c,d)=>{L();var h=45,y=43,x=46,w=101,S=69;function E(_){var T=_.charCodeAt(0),I;if(T===y||T===h){if(I=_.charCodeAt(1),I>=48&&I<=57)return!0;var k=_.charCodeAt(2);return I===x&&k>=48&&k<=57}return T===x?(I=_.charCodeAt(1),I>=48&&I<=57):T>=48&&T<=57}d.exports=function(_){var T=0,I=_.length,k,P,M;if(I===0||!E(_))return!1;for(k=_.charCodeAt(T),(k===y||k===h)&&T++;T<I&&(k=_.charCodeAt(T),!(k<48||k>57));)T+=1;if(k=_.charCodeAt(T),P=_.charCodeAt(T+1),k===x&&P>=48&&P<=57)for(T+=2;T<I&&(k=_.charCodeAt(T),!(k<48||k>57));)T+=1;if(k=_.charCodeAt(T),P=_.charCodeAt(T+1),M=_.charCodeAt(T+2),(k===w||k===S)&&(P>=48&&P<=57||(P===y||P===h)&&M>=48&&M<=57))for(T+=P===y||P===h?3:2;T<I&&(k=_.charCodeAt(T),!(k<48||k>57));)T+=1;return{number:_.slice(0,T),unit:_.slice(T)}}}),Zg=p((c,d)=>{L();var h=Xp(),y=au(),x=Tl();function w(S){return this instanceof w?(this.nodes=h(S),this):new w(S)}w.prototype.toString=function(){return Array.isArray(this.nodes)?x(this.nodes):""},w.prototype.walk=function(S,E){return y(this.nodes,S,E),this},w.unit=kn(),w.walk=y,w.stringify=x,d.exports=w});function bf(c){return typeof c=="object"&&c!==null}function Zp(c,d){let h=yt(d);do if(h.pop(),(0,Ca.default)(c,h)!==void 0)break;while(h.length);return h.length?h:void 0}function qs(c){return typeof c=="string"?c:c.reduce((d,h,y)=>h.includes(".")?`${d}[${h}]`:y===0?h:`${d}.${h}`,"")}function mi(c){return c.map(d=>`'${d}'`).join(", ")}function wf(c){return mi(Object.keys(c))}function ou(c,d,h,y={}){let x=Array.isArray(d)?qs(d):d.replace(/^['"]+|['"]+$/g,""),w=Array.isArray(d)?d:yt(x),S=(0,Ca.default)(c.theme,w,h);if(S===void 0){let _=`'${x}' does not exist in your theme config.`,T=w.slice(0,-1),I=(0,Ca.default)(c.theme,T);if(bf(I)){let k=Object.keys(I).filter(M=>ou(c,[...T,M]).isValid),P=(0,Nl.default)(w[w.length-1],k);P?_+=` Did you mean '${qs([...T,P])}'?`:k.length>0&&(_+=` '${qs(T)}' has the following valid keys: ${mi(k)}`)}else{let k=Zp(c.theme,x);if(k){let P=(0,Ca.default)(c.theme,k);bf(P)?_+=` '${qs(k)}' has the following keys: ${wf(P)}`:_+=` '${qs(k)}' is not an object.`}else _+=` Your theme has the following top-level keys: ${wf(c.theme)}`}return{isValid:!1,error:_}}if(!(typeof S=="string"||typeof S=="number"||typeof S=="function"||S instanceof String||S instanceof Number||Array.isArray(S))){let _=`'${x}' was found but does not resolve to a string.`;if(bf(S)){let T=Object.keys(S).filter(I=>ou(c,[...w,I]).isValid);T.length&&(_+=` Did you mean something like '${qs([...w,T[0]])}'?`)}return{isValid:!1,error:_}}let[E]=w;return{isValid:!0,value:ai(E)(S,y)}}function Al(c,d,h){d=d.map(x=>bs(c,x,h));let y=[""];for(let x of d)x.type==="div"&&x.value===","?y.push(""):y[y.length-1]+=lu.default.stringify(x);return y}function bs(c,d,h){if(d.type==="function"&&h[d.value]!==void 0){let y=Al(c,d.nodes,h);d.type="word",d.value=h[d.value](c,...y)}return d}function em(c,d,h){return Object.keys(h).some(y=>d.includes(`${y}(`))?(0,lu.default)(d).walk(y=>{bs(c,y,h)}).toString():d}function*_f(c){c=c.replace(/^['"]+|['"]+$/g,"");let d=c.match(/^([^\s]+)(?![^\[]*\])(?:\s*\/\s*([^\/\s]+))$/),h;yield[c,void 0],d&&(c=d[1],h=d[2],yield[c,h])}function tm(c,d,h){let y=Array.from(_f(d)).map(([x,w])=>Object.assign(ou(c,x,h,{opacityValue:w}),{resolvedPath:x,alpha:w}));return y.find(x=>x.isValid)??y[0]}function Sf(c){let d=c.tailwindConfig,h={theme:(y,x,...w)=>{var P;let{isValid:S,value:E,error:_,alpha:T}=tm(d,x,w.length?w:void 0);if(!S){let M=y.parent,O=(P=M==null?void 0:M.raws.tailwind)==null?void 0:P.candidate;if(M&&O!==void 0){c.markInvalidUtilityNode(M),M.remove(),Ue.warn("invalid-theme-key-in-class",[`The utility \`${O}\` contains an invalid theme value and was not generated.`]);return}throw y.error(_)}let I=gr(E);return(T!==void 0||I!==void 0&&typeof I=="function")&&(T===void 0&&(T=1),E=nr(I,T,I)),E},screen:(y,x)=>{x=x.replace(/^['"]+/g,"").replace(/['"]+$/g,"");let w=hr(d.theme.screens).find(({name:S})=>S===x);if(!w)throw y.error(`The '${x}' screen does not exist in your theme.`);return tl(w)}};return y=>{y.walk(x=>{let w=$s[x.type];w!==void 0&&(x[w]=em(x,x[w],h))})}}var Ca,Nl,lu,$s,Yn=v(()=>{L(),Ca=U($h()),Nl=U(xf()),Xa(),lu=U(Zg()),hs(),Za(),qe(),Zl(),za(),je(),$s={atrule:"params",decl:"value"}});function Ef({tailwindConfig:{theme:c}}){return function(d){d.walkAtRules("screen",h=>{let y=h.params,x=hr(c.screens).find(({name:w})=>w===y);if(!x)throw h.error(`No \`${y}\` screen found.`);h.name="media",h.params=tl(x)})}}var nm=v(()=>{L(),hs(),Za()});function ir(c){let d=c.filter(E=>E.type!=="pseudo"||E.nodes.length>0?!0:E.value.startsWith("::")||[":before",":after",":first-line",":first-letter"].includes(E.value)).reverse(),h=new Set(["tag","class","id","attribute"]),y=d.findIndex(E=>h.has(E.type));if(y===-1)return d.reverse().join("").trim();let x=d[y],w=Cn[x.type]?Cn[x.type](x):x;d=d.slice(0,y);let S=d.findIndex(E=>E.type==="combinator"&&E.value===">");return S!==-1&&(d.splice(0,S),d.unshift(kl.default.universal())),[w,...d.reverse()].join("").trim()}function e0(c){return os.has(c)||os.set(c,xr.transformSync(c)),os.get(c)}function rm({tailwindConfig:c}){return d=>{let h=new Map,y=new Set;if(d.walkAtRules("defaults",x=>{if(x.nodes&&x.nodes.length>0){y.add(x);return}let w=x.params;h.has(w)||h.set(w,new Set),h.get(w).add(x.parent),x.remove()}),Pe(c,"optimizeUniversalDefaults"))for(let x of y){let w=new Map,S=h.get(x.params)??[];for(let E of S)for(let _ of e0(E.selector)){let T=_.includes(":-")||_.includes("::-")||_.includes(":has")?_:"__DEFAULT__",I=w.get(T)??new Set;w.set(T,I),I.add(_)}if(w.size===0){x.remove();continue}for(let[,E]of w){let _=Rn.rule({source:x.source});_.selectors=[...E],_.append(x.nodes.map(T=>T.clone())),x.before(_)}x.remove()}else if(y.size){let x=Rn.rule({selectors:["*","::before","::after"]});for(let S of y)x.append(S.nodes),x.parent||S.before(x),x.source||(x.source=S.source),S.remove();let w=x.clone({selectors:["::backdrop"]});x.after(w)}}}var kl,Cn,xr,os,sm=v(()=>{L(),ds(),kl=U(ii()),Vt(),Cn={id(c){return kl.default.attribute({attribute:"id",operator:"=",value:c.value,quoteMark:'"'})}},xr=(0,kl.default)(c=>c.map(d=>{let h=d.split(y=>y.type==="combinator"&&y.value===" ").pop();return ir(h)})),os=new Map});function im(){function c(d){let h=null;d.each(y=>{if(!am.has(y.type)){h=null;return}if(h===null){h=y;return}let x=cu[y.type];y.type==="atrule"&&y.name==="font-face"?h=y:x.every(w=>(y[w]??"").replace(/\s+/g," ")===(h[w]??"").replace(/\s+/g," "))?(y.nodes&&h.append(y.nodes),y.remove()):h=y}),d.each(y=>{y.type==="atrule"&&c(y)})}return d=>{c(d)}}var cu,am,uu=v(()=>{L(),cu={atrule:["name","params"],rule:["selector"]},am=new Set(Object.keys(cu))});function Or(){return c=>{c.walkRules(d=>{let h=new Map,y=new Set([]),x=new Map;d.walkDecls(w=>{if(w.parent===d){if(h.has(w.prop)){if(h.get(w.prop).value===w.value){y.add(h.get(w.prop)),h.set(w.prop,w);return}x.has(w.prop)||x.set(w.prop,new Set),x.get(w.prop).add(h.get(w.prop)),x.get(w.prop).add(w)}h.set(w.prop,w)}});for(let w of y)w.remove();for(let w of x.values()){let S=new Map;for(let E of w){let _=ws(E.value);_!==null&&(S.has(_)||S.set(_,new Set),S.get(_).add(E))}for(let E of S.values()){let _=Array.from(E).slice(0,-1);for(let T of _)T.remove()}}})}}function ws(c){let d=/^-?\d*.?\d+([\w%]+)?$/g.exec(c);return d?d[1]??Cf:null}var Cf,Ur=v(()=>{L(),Cf=Symbol("unitless-number")});function om(c){if(!c.walkAtRules)return;let d=new Set;if(c.walkAtRules("apply",h=>{d.add(h.parent)}),d.size!==0)for(let h of d){let y=[],x=[];for(let w of h.nodes)w.type==="atrule"&&w.name==="apply"?(x.length>0&&(y.push(x),x=[]),y.push([w])):x.push(w);if(x.length>0&&y.push(x),y.length!==1){for(let w of[...y].reverse()){let S=h.clone({nodes:[]});S.append(w),h.after(S)}h.remove()}}}function zs(){return c=>{om(c)}}var Ta=v(()=>{L()});function Vs(c){return async function(d,h){let{tailwindDirectives:y,applyDirectives:x}=qp(d);zs()(d,h);let w=c({tailwindDirectives:y,applyDirectives:x,registerDependency(S){h.messages.push({plugin:"tailwindcss",parent:h.opts.from,...S})},createContext(S,E){return oo(S,E,d)}})(d,h);if(w.tailwindConfig.separator==="-")throw new Error("The '-' character cannot be used as a custom separator in JIT mode due to parsing ambiguity. Please use another character like '_' instead.");at(w.tailwindConfig),await Jp(w)(d,h),zs()(d,h),yf(w)(d,h),Sf(w)(d,h),Ef(w)(d,h),rm(w)(d,h),im()(d,h),Or()(d,h)}}var Tf=v(()=>{L(),lf(),Kp(),pi(),Yn(),nm(),sm(),uu(),Ur(),Ta(),uo(),Vt()});function Af(c,d){let h=null,y=null;return c.walkAtRules("config",x=>{var E;if(y=((E=x.source)==null?void 0:E.input.file)??d.opts.from??null,y===null)throw x.error("The `@config` directive cannot be used without setting `from` in your PostCSS config.");if(h)throw x.error("Only one `@config` directive is allowed per file.");let w=x.params.match(/(['"])(.*?)\1/);if(!w)throw x.error("A path is required when using the `@config` directive.");let S=w[2];if(Hn.isAbsolute(S))throw x.error("The `@config` directive cannot be used with an absolute path.");if(h=Hn.resolve(Hn.dirname(y),S),!re.existsSync(h))throw x.error(`The config file at "${S}" does not exist. Make sure the path is correct and the file exists.`);x.remove()}),h||null}var _s=v(()=>{L(),ce(),Ps()}),lm=p((c,d)=>{L(),of(),Tf(),ps(),_s(),d.exports=function(h){return{postcssPlugin:"tailwindcss",plugins:[Os.DEBUG&&function(y){return console.log(`
`),console.time("JIT TOTAL"),y},async function(y,x){h=Af(y,x)??h;let w=Bp(h);if(y.type==="document"){let S=y.nodes.filter(E=>E.type==="root");for(let E of S)E.type==="root"&&await Vs(w)(E,x);return}await Vs(w)(y,x)},Os.DEBUG&&function(y){return console.timeEnd("JIT TOTAL"),console.log(`
`),y}].filter(Boolean)}},d.exports.postcss=!0}),mo=p((c,d)=>{L(),d.exports=lm()}),go=p((c,d)=>{L(),d.exports=()=>["and_chr 114","and_uc 15.5","chrome 114","chrome 113","chrome 109","edge 114","firefox 114","ios_saf 16.5","ios_saf 16.4","ios_saf 16.3","ios_saf 16.1","opera 99","safari 16.5","samsung 21"]}),zi={};N(zi,{agents:()=>Nf,feature:()=>yo});function yo(){return{status:"cr",title:"CSS Feature Queries",stats:{ie:{6:"n",7:"n",8:"n",9:"n",10:"n",11:"n","5.5":"n"},edge:{12:"y",13:"y",14:"y",15:"y",16:"y",17:"y",18:"y",79:"y",80:"y",81:"y",83:"y",84:"y",85:"y",86:"y",87:"y",88:"y",89:"y",90:"y",91:"y",92:"y",93:"y",94:"y",95:"y",96:"y",97:"y",98:"y",99:"y",100:"y",101:"y",102:"y",103:"y",104:"y",105:"y",106:"y",107:"y",108:"y",109:"y",110:"y",111:"y",112:"y",113:"y",114:"y"},firefox:{2:"n",3:"n",4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y",43:"y",44:"y",45:"y",46:"y",47:"y",48:"y",49:"y",50:"y",51:"y",52:"y",53:"y",54:"y",55:"y",56:"y",57:"y",58:"y",59:"y",60:"y",61:"y",62:"y",63:"y",64:"y",65:"y",66:"y",67:"y",68:"y",69:"y",70:"y",71:"y",72:"y",73:"y",74:"y",75:"y",76:"y",77:"y",78:"y",79:"y",80:"y",81:"y",82:"y",83:"y",84:"y",85:"y",86:"y",87:"y",88:"y",89:"y",90:"y",91:"y",92:"y",93:"y",94:"y",95:"y",96:"y",97:"y",98:"y",99:"y",100:"y",101:"y",102:"y",103:"y",104:"y",105:"y",106:"y",107:"y",108:"y",109:"y",110:"y",111:"y",112:"y",113:"y",114:"y",115:"y",116:"y",117:"y","3.5":"n","3.6":"n"},chrome:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"n",10:"n",11:"n",12:"n",13:"n",14:"n",15:"n",16:"n",17:"n",18:"n",19:"n",20:"n",21:"n",22:"n",23:"n",24:"n",25:"n",26:"n",27:"n",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y",43:"y",44:"y",45:"y",46:"y",47:"y",48:"y",49:"y",50:"y",51:"y",52:"y",53:"y",54:"y",55:"y",56:"y",57:"y",58:"y",59:"y",60:"y",61:"y",62:"y",63:"y",64:"y",65:"y",66:"y",67:"y",68:"y",69:"y",70:"y",71:"y",72:"y",73:"y",74:"y",75:"y",76:"y",77:"y",78:"y",79:"y",80:"y",81:"y",83:"y",84:"y",85:"y",86:"y",87:"y",88:"y",89:"y",90:"y",91:"y",92:"y",93:"y",94:"y",95:"y",96:"y",97:"y",98:"y",99:"y",100:"y",101:"y",102:"y",103:"y",104:"y",105:"y",106:"y",107:"y",108:"y",109:"y",110:"y",111:"y",112:"y",113:"y",114:"y",115:"y",116:"y",117:"y"},safari:{4:"n",5:"n",6:"n",7:"n",8:"n",9:"y",10:"y",11:"y",12:"y",13:"y",14:"y",15:"y",17:"y","9.1":"y","10.1":"y","11.1":"y","12.1":"y","13.1":"y","14.1":"y","15.1":"y","15.2-15.3":"y","15.4":"y","15.5":"y","15.6":"y","16.0":"y","16.1":"y","16.2":"y","16.3":"y","16.4":"y","16.5":"y","16.6":"y",TP:"y","3.1":"n","3.2":"n","5.1":"n","6.1":"n","7.1":"n"},opera:{9:"n",11:"n",12:"n",15:"y",16:"y",17:"y",18:"y",19:"y",20:"y",21:"y",22:"y",23:"y",24:"y",25:"y",26:"y",27:"y",28:"y",29:"y",30:"y",31:"y",32:"y",33:"y",34:"y",35:"y",36:"y",37:"y",38:"y",39:"y",40:"y",41:"y",42:"y",43:"y",44:"y",45:"y",46:"y",47:"y",48:"y",49:"y",50:"y",51:"y",52:"y",53:"y",54:"y",55:"y",56:"y",57:"y",58:"y",60:"y",62:"y",63:"y",64:"y",65:"y",66:"y",67:"y",68:"y",69:"y",70:"y",71:"y",72:"y",73:"y",74:"y",75:"y",76:"y",77:"y",78:"y",79:"y",80:"y",81:"y",82:"y",83:"y",84:"y",85:"y",86:"y",87:"y",88:"y",89:"y",90:"y",91:"y",92:"y",93:"y",94:"y",95:"y",96:"y",97:"y",98:"y",99:"y",100:"y","12.1":"y","9.5-9.6":"n","10.0-10.1":"n","10.5":"n","10.6":"n","11.1":"n","11.5":"n","11.6":"n"},ios_saf:{8:"n",17:"y","9.0-9.2":"y","9.3":"y","10.0-10.2":"y","10.3":"y","11.0-11.2":"y","11.3-11.4":"y","12.0-12.1":"y","12.2-12.5":"y","13.0-13.1":"y","13.2":"y","13.3":"y","13.4-13.7":"y","14.0-14.4":"y","14.5-14.8":"y","15.0-15.1":"y","15.2-15.3":"y","15.4":"y","15.5":"y","15.6":"y","16.0":"y","16.1":"y","16.2":"y","16.3":"y","16.4":"y","16.5":"y","16.6":"y","3.2":"n","4.0-4.1":"n","4.2-4.3":"n","5.0-5.1":"n","6.0-6.1":"n","7.0-7.1":"n","8.1-8.4":"n"},op_mini:{all:"y"},android:{3:"n",4:"n",114:"y","4.4":"y","4.4.3-4.4.4":"y","2.1":"n","2.2":"n","2.3":"n","4.1":"n","4.2-4.3":"n"},bb:{7:"n",10:"n"},op_mob:{10:"n",11:"n",12:"n",73:"y","11.1":"n","11.5":"n","12.1":"n"},and_chr:{114:"y"},and_ff:{115:"y"},ie_mob:{10:"n",11:"n"},and_uc:{"15.5":"y"},samsung:{4:"y",20:"y",21:"y","5.0-5.4":"y","6.2-6.4":"y","7.2-7.4":"y","8.2":"y","9.2":"y","10.1":"y","11.1-11.2":"y","12.0":"y","13.0":"y","14.0":"y","15.0":"y","16.0":"y","17.0":"y","18.0":"y","19.0":"y"},and_qq:{"13.1":"y"},baidu:{"13.18":"y"},kaios:{"2.5":"y","3.0-3.1":"y"}}}}var Nf,du=v(()=>{L(),Nf={ie:{prefix:"ms"},edge:{prefix:"webkit",prefix_exceptions:{12:"ms",13:"ms",14:"ms",15:"ms",16:"ms",17:"ms",18:"ms"}},firefox:{prefix:"moz"},chrome:{prefix:"webkit"},safari:{prefix:"webkit"},opera:{prefix:"webkit",prefix_exceptions:{9:"o",11:"o",12:"o","9.5-9.6":"o","10.0-10.1":"o","10.5":"o","10.6":"o","11.1":"o","11.5":"o","11.6":"o","12.1":"o"}},ios_saf:{prefix:"webkit"},op_mini:{prefix:"o"},android:{prefix:"webkit"},bb:{prefix:"webkit"},op_mob:{prefix:"o",prefix_exceptions:{73:"webkit"}},and_chr:{prefix:"webkit"},and_ff:{prefix:"moz"},ie_mob:{prefix:"ms"},and_uc:{prefix:"webkit",prefix_exceptions:{"15.5":"webkit"}},samsung:{prefix:"webkit"},and_qq:{prefix:"webkit"},baidu:{prefix:"webkit"},kaios:{prefix:"moz"}}}),Il=p(()=>{L()}),br=p((c,d)=>{L();var{list:h}=ss();d.exports.error=function(y){let x=new Error(y);throw x.autoprefixer=!0,x},d.exports.uniq=function(y){return[...new Set(y)]},d.exports.removeNote=function(y){return y.includes(" ")?y.split(" ")[0]:y},d.exports.escapeRegexp=function(y){return y.replace(/[$()*+-.?[\\\]^{|}]/g,"\\$&")},d.exports.regexp=function(y,x=!0){return x&&(y=this.escapeRegexp(y)),new RegExp(`(^|[\\s,(])(${y}($|[\\s(,]))`,"gi")},d.exports.editList=function(y,x){let w=h.comma(y),S=x(w,[]);if(w===S)return y;let E=y.match(/,\s*/);return E=E?E[0]:", ",S.join(E)},d.exports.splitSelector=function(y){return h.comma(y).map(x=>h.space(x).map(w=>w.split(/(?=\.|#)/g)))}}),Fs=p((c,d)=>{L();var h=go(),y=(du(),zi).agents,x=br(),w=class{static prefixes(){if(this.prefixesCache)return this.prefixesCache;this.prefixesCache=[];for(let S in y)this.prefixesCache.push(`-${y[S].prefix}-`);return this.prefixesCache=x.uniq(this.prefixesCache).sort((S,E)=>E.length-S.length),this.prefixesCache}static withPrefix(S){return this.prefixesRegexp||(this.prefixesRegexp=new RegExp(this.prefixes().join("|"))),this.prefixesRegexp.test(S)}constructor(S,E,_,T){this.data=S,this.options=_||{},this.browserslistOpts=T||{},this.selected=this.parse(E)}parse(S){let E={};for(let _ in this.browserslistOpts)E[_]=this.browserslistOpts[_];return E.path=this.options.from,h(S,E)}prefix(S){let[E,_]=S.split(" "),T=this.data[E],I=T.prefix_exceptions&&T.prefix_exceptions[_];return I||(I=T.prefix),`-${I}-`}isSelected(S){return this.selected.includes(S)}};d.exports=w}),Rl=p((c,d)=>{L(),d.exports={prefix(h){let y=h.match(/^(-\w+-)/);return y?y[0]:""},unprefixed(h){return h.replace(/^-\w+-/,"")}}}),Dl=p((c,d)=>{L();var h=Fs(),y=Rl(),x=br();function w(E,_){let T=new E.constructor;for(let I of Object.keys(E||{})){let k=E[I];I==="parent"&&typeof k=="object"?_&&(T[I]=_):I==="source"||I===null?T[I]=k:Array.isArray(k)?T[I]=k.map(P=>w(P,T)):I!=="_autoprefixerPrefix"&&I!=="_autoprefixerValues"&&I!=="proxyCache"&&(typeof k=="object"&&k!==null&&(k=w(k,T)),T[I]=k)}return T}var S=class{static hack(E){return this.hacks||(this.hacks={}),E.names.map(_=>(this.hacks[_]=E,this.hacks[_]))}static load(E,_,T){let I=this.hacks&&this.hacks[E];return I?new I(E,_,T):new this(E,_,T)}static clone(E,_){let T=w(E);for(let I in _)T[I]=_[I];return T}constructor(E,_,T){this.prefixes=_,this.name=E,this.all=T}parentPrefix(E){let _;return typeof E._autoprefixerPrefix<"u"?_=E._autoprefixerPrefix:E.type==="decl"&&E.prop[0]==="-"?_=y.prefix(E.prop):E.type==="root"?_=!1:E.type==="rule"&&E.selector.includes(":-")&&/:(-\w+-)/.test(E.selector)?_=E.selector.match(/:(-\w+-)/)[1]:E.type==="atrule"&&E.name[0]==="-"?_=y.prefix(E.name):_=this.parentPrefix(E.parent),h.prefixes().includes(_)||(_=!1),E._autoprefixerPrefix=_,E._autoprefixerPrefix}process(E,_){if(!this.check(E))return;let T=this.parentPrefix(E),I=this.prefixes.filter(P=>!T||T===x.removeNote(P)),k=[];for(let P of I)this.add(E,P,k.concat([P]),_)&&k.push(P);return k}clone(E,_){return S.clone(E,_)}};d.exports=S}),Ot=p((c,d)=>{L();var h=Dl(),y=Fs(),x=br(),w=class extends h{check(){return!0}prefixed(S,E){return E+S}normalize(S){return S}otherPrefixes(S,E){for(let _ of y.prefixes())if(_!==E&&S.includes(_))return!0;return!1}set(S,E){return S.prop=this.prefixed(S.prop,E),S}needCascade(S){return S._autoprefixerCascade||(S._autoprefixerCascade=this.all.options.cascade!==!1&&S.raw("before").includes(`
`)),S._autoprefixerCascade}maxPrefixed(S,E){if(E._autoprefixerMax)return E._autoprefixerMax;let _=0;for(let T of S)T=x.removeNote(T),T.length>_&&(_=T.length);return E._autoprefixerMax=_,E._autoprefixerMax}calcBefore(S,E,_=""){let T=this.maxPrefixed(S,E)-x.removeNote(_).length,I=E.raw("before");return T>0&&(I+=Array(T).fill(" ").join("")),I}restoreBefore(S){let E=S.raw("before").split(`
`),_=E[E.length-1];this.all.group(S).up(T=>{let I=T.raw("before").split(`
`),k=I[I.length-1];k.length<_.length&&(_=k)}),E[E.length-1]=_,S.raws.before=E.join(`
`)}insert(S,E,_){let T=this.set(this.clone(S),E);if(!(!T||S.parent.some(I=>I.prop===T.prop&&I.value===T.value)))return this.needCascade(S)&&(T.raws.before=this.calcBefore(_,S,E)),S.parent.insertBefore(S,T)}isAlready(S,E){let _=this.all.group(S).up(T=>T.prop===E);return _||(_=this.all.group(S).down(T=>T.prop===E)),_}add(S,E,_,T){let I=this.prefixed(S.prop,E);if(!(this.isAlready(S,I)||this.otherPrefixes(S.value,E)))return this.insert(S,E,_,T)}process(S,E){if(!this.needCascade(S)){super.process(S,E);return}let _=super.process(S,E);!_||!_.length||(this.restoreBefore(S),S.raws.before=this.calcBefore(_,S))}old(S,E){return[this.prefixed(S,E)]}};d.exports=w}),ln=p((c,d)=>{L(),d.exports=function h(y){return{mul:x=>new h(y*x),div:x=>new h(y/x),simplify:()=>new h(y),toString:()=>y.toString()}}}),wn=p((c,d)=>{L();var h=ln(),y=Dl(),x=br(),w=/(min|max)-resolution\s*:\s*\d*\.?\d+(dppx|dpcm|dpi|x)/gi,S=/(min|max)-resolution(\s*:\s*)(\d*\.?\d+)(dppx|dpcm|dpi|x)/i,E=class extends y{prefixName(_,T){return _==="-moz-"?T+"--moz-device-pixel-ratio":_+T+"-device-pixel-ratio"}prefixQuery(_,T,I,k,P){return k=new h(k),P==="dpi"?k=k.div(96):P==="dpcm"&&(k=k.mul(2.54).div(96)),k=k.simplify(),_==="-o-"&&(k=k.n+"/"+k.d),this.prefixName(_,T)+I+k}clean(_){if(!this.bad){this.bad=[];for(let T of this.prefixes)this.bad.push(this.prefixName(T,"min")),this.bad.push(this.prefixName(T,"max"))}_.params=x.editList(_.params,T=>T.filter(I=>this.bad.every(k=>!I.includes(k))))}process(_){let T=this.parentPrefix(_),I=T?[T]:this.prefixes;_.params=x.editList(_.params,(k,P)=>{for(let M of k){if(!M.includes("min-resolution")&&!M.includes("max-resolution")){P.push(M);continue}for(let O of I){let j=M.replace(w,B=>{let V=B.match(S);return this.prefixQuery(O,V[1],V[2],V[3],V[4])});P.push(j)}P.push(M)}return x.uniq(P)})}};d.exports=E}),Ht=p((c,d)=>{L();var h=40,y=41,x=39,w=34,S=92,E=47,_=44,T=58,I=42,k=117,P=85,M=43,O=/^[a-f0-9?-]+$/i;d.exports=function(j){for(var B=[],V=j,$,G,Y,q,z,J,W,Z,X=0,ne=V.charCodeAt(X),Ve=V.length,Be=[{nodes:B}],Le=0,_e,Ee="",Xe="",Je="";X<Ve;)if(ne<=32){$=X;do $+=1,ne=V.charCodeAt($);while(ne<=32);q=V.slice(X,$),Y=B[B.length-1],ne===y&&Le?Je=q:Y&&Y.type==="div"?(Y.after=q,Y.sourceEndIndex+=q.length):ne===_||ne===T||ne===E&&V.charCodeAt($+1)!==I&&(!_e||_e&&_e.type==="function"&&_e.value!=="calc")?Xe=q:B.push({type:"space",sourceIndex:X,sourceEndIndex:$,value:q}),X=$}else if(ne===x||ne===w){$=X,G=ne===x?"'":'"',q={type:"string",sourceIndex:X,quote:G};do if(z=!1,$=V.indexOf(G,$+1),~$)for(J=$;V.charCodeAt(J-1)===S;)J-=1,z=!z;else V+=G,$=V.length-1,q.unclosed=!0;while(z);q.value=V.slice(X+1,$),q.sourceEndIndex=q.unclosed?$:$+1,B.push(q),X=$+1,ne=V.charCodeAt(X)}else if(ne===E&&V.charCodeAt(X+1)===I)$=V.indexOf("*/",X),q={type:"comment",sourceIndex:X,sourceEndIndex:$+2},$===-1&&(q.unclosed=!0,$=V.length,q.sourceEndIndex=$),q.value=V.slice(X+2,$),B.push(q),X=$+2,ne=V.charCodeAt(X);else if((ne===E||ne===I)&&_e&&_e.type==="function"&&_e.value==="calc")q=V[X],B.push({type:"word",sourceIndex:X-Xe.length,sourceEndIndex:X+q.length,value:q}),X+=1,ne=V.charCodeAt(X);else if(ne===E||ne===_||ne===T)q=V[X],B.push({type:"div",sourceIndex:X-Xe.length,sourceEndIndex:X+q.length,value:q,before:Xe,after:""}),Xe="",X+=1,ne=V.charCodeAt(X);else if(h===ne){$=X;do $+=1,ne=V.charCodeAt($);while(ne<=32);if(Z=X,q={type:"function",sourceIndex:X-Ee.length,value:Ee,before:V.slice(Z+1,$)},X=$,Ee==="url"&&ne!==x&&ne!==w){$-=1;do if(z=!1,$=V.indexOf(")",$+1),~$)for(J=$;V.charCodeAt(J-1)===S;)J-=1,z=!z;else V+=")",$=V.length-1,q.unclosed=!0;while(z);W=$;do W-=1,ne=V.charCodeAt(W);while(ne<=32);Z<W?(X!==W+1?q.nodes=[{type:"word",sourceIndex:X,sourceEndIndex:W+1,value:V.slice(X,W+1)}]:q.nodes=[],q.unclosed&&W+1!==$?(q.after="",q.nodes.push({type:"space",sourceIndex:W+1,sourceEndIndex:$,value:V.slice(W+1,$)})):(q.after=V.slice(W+1,$),q.sourceEndIndex=$)):(q.after="",q.nodes=[]),X=$+1,q.sourceEndIndex=q.unclosed?$:X,ne=V.charCodeAt(X),B.push(q)}else Le+=1,q.after="",q.sourceEndIndex=X+1,B.push(q),Be.push(q),B=q.nodes=[],_e=q;Ee=""}else if(y===ne&&Le)X+=1,ne=V.charCodeAt(X),_e.after=Je,_e.sourceEndIndex+=Je.length,Je="",Le-=1,Be[Be.length-1].sourceEndIndex=X,Be.pop(),_e=Be[Le],B=_e.nodes;else{$=X;do ne===S&&($+=1),$+=1,ne=V.charCodeAt($);while($<Ve&&!(ne<=32||ne===x||ne===w||ne===_||ne===T||ne===E||ne===h||ne===I&&_e&&_e.type==="function"&&_e.value==="calc"||ne===E&&_e.type==="function"&&_e.value==="calc"||ne===y&&Le));q=V.slice(X,$),h===ne?Ee=q:(k===q.charCodeAt(0)||P===q.charCodeAt(0))&&M===q.charCodeAt(1)&&O.test(q.slice(2))?B.push({type:"unicode-range",sourceIndex:X,sourceEndIndex:$,value:q}):B.push({type:"word",sourceIndex:X,sourceEndIndex:$,value:q}),X=$}for(X=Be.length-1;X;X-=1)Be[X].unclosed=!0,Be[X].sourceEndIndex=V.length;return Be[0].nodes}}),Kt=p((c,d)=>{L(),d.exports=function h(y,x,w){var S,E,_,T;for(S=0,E=y.length;S<E;S+=1)_=y[S],w||(T=x(_,S,y)),T!==!1&&_.type==="function"&&Array.isArray(_.nodes)&&h(_.nodes,x,w),w&&x(_,S,y)}}),pn=p((c,d)=>{L();function h(x,w){var S=x.type,E=x.value,_,T;return w&&(T=w(x))!==void 0?T:S==="word"||S==="space"?E:S==="string"?(_=x.quote||"",_+E+(x.unclosed?"":_)):S==="comment"?"/*"+E+(x.unclosed?"":"*/"):S==="div"?(x.before||"")+E+(x.after||""):Array.isArray(x.nodes)?(_=y(x.nodes,w),S!=="function"?_:E+"("+(x.before||"")+_+(x.after||"")+(x.unclosed?"":")")):E}function y(x,w){var S,E;if(Array.isArray(x)){for(S="",E=x.length-1;~E;E-=1)S=h(x[E],w)+S;return S}return h(x,w)}d.exports=y}),Kr=p((c,d)=>{L();var h=45,y=43,x=46,w=101,S=69;function E(_){var T=_.charCodeAt(0),I;if(T===y||T===h){if(I=_.charCodeAt(1),I>=48&&I<=57)return!0;var k=_.charCodeAt(2);return I===x&&k>=48&&k<=57}return T===x?(I=_.charCodeAt(1),I>=48&&I<=57):T>=48&&T<=57}d.exports=function(_){var T=0,I=_.length,k,P,M;if(I===0||!E(_))return!1;for(k=_.charCodeAt(T),(k===y||k===h)&&T++;T<I&&(k=_.charCodeAt(T),!(k<48||k>57));)T+=1;if(k=_.charCodeAt(T),P=_.charCodeAt(T+1),k===x&&P>=48&&P<=57)for(T+=2;T<I&&(k=_.charCodeAt(T),!(k<48||k>57));)T+=1;if(k=_.charCodeAt(T),P=_.charCodeAt(T+1),M=_.charCodeAt(T+2),(k===w||k===S)&&(P>=48&&P<=57||(P===y||P===h)&&M>=48&&M<=57))for(T+=P===y||P===h?3:2;T<I&&(k=_.charCodeAt(T),!(k<48||k>57));)T+=1;return{number:_.slice(0,T),unit:_.slice(T)}}}),Hs=p((c,d)=>{L();var h=Ht(),y=Kt(),x=pn();function w(S){return this instanceof w?(this.nodes=h(S),this):new w(S)}w.prototype.toString=function(){return Array.isArray(this.nodes)?x(this.nodes):""},w.prototype.walk=function(S,E){return y(this.nodes,S,E),this},w.unit=Kr(),w.walk=y,w.stringify=x,d.exports=w}),vo=p((c,d)=>{L();var{list:h}=ss(),y=Hs(),x=Fs(),w=Rl(),S=class{constructor(E){this.props=["transition","transition-property"],this.prefixes=E}add(E,_){let T,I,k=this.prefixes.add[E.prop],P=this.ruleVendorPrefixes(E),M=P||k&&k.prefixes||[],O=this.parse(E.value),j=O.map(G=>this.findProp(G)),B=[];if(j.some(G=>G[0]==="-"))return;for(let G of O){if(I=this.findProp(G),I[0]==="-")continue;let Y=this.prefixes.add[I];if(!(!Y||!Y.prefixes))for(T of Y.prefixes){if(P&&!P.some(z=>T.includes(z)))continue;let q=this.prefixes.prefixed(I,T);q!=="-ms-transform"&&!j.includes(q)&&(this.disabled(I,T)||B.push(this.clone(I,q,G)))}}O=O.concat(B);let V=this.stringify(O),$=this.stringify(this.cleanFromUnprefixed(O,"-webkit-"));if(M.includes("-webkit-")&&this.cloneBefore(E,`-webkit-${E.prop}`,$),this.cloneBefore(E,E.prop,$),M.includes("-o-")){let G=this.stringify(this.cleanFromUnprefixed(O,"-o-"));this.cloneBefore(E,`-o-${E.prop}`,G)}for(T of M)if(T!=="-webkit-"&&T!=="-o-"){let G=this.stringify(this.cleanOtherPrefixes(O,T));this.cloneBefore(E,T+E.prop,G)}V!==E.value&&!this.already(E,E.prop,V)&&(this.checkForWarning(_,E),E.cloneBefore(),E.value=V)}findProp(E){let _=E[0].value;if(/^\d/.test(_)){for(let[T,I]of E.entries())if(T!==0&&I.type==="word")return I.value}return _}already(E,_,T){return E.parent.some(I=>I.prop===_&&I.value===T)}cloneBefore(E,_,T){this.already(E,_,T)||E.cloneBefore({prop:_,value:T})}checkForWarning(E,_){if(_.prop!=="transition-property")return;let T=!1,I=!1;_.parent.each(k=>{if(k.type!=="decl"||k.prop.indexOf("transition-")!==0)return;let P=h.comma(k.value);if(k.prop==="transition-property"){P.forEach(M=>{let O=this.prefixes.add[M];O&&O.prefixes&&O.prefixes.length>0&&(T=!0)});return}return I=I||P.length>1,!1}),T&&I&&_.warn(E,"Replace transition-property to transition, because Autoprefixer could not support any cases of transition-property and other transition-*")}remove(E){let _=this.parse(E.value);_=_.filter(P=>{let M=this.prefixes.remove[this.findProp(P)];return!M||!M.remove});let T=this.stringify(_);if(E.value===T)return;if(_.length===0){E.remove();return}let I=E.parent.some(P=>P.prop===E.prop&&P.value===T),k=E.parent.some(P=>P!==E&&P.prop===E.prop&&P.value.length>T.length);if(I||k){E.remove();return}E.value=T}parse(E){let _=y(E),T=[],I=[];for(let k of _.nodes)I.push(k),k.type==="div"&&k.value===","&&(T.push(I),I=[]);return T.push(I),T.filter(k=>k.length>0)}stringify(E){if(E.length===0)return"";let _=[];for(let T of E)T[T.length-1].type!=="div"&&T.push(this.div(E)),_=_.concat(T);return _[0].type==="div"&&(_=_.slice(1)),_[_.length-1].type==="div"&&(_=_.slice(0,-1)),y.stringify({nodes:_})}clone(E,_,T){let I=[],k=!1;for(let P of T)!k&&P.type==="word"&&P.value===E?(I.push({type:"word",value:_}),k=!0):I.push(P);return I}div(E){for(let _ of E)for(let T of _)if(T.type==="div"&&T.value===",")return T;return{type:"div",value:",",after:" "}}cleanOtherPrefixes(E,_){return E.filter(T=>{let I=w.prefix(this.findProp(T));return I===""||I===_})}cleanFromUnprefixed(E,_){let T=E.map(k=>this.findProp(k)).filter(k=>k.slice(0,_.length)===_).map(k=>this.prefixes.unprefixed(k)),I=[];for(let k of E){let P=this.findProp(k),M=w.prefix(P);!T.includes(P)&&(M===_||M==="")&&I.push(k)}return I}disabled(E,_){let T=["order","justify-content","align-self","align-content"];if(E.includes("flex")||T.includes(E)){if(this.prefixes.options.flexbox===!1)return!0;if(this.prefixes.options.flexbox==="no-2009")return _.includes("2009")}}ruleVendorPrefixes(E){let{parent:_}=E;if(_.type!=="rule"||!_.selector.includes(":-"))return!1;let T=x.prefixes().filter(I=>_.selector.includes(":"+I));return T.length>0?T:!1}};d.exports=S}),Aa=p((c,d)=>{L();var h=br(),y=class{constructor(x,w,S,E){this.unprefixed=x,this.prefixed=w,this.string=S||w,this.regexp=E||h.regexp(w)}check(x){return x.includes(this.string)?!!x.match(this.regexp):!1}};d.exports=y}),Xn=p((c,d)=>{L();var h=Dl(),y=Aa(),x=Rl(),w=br(),S=class extends h{static save(E,_){let T=_.prop,I=[];for(let k in _._autoprefixerValues){let P=_._autoprefixerValues[k];if(P===_.value)continue;let M,O=x.prefix(T);if(O==="-pie-")continue;if(O===k){M=_.value=P,I.push(M);continue}let j=E.prefixed(T,k),B=_.parent;if(!B.every(G=>G.prop!==j)){I.push(M);continue}let V=P.replace(/\s+/," ");if(B.some(G=>G.prop===_.prop&&G.value.replace(/\s+/," ")===V)){I.push(M);continue}let $=this.clone(_,{value:P});M=_.parent.insertBefore(_,$),I.push(M)}return I}check(E){let _=E.value;return _.includes(this.name)?!!_.match(this.regexp()):!1}regexp(){return this.regexpCache||(this.regexpCache=w.regexp(this.name))}replace(E,_){return E.replace(this.regexp(),`$1${_}$2`)}value(E){return E.raws.value&&E.raws.value.value===E.value?E.raws.value.raw:E.value}add(E,_){E._autoprefixerValues||(E._autoprefixerValues={});let T=E._autoprefixerValues[_]||this.value(E),I;do if(I=T,T=this.replace(T,_),T===!1)return;while(T!==I);E._autoprefixerValues[_]=T}old(E){return new y(this.name,E+this.name)}};d.exports=S}),xn=p((c,d)=>{L(),d.exports={}}),gi=p((c,d)=>{L();var h=Hs(),y=Xn(),x=xn().insertAreas,w=/(^|[^-])linear-gradient\(\s*(top|left|right|bottom)/i,S=/(^|[^-])radial-gradient\(\s*\d+(\w*|%)\s+\d+(\w*|%)\s*,/i,E=/(!\s*)?autoprefixer:\s*ignore\s+next/i,_=/(!\s*)?autoprefixer\s*grid:\s*(on|off|(no-)?autoplace)/i,T=["width","height","min-width","max-width","min-height","max-height","inline-size","min-inline-size","max-inline-size","block-size","min-block-size","max-block-size"];function I(M){return M.parent.some(O=>O.prop==="grid-template"||O.prop==="grid-template-areas")}function k(M){let O=M.parent.some(B=>B.prop==="grid-template-rows"),j=M.parent.some(B=>B.prop==="grid-template-columns");return O&&j}var P=class{constructor(M){this.prefixes=M}add(M,O){let j=this.prefixes.add["@resolution"],B=this.prefixes.add["@keyframes"],V=this.prefixes.add["@viewport"],$=this.prefixes.add["@supports"];M.walkAtRules(z=>{if(z.name==="keyframes"){if(!this.disabled(z,O))return B&&B.process(z)}else if(z.name==="viewport"){if(!this.disabled(z,O))return V&&V.process(z)}else if(z.name==="supports"){if(this.prefixes.options.supports!==!1&&!this.disabled(z,O))return $.process(z)}else if(z.name==="media"&&z.params.includes("-resolution")&&!this.disabled(z,O))return j&&j.process(z)}),M.walkRules(z=>{if(!this.disabled(z,O))return this.prefixes.add.selectors.map(J=>J.process(z,O))});function G(z){return z.parent.nodes.some(J=>{if(J.type!=="decl")return!1;let W=J.prop==="display"&&/(inline-)?grid/.test(J.value),Z=J.prop.startsWith("grid-template"),X=/^grid-([A-z]+-)?gap/.test(J.prop);return W||Z||X})}function Y(z){return z.parent.some(J=>J.prop==="display"&&/(inline-)?flex/.test(J.value))}let q=this.gridStatus(M,O)&&this.prefixes.add["grid-area"]&&this.prefixes.add["grid-area"].prefixes;return M.walkDecls(z=>{if(this.disabledDecl(z,O))return;let J=z.parent,W=z.prop,Z=z.value;if(W==="grid-row-span"){O.warn("grid-row-span is not part of final Grid Layout. Use grid-row.",{node:z});return}else if(W==="grid-column-span"){O.warn("grid-column-span is not part of final Grid Layout. Use grid-column.",{node:z});return}else if(W==="display"&&Z==="box"){O.warn("You should write display: flex by final spec instead of display: box",{node:z});return}else if(W==="text-emphasis-position")(Z==="under"||Z==="over")&&O.warn("You should use 2 values for text-emphasis-position For example, `under left` instead of just `under`.",{node:z});else if(/^(align|justify|place)-(items|content)$/.test(W)&&Y(z))(Z==="start"||Z==="end")&&O.warn(`${Z} value has mixed support, consider using flex-${Z} instead`,{node:z});else if(W==="text-decoration-skip"&&Z==="ink")O.warn("Replace text-decoration-skip: ink to text-decoration-skip-ink: auto, because spec had been changed",{node:z});else{if(q&&this.gridStatus(z,O))if(z.value==="subgrid"&&O.warn("IE does not support subgrid",{node:z}),/^(align|justify|place)-items$/.test(W)&&G(z)){let ne=W.replace("-items","-self");O.warn(`IE does not support ${W} on grid containers. Try using ${ne} on child elements instead: ${z.parent.selector} > * { ${ne}: ${z.value} }`,{node:z})}else if(/^(align|justify|place)-content$/.test(W)&&G(z))O.warn(`IE does not support ${z.prop} on grid containers`,{node:z});else if(W==="display"&&z.value==="contents"){O.warn("Please do not use display: contents; if you have grid setting enabled",{node:z});return}else if(z.prop==="grid-gap"){let ne=this.gridStatus(z,O);ne==="autoplace"&&!k(z)&&!I(z)?O.warn("grid-gap only works if grid-template(-areas) is being used or both rows and columns have been declared and cells have not been manually placed inside the explicit grid",{node:z}):(ne===!0||ne==="no-autoplace")&&!I(z)&&O.warn("grid-gap only works if grid-template(-areas) is being used",{node:z})}else if(W==="grid-auto-columns"){O.warn("grid-auto-columns is not supported by IE",{node:z});return}else if(W==="grid-auto-rows"){O.warn("grid-auto-rows is not supported by IE",{node:z});return}else if(W==="grid-auto-flow"){let ne=J.some(Be=>Be.prop==="grid-template-rows"),Ve=J.some(Be=>Be.prop==="grid-template-columns");I(z)?O.warn("grid-auto-flow is not supported by IE",{node:z}):Z.includes("dense")?O.warn("grid-auto-flow: dense is not supported by IE",{node:z}):!ne&&!Ve&&O.warn("grid-auto-flow works only if grid-template-rows and grid-template-columns are present in the same rule",{node:z});return}else if(Z.includes("auto-fit")){O.warn("auto-fit value is not supported by IE",{node:z,word:"auto-fit"});return}else if(Z.includes("auto-fill")){O.warn("auto-fill value is not supported by IE",{node:z,word:"auto-fill"});return}else W.startsWith("grid-template")&&Z.includes("[")&&O.warn("Autoprefixer currently does not support line names. Try using grid-template-areas instead.",{node:z,word:"["});if(Z.includes("radial-gradient"))if(S.test(z.value))O.warn("Gradient has outdated direction syntax. New syntax is like `closest-side at 0 0` instead of `0 0, closest-side`.",{node:z});else{let ne=h(Z);for(let Ve of ne.nodes)if(Ve.type==="function"&&Ve.value==="radial-gradient")for(let Be of Ve.nodes)Be.type==="word"&&(Be.value==="cover"?O.warn("Gradient has outdated direction syntax. Replace `cover` to `farthest-corner`.",{node:z}):Be.value==="contain"&&O.warn("Gradient has outdated direction syntax. Replace `contain` to `closest-side`.",{node:z}))}Z.includes("linear-gradient")&&w.test(Z)&&O.warn("Gradient has outdated direction syntax. New syntax is like `to left` instead of `right`.",{node:z})}T.includes(z.prop)&&(z.value.includes("-fill-available")||(z.value.includes("fill-available")?O.warn("Replace fill-available to stretch, because spec had been changed",{node:z}):z.value.includes("fill")&&h(Z).nodes.some(ne=>ne.type==="word"&&ne.value==="fill")&&O.warn("Replace fill to stretch, because spec had been changed",{node:z})));let X;if(z.prop==="transition"||z.prop==="transition-property")return this.prefixes.transition.add(z,O);if(z.prop==="align-self"){if(this.displayType(z)!=="grid"&&this.prefixes.options.flexbox!==!1&&(X=this.prefixes.add["align-self"],X&&X.prefixes&&X.process(z)),this.gridStatus(z,O)!==!1&&(X=this.prefixes.add["grid-row-align"],X&&X.prefixes))return X.process(z,O)}else if(z.prop==="justify-self"){if(this.gridStatus(z,O)!==!1&&(X=this.prefixes.add["grid-column-align"],X&&X.prefixes))return X.process(z,O)}else if(z.prop==="place-self"){if(X=this.prefixes.add["place-self"],X&&X.prefixes&&this.gridStatus(z,O)!==!1)return X.process(z,O)}else if(X=this.prefixes.add[z.prop],X&&X.prefixes)return X.process(z,O)}),this.gridStatus(M,O)&&x(M,this.disabled),M.walkDecls(z=>{if(this.disabledValue(z,O))return;let J=this.prefixes.unprefixed(z.prop),W=this.prefixes.values("add",J);if(Array.isArray(W))for(let Z of W)Z.process&&Z.process(z,O);y.save(this.prefixes,z)})}remove(M,O){let j=this.prefixes.remove["@resolution"];M.walkAtRules((B,V)=>{this.prefixes.remove[`@${B.name}`]?this.disabled(B,O)||B.parent.removeChild(V):B.name==="media"&&B.params.includes("-resolution")&&j&&j.clean(B)});for(let B of this.prefixes.remove.selectors)M.walkRules((V,$)=>{B.check(V)&&(this.disabled(V,O)||V.parent.removeChild($))});return M.walkDecls((B,V)=>{if(this.disabled(B,O))return;let $=B.parent,G=this.prefixes.unprefixed(B.prop);if((B.prop==="transition"||B.prop==="transition-property")&&this.prefixes.transition.remove(B),this.prefixes.remove[B.prop]&&this.prefixes.remove[B.prop].remove){let Y=this.prefixes.group(B).down(q=>this.prefixes.normalize(q.prop)===G);if(G==="flex-flow"&&(Y=!0),B.prop==="-webkit-box-orient"){let q={"flex-direction":!0,"flex-flow":!0};if(!B.parent.some(z=>q[z.prop]))return}if(Y&&!this.withHackValue(B)){B.raw("before").includes(`
`)&&this.reduceSpaces(B),$.removeChild(V);return}}for(let Y of this.prefixes.values("remove",G))if(!(!Y.check||!Y.check(B.value))&&(G=Y.unprefixed,this.prefixes.group(B).down(q=>q.value.includes(G)))){$.removeChild(V);return}})}withHackValue(M){return M.prop==="-webkit-background-clip"&&M.value==="text"}disabledValue(M,O){return this.gridStatus(M,O)===!1&&M.type==="decl"&&M.prop==="display"&&M.value.includes("grid")||this.prefixes.options.flexbox===!1&&M.type==="decl"&&M.prop==="display"&&M.value.includes("flex")||M.type==="decl"&&M.prop==="content"?!0:this.disabled(M,O)}disabledDecl(M,O){if(this.gridStatus(M,O)===!1&&M.type==="decl"&&(M.prop.includes("grid")||M.prop==="justify-items"))return!0;if(this.prefixes.options.flexbox===!1&&M.type==="decl"){let j=["order","justify-content","align-items","align-content"];if(M.prop.includes("flex")||j.includes(M.prop))return!0}return this.disabled(M,O)}disabled(M,O){if(!M)return!1;if(M._autoprefixerDisabled!==void 0)return M._autoprefixerDisabled;if(M.parent){let B=M.prev();if(B&&B.type==="comment"&&E.test(B.text))return M._autoprefixerDisabled=!0,M._autoprefixerSelfDisabled=!0,!0}let j=null;if(M.nodes){let B;M.each(V=>{V.type==="comment"&&/(!\s*)?autoprefixer:\s*(off|on)/i.test(V.text)&&(typeof B<"u"?O.warn("Second Autoprefixer control comment was ignored. Autoprefixer applies control comment to whole block, not to next rules.",{node:V}):B=/on/i.test(V.text))}),B!==void 0&&(j=!B)}if(!M.nodes||j===null)if(M.parent){let B=this.disabled(M.parent,O);M.parent._autoprefixerSelfDisabled===!0?j=!1:j=B}else j=!1;return M._autoprefixerDisabled=j,j}reduceSpaces(M){let O=!1;if(this.prefixes.group(M).up(()=>(O=!0,!0)),O)return;let j=M.raw("before").split(`
`),B=j[j.length-1].length,V=!1;this.prefixes.group(M).down($=>{j=$.raw("before").split(`
`);let G=j.length-1;j[G].length>B&&(V===!1&&(V=j[G].length-B),j[G]=j[G].slice(0,-V),$.raws.before=j.join(`
`))})}displayType(M){for(let O of M.parent.nodes)if(O.prop==="display"){if(O.value.includes("flex"))return"flex";if(O.value.includes("grid"))return"grid"}return!1}gridStatus(M,O){if(!M)return!1;if(M._autoprefixerGridStatus!==void 0)return M._autoprefixerGridStatus;let j=null;if(M.nodes){let B;M.each(V=>{if(V.type==="comment"&&_.test(V.text)){let $=/:\s*autoplace/i.test(V.text),G=/no-autoplace/i.test(V.text);typeof B<"u"?O.warn("Second Autoprefixer grid control comment was ignored. Autoprefixer applies control comments to the whole block, not to the next rules.",{node:V}):$?B="autoplace":G?B=!0:B=/on/i.test(V.text)}}),B!==void 0&&(j=B)}if(M.type==="atrule"&&M.name==="supports"){let B=M.params;B.includes("grid")&&B.includes("auto")&&(j=!1)}if(!M.nodes||j===null)if(M.parent){let B=this.gridStatus(M.parent,O);M.parent._autoprefixerSelfDisabled===!0?j=!1:j=B}else typeof this.prefixes.options.grid<"u"?j=this.prefixes.options.grid:typeof F.env.AUTOPREFIXER_GRID<"u"?F.env.AUTOPREFIXER_GRID==="autoplace"?j="autoplace":j=!0:j=!1;return M._autoprefixerGridStatus=j,j}};d.exports=P}),Na=p((c,d)=>{L(),d.exports={A:{A:{2:"K E F G A B JC"},B:{1:"C L M H N D O P Q R S T U V W X Y Z a b c d e f g h i j n o p q r s t u v w x y z I"},C:{1:"2 3 4 5 6 7 8 9 AB BB CB DB EB FB GB HB IB JB KB LB MB NB OB PB QB RB SB TB UB VB WB XB YB ZB aB bB cB 0B dB 1B eB fB gB hB iB jB kB lB mB nB oB m pB qB rB sB tB P Q R 2B S T U V W X Y Z a b c d e f g h i j n o p q r s t u v w x y z I uB 3B 4B",2:"0 1 KC zB J K E F G A B C L M H N D O k l LC MC"},D:{1:"8 9 AB BB CB DB EB FB GB HB IB JB KB LB MB NB OB PB QB RB SB TB UB VB WB XB YB ZB aB bB cB 0B dB 1B eB fB gB hB iB jB kB lB mB nB oB m pB qB rB sB tB P Q R S T U V W X Y Z a b c d e f g h i j n o p q r s t u v w x y z I uB 3B 4B",2:"0 1 2 3 4 5 6 7 J K E F G A B C L M H N D O k l"},E:{1:"G A B C L M H D RC 6B vB wB 7B SC TC 8B 9B xB AC yB BC CC DC EC FC GC UC",2:"0 J K E F NC 5B OC PC QC"},F:{1:"1 2 3 4 5 6 7 8 9 H N D O k l AB BB CB DB EB FB GB HB IB JB KB LB MB NB OB PB QB RB SB TB UB VB WB XB YB ZB aB bB cB dB eB fB gB hB iB jB kB lB mB nB oB m pB qB rB sB tB P Q R 2B S T U V W X Y Z a b c d e f g h i j wB",2:"G B C VC WC XC YC vB HC ZC"},G:{1:"D fC gC hC iC jC kC lC mC nC oC pC qC rC sC tC 8B 9B xB AC yB BC CC DC EC FC GC",2:"F 5B aC IC bC cC dC eC"},H:{1:"uC"},I:{1:"I zC 0C",2:"zB J vC wC xC yC IC"},J:{2:"E A"},K:{1:"m",2:"A B C vB HC wB"},L:{1:"I"},M:{1:"uB"},N:{2:"A B"},O:{1:"xB"},P:{1:"J k l 1C 2C 3C 4C 5C 6B 6C 7C 8C 9C AD yB BD CD DD"},Q:{1:"7B"},R:{1:"ED"},S:{1:"FD GD"}},B:4,C:"CSS Feature Queries"}}),kf=p((c,d)=>{L();function h(x){return x[x.length-1]}var y={parse(x){let w=[""],S=[w];for(let E of x){if(E==="("){w=[""],h(S).push(w),S.push(w);continue}if(E===")"){S.pop(),w=h(S),w.push("");continue}w[w.length-1]+=E}return S[0]},stringify(x){let w="";for(let S of x){if(typeof S=="object"){w+=`(${y.stringify(S)})`;continue}w+=S}return w}};d.exports=y}),Wr=p((c,d)=>{L();var h=Na(),{feature:y}=(du(),zi),{parse:x}=ss(),w=Fs(),S=kf(),E=Xn(),_=br(),T=y(h),I=[];for(let P in T.stats){let M=T.stats[P];for(let O in M){let j=M[O];/y/.test(j)&&I.push(P+" "+O)}}var k=class{constructor(P,M){this.Prefixes=P,this.all=M}prefixer(){if(this.prefixerCache)return this.prefixerCache;let P=this.all.browsers.selected.filter(O=>I.includes(O)),M=new w(this.all.browsers.data,P,this.all.options);return this.prefixerCache=new this.Prefixes(this.all.data,M,this.all.options),this.prefixerCache}parse(P){let M=P.split(":"),O=M[0],j=M[1];return j||(j=""),[O.trim(),j.trim()]}virtual(P){let[M,O]=this.parse(P),j=x("a{}").first;return j.append({prop:M,value:O,raws:{before:""}}),j}prefixed(P){let M=this.virtual(P);if(this.disabled(M.first))return M.nodes;let O={warn:()=>null},j=this.prefixer().add[M.first.prop];j&&j.process&&j.process(M.first,O);for(let B of M.nodes){for(let V of this.prefixer().values("add",M.first.prop))V.process(B);E.save(this.all,B)}return M.nodes}isNot(P){return typeof P=="string"&&/not\s*/i.test(P)}isOr(P){return typeof P=="string"&&/\s*or\s*/i.test(P)}isProp(P){return typeof P=="object"&&P.length===1&&typeof P[0]=="string"}isHack(P,M){return!new RegExp(`(\\(|\\s)${_.escapeRegexp(M)}:`).test(P)}toRemove(P,M){let[O,j]=this.parse(P),B=this.all.unprefixed(O),V=this.all.cleaner();if(V.remove[O]&&V.remove[O].remove&&!this.isHack(M,B))return!0;for(let $ of V.values("remove",B))if($.check(j))return!0;return!1}remove(P,M){let O=0;for(;O<P.length;){if(!this.isNot(P[O-1])&&this.isProp(P[O])&&this.isOr(P[O+1])){if(this.toRemove(P[O][0],M)){P.splice(O,2);continue}O+=2;continue}typeof P[O]=="object"&&(P[O]=this.remove(P[O],M)),O+=1}return P}cleanBrackets(P){return P.map(M=>typeof M!="object"?M:M.length===1&&typeof M[0]=="object"?this.cleanBrackets(M[0]):this.cleanBrackets(M))}convert(P){let M=[""];for(let O of P)M.push([`${O.prop}: ${O.value}`]),M.push(" or ");return M[M.length-1]="",M}normalize(P){if(typeof P!="object")return P;if(P=P.filter(M=>M!==""),typeof P[0]=="string"){let M=P[0].trim();if(M.includes(":")||M==="selector"||M==="not selector")return[S.stringify(P)]}return P.map(M=>this.normalize(M))}add(P,M){return P.map(O=>{if(this.isProp(O)){let j=this.prefixed(O[0]);return j.length>1?this.convert(j):O}return typeof O=="object"?this.add(O,M):O})}process(P){let M=S.parse(P.params);M=this.normalize(M),M=this.remove(M,P.params),M=this.add(M,P.params),M=this.cleanBrackets(M),P.params=S.stringify(M)}disabled(P){if(!this.all.options.grid&&(P.prop==="display"&&P.value.includes("grid")||P.prop.includes("grid")||P.prop==="justify-items"))return!0;if(this.all.options.flexbox===!1){if(P.prop==="display"&&P.value.includes("flex"))return!0;let M=["order","justify-content","align-items","align-content"];if(P.prop.includes("flex")||M.includes(P.prop))return!0}return!1}};d.exports=k}),xo=p((c,d)=>{L();var h=class{constructor(y,x){this.prefix=x,this.prefixed=y.prefixed(this.prefix),this.regexp=y.regexp(this.prefix),this.prefixeds=y.possible().map(w=>[y.prefixed(w),y.regexp(w)]),this.unprefixed=y.name,this.nameRegexp=y.regexp()}isHack(y){let x=y.parent.index(y)+1,w=y.parent.nodes;for(;x<w.length;){let S=w[x].selector;if(!S)return!0;if(S.includes(this.unprefixed)&&S.match(this.nameRegexp))return!1;let E=!1;for(let[_,T]of this.prefixeds)if(S.includes(_)&&S.match(T)){E=!0;break}if(!E)return!0;x+=1}return!0}check(y){return!(!y.selector.includes(this.prefixed)||!y.selector.match(this.regexp)||this.isHack(y))}};d.exports=h}),yi=p((c,d)=>{L();var{list:h}=ss(),y=xo(),x=Dl(),w=Fs(),S=br(),E=class extends x{constructor(_,T,I){super(_,T,I),this.regexpCache=new Map}check(_){return _.selector.includes(this.name)?!!_.selector.match(this.regexp()):!1}prefixed(_){return this.name.replace(/^(\W*)/,`$1${_}`)}regexp(_){if(!this.regexpCache.has(_)){let T=_?this.prefixed(_):this.name;this.regexpCache.set(_,new RegExp(`(^|[^:"'=])${S.escapeRegexp(T)}`,"gi"))}return this.regexpCache.get(_)}possible(){return w.prefixes()}prefixeds(_){if(_._autoprefixerPrefixeds){if(_._autoprefixerPrefixeds[this.name])return _._autoprefixerPrefixeds}else _._autoprefixerPrefixeds={};let T={};if(_.selector.includes(",")){let I=h.comma(_.selector).filter(k=>k.includes(this.name));for(let k of this.possible())T[k]=I.map(P=>this.replace(P,k)).join(", ")}else for(let I of this.possible())T[I]=this.replace(_.selector,I);return _._autoprefixerPrefixeds[this.name]=T,_._autoprefixerPrefixeds}already(_,T,I){let k=_.parent.index(_)-1;for(;k>=0;){let P=_.parent.nodes[k];if(P.type!=="rule")return!1;let M=!1;for(let O in T[this.name]){let j=T[this.name][O];if(P.selector===j){if(I===O)return!0;M=!0;break}}if(!M)return!1;k-=1}return!1}replace(_,T){return _.replace(this.regexp(),`$1${this.prefixed(T)}`)}add(_,T){let I=this.prefixeds(_);if(this.already(_,I,T))return;let k=this.clone(_,{selector:I[this.name][T]});_.parent.insertBefore(_,k)}old(_){return new y(this,_)}};d.exports=E}),jr=p((c,d)=>{L();var h=Dl(),y=class extends h{add(x,w){let S=w+x.name;if(x.parent.some(_=>_.name===S&&_.params===x.params))return;let E=this.clone(x,{name:S});return x.parent.insertBefore(x,E)}process(x){let w=this.parentPrefix(x);for(let S of this.prefixes)(!w||w===S)&&this.add(x,S)}};d.exports=y}),If=p((c,d)=>{L();var h=yi(),y=class extends h{prefixed(x){return x==="-webkit-"?":-webkit-full-screen":x==="-moz-"?":-moz-full-screen":`:${x}fullscreen`}};y.names=[":fullscreen"],d.exports=y}),fu=p((c,d)=>{L();var h=yi(),y=class extends h{possible(){return super.possible().concat(["-moz- old","-ms- old"])}prefixed(x){return x==="-webkit-"?"::-webkit-input-placeholder":x==="-ms-"?"::-ms-input-placeholder":x==="-ms- old"?":-ms-input-placeholder":x==="-moz- old"?":-moz-placeholder":`::${x}placeholder`}};y.names=["::placeholder"],d.exports=y}),cm=p((c,d)=>{L();var h=yi(),y=class extends h{prefixed(x){return x==="-ms-"?":-ms-input-placeholder":`:${x}placeholder-shown`}};y.names=[":placeholder-shown"],d.exports=y}),hu=p((c,d)=>{L();var h=yi(),y=br(),x=class extends h{constructor(w,S,E){super(w,S,E),this.prefixes&&(this.prefixes=y.uniq(this.prefixes.map(_=>"-webkit-")))}prefixed(w){return w==="-webkit-"?"::-webkit-file-upload-button":`::${w}file-selector-button`}};x.names=["::file-selector-button"],d.exports=x}),pr=p((c,d)=>{L(),d.exports=function(h){let y;return h==="-webkit- 2009"||h==="-moz-"?y=2009:h==="-ms-"?y=2012:h==="-webkit-"&&(y="final"),h==="-webkit- 2009"&&(h="-webkit-"),[y,h]}}),Vi=p((c,d)=>{L();var h=ss().list,y=pr(),x=Ot(),w=class extends x{prefixed(S,E){let _;return[_,E]=y(E),_===2009?E+"box-flex":super.prefixed(S,E)}normalize(){return"flex"}set(S,E){let _=y(E)[0];if(_===2009)return S.value=h.space(S.value)[0],S.value=w.oldValues[S.value]||S.value,super.set(S,E);if(_===2012){let T=h.space(S.value);T.length===3&&T[2]==="0"&&(S.value=T.slice(0,2).concat("0px").join(" "))}return super.set(S,E)}};w.names=["flex","box-flex"],w.oldValues={auto:"1",none:"0"},d.exports=w}),Zn=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{prefixed(w,S){let E;return[E,S]=h(S),E===2009?S+"box-ordinal-group":E===2012?S+"flex-order":super.prefixed(w,S)}normalize(){return"order"}set(w,S){return h(S)[0]===2009&&/\d/.test(w.value)?(w.value=(parseInt(w.value)+1).toString(),super.set(w,S)):super.set(w,S)}};x.names=["order","flex-order","box-ordinal-group"],d.exports=x}),Fi=p((c,d)=>{L();var h=Ot(),y=class extends h{check(x){let w=x.value;return!w.toLowerCase().includes("alpha(")&&!w.includes("DXImageTransform.Microsoft")&&!w.includes("data:image/svg+xml")}};y.names=["filter"],d.exports=y}),bo=p((c,d)=>{L();var h=Ot(),y=class extends h{insert(x,w,S,E){if(w!=="-ms-")return super.insert(x,w,S);let _=this.clone(x),T=x.prop.replace(/end$/,"start"),I=w+x.prop.replace(/end$/,"span");if(!x.parent.some(k=>k.prop===I)){if(_.prop=I,x.value.includes("span"))_.value=x.value.replace(/span\s/i,"");else{let k;if(x.parent.walkDecls(T,P=>{k=P}),k){let P=Number(x.value)-Number(k.value)+"";_.value=P}else x.warn(E,`Can not prefix ${x.prop} (${T} is not found)`)}x.cloneBefore(_)}}};y.names=["grid-row-end","grid-column-end"],d.exports=y}),vi=p((c,d)=>{L();var h=Ot(),y=class extends h{check(x){return!x.value.split(/\s+/).some(w=>{let S=w.toLowerCase();return S==="reverse"||S==="alternate-reverse"})}};y.names=["animation","animation-direction"],d.exports=y}),Rf=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{insert(w,S,E){let _;if([_,S]=h(S),_!==2009)return super.insert(w,S,E);let T=w.value.split(/\s+/).filter(O=>O!=="wrap"&&O!=="nowrap"&&"wrap-reverse");if(T.length===0||w.parent.some(O=>O.prop===S+"box-orient"||O.prop===S+"box-direction"))return;let I=T[0],k=I.includes("row")?"horizontal":"vertical",P=I.includes("reverse")?"reverse":"normal",M=this.clone(w);return M.prop=S+"box-orient",M.value=k,this.needCascade(w)&&(M.raws.before=this.calcBefore(E,w,S)),w.parent.insertBefore(w,M),M=this.clone(w),M.prop=S+"box-direction",M.value=P,this.needCascade(w)&&(M.raws.before=this.calcBefore(E,w,S)),w.parent.insertBefore(w,M)}};x.names=["flex-flow","box-direction","box-orient"],d.exports=x}),Df=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{normalize(){return"flex"}prefixed(w,S){let E;return[E,S]=h(S),E===2009?S+"box-flex":E===2012?S+"flex-positive":super.prefixed(w,S)}};x.names=["flex-grow","flex-positive"],d.exports=x}),um=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{set(w,S){if(h(S)[0]!==2009)return super.set(w,S)}};x.names=["flex-wrap"],d.exports=x}),Pl=p((c,d)=>{L();var h=Ot(),y=xn(),x=class extends h{insert(w,S,E,_){if(S!=="-ms-")return super.insert(w,S,E);let T=y.parse(w),[I,k]=y.translate(T,0,2),[P,M]=y.translate(T,1,3);[["grid-row",I],["grid-row-span",k],["grid-column",P],["grid-column-span",M]].forEach(([O,j])=>{y.insertDecl(w,O,j)}),y.warnTemplateSelectorNotFound(w,_),y.warnIfGridRowColumnExists(w,_)}};x.names=["grid-area"],d.exports=x}),Pf=p((c,d)=>{L();var h=Ot(),y=xn(),x=class extends h{insert(w,S,E){if(S!=="-ms-")return super.insert(w,S,E);if(w.parent.some(I=>I.prop==="-ms-grid-row-align"))return;let[[_,T]]=y.parse(w);T?(y.insertDecl(w,"grid-row-align",_),y.insertDecl(w,"grid-column-align",T)):(y.insertDecl(w,"grid-row-align",_),y.insertDecl(w,"grid-column-align",_))}};x.names=["place-self"],d.exports=x}),Qr=p((c,d)=>{L();var h=Ot(),y=class extends h{check(x){let w=x.value;return!w.includes("/")||w.includes("span")}normalize(x){return x.replace("-start","")}prefixed(x,w){let S=super.prefixed(x,w);return w==="-ms-"&&(S=S.replace("-start","")),S}};y.names=["grid-row-start","grid-column-start"],d.exports=y}),dm=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{check(w){return w.parent&&!w.parent.some(S=>S.prop&&S.prop.startsWith("grid-"))}prefixed(w,S){let E;return[E,S]=h(S),E===2012?S+"flex-item-align":super.prefixed(w,S)}normalize(){return"align-self"}set(w,S){let E=h(S)[0];if(E===2012)return w.value=x.oldValues[w.value]||w.value,super.set(w,S);if(E==="final")return super.set(w,S)}};x.names=["align-self","flex-item-align"],x.oldValues={"flex-end":"end","flex-start":"start"},d.exports=x}),Lr=p((c,d)=>{L();var h=Ot(),y=br(),x=class extends h{constructor(w,S,E){super(w,S,E),this.prefixes&&(this.prefixes=y.uniq(this.prefixes.map(_=>_==="-ms-"?"-webkit-":_)))}};x.names=["appearance"],d.exports=x}),fm=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{normalize(){return"flex-basis"}prefixed(w,S){let E;return[E,S]=h(S),E===2012?S+"flex-preferred-size":super.prefixed(w,S)}set(w,S){let E;if([E,S]=h(S),E===2012||E==="final")return super.set(w,S)}};x.names=["flex-basis","flex-preferred-size"],d.exports=x}),hm=p((c,d)=>{L();var h=Ot(),y=class extends h{normalize(){return this.name.replace("box-image","border")}prefixed(x,w){let S=super.prefixed(x,w);return w==="-webkit-"&&(S=S.replace("border","box-image")),S}};y.names=["mask-border","mask-border-source","mask-border-slice","mask-border-width","mask-border-outset","mask-border-repeat","mask-box-image","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat"],d.exports=y}),t0=p((c,d)=>{L();var h=Ot(),y=class extends h{insert(x,w,S){let E=x.prop==="mask-composite",_;E?_=x.value.split(","):_=x.value.match(y.regexp)||[],_=_.map(P=>P.trim()).filter(P=>P);let T=_.length,I;if(T&&(I=this.clone(x),I.value=_.map(P=>y.oldValues[P]||P).join(", "),_.includes("intersect")&&(I.value+=", xor"),I.prop=w+"mask-composite"),E)return T?(this.needCascade(x)&&(I.raws.before=this.calcBefore(S,x,w)),x.parent.insertBefore(x,I)):void 0;let k=this.clone(x);return k.prop=w+k.prop,T&&(k.value=k.value.replace(y.regexp,"")),this.needCascade(x)&&(k.raws.before=this.calcBefore(S,x,w)),x.parent.insertBefore(x,k),T?(this.needCascade(x)&&(I.raws.before=this.calcBefore(S,x,w)),x.parent.insertBefore(x,I)):x}};y.names=["mask","mask-composite"],y.oldValues={add:"source-over",subtract:"source-out",intersect:"source-in",exclude:"xor"},y.regexp=new RegExp(`\\s+(${Object.keys(y.oldValues).join("|")})\\b(?!\\))\\s*(?=[,])`,"ig"),d.exports=y}),Hi=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{prefixed(w,S){let E;return[E,S]=h(S),E===2009?S+"box-align":E===2012?S+"flex-align":super.prefixed(w,S)}normalize(){return"align-items"}set(w,S){let E=h(S)[0];return(E===2009||E===2012)&&(w.value=x.oldValues[w.value]||w.value),super.set(w,S)}};x.names=["align-items","flex-align","box-align"],x.oldValues={"flex-end":"end","flex-start":"start"},d.exports=x}),pu=p((c,d)=>{L();var h=Ot(),y=class extends h{set(x,w){return w==="-ms-"&&x.value==="contain"&&(x.value="element"),super.set(x,w)}insert(x,w,S){if(!(x.value==="all"&&w==="-ms-"))return super.insert(x,w,S)}};y.names=["user-select"],d.exports=y}),Mf=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{normalize(){return"flex-shrink"}prefixed(w,S){let E;return[E,S]=h(S),E===2012?S+"flex-negative":super.prefixed(w,S)}set(w,S){let E;if([E,S]=h(S),E===2012||E==="final")return super.set(w,S)}};x.names=["flex-shrink","flex-negative"],d.exports=x}),wo=p((c,d)=>{L();var h=Ot(),y=class extends h{prefixed(x,w){return`${w}column-${x}`}normalize(x){return x.includes("inside")?"break-inside":x.includes("before")?"break-before":"break-after"}set(x,w){return(x.prop==="break-inside"&&x.value==="avoid-column"||x.value==="avoid-page")&&(x.value="avoid"),super.set(x,w)}insert(x,w,S){if(x.prop!=="break-inside")return super.insert(x,w,S);if(!(/region/i.test(x.value)||/page/i.test(x.value)))return super.insert(x,w,S)}};y.names=["break-inside","page-break-inside","column-break-inside","break-before","page-break-before","column-break-before","break-after","page-break-after","column-break-after"],d.exports=y}),pm=p((c,d)=>{L();var h=Ot(),y=class extends h{prefixed(x,w){return w+"print-color-adjust"}normalize(){return"color-adjust"}};y.names=["color-adjust","print-color-adjust"],d.exports=y}),mm=p((c,d)=>{L();var h=Ot(),y=class extends h{insert(x,w,S){if(w==="-ms-"){let E=this.set(this.clone(x),w);this.needCascade(x)&&(E.raws.before=this.calcBefore(S,x,w));let _="ltr";return x.parent.nodes.forEach(T=>{T.prop==="direction"&&(T.value==="rtl"||T.value==="ltr")&&(_=T.value)}),E.value=y.msValues[_][x.value]||x.value,x.parent.insertBefore(x,E)}return super.insert(x,w,S)}};y.names=["writing-mode"],y.msValues={ltr:{"horizontal-tb":"lr-tb","vertical-rl":"tb-rl","vertical-lr":"tb-lr"},rtl:{"horizontal-tb":"rl-tb","vertical-rl":"bt-rl","vertical-lr":"bt-lr"}},d.exports=y}),gm=p((c,d)=>{L();var h=Ot(),y=class extends h{set(x,w){return x.value=x.value.replace(/\s+fill(\s)/,"$1"),super.set(x,w)}};y.names=["border-image"],d.exports=y}),ym=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{prefixed(w,S){let E;return[E,S]=h(S),E===2012?S+"flex-line-pack":super.prefixed(w,S)}normalize(){return"align-content"}set(w,S){let E=h(S)[0];if(E===2012)return w.value=x.oldValues[w.value]||w.value,super.set(w,S);if(E==="final")return super.set(w,S)}};x.names=["align-content","flex-line-pack"],x.oldValues={"flex-end":"end","flex-start":"start","space-between":"justify","space-around":"distribute"},d.exports=x}),mu=p((c,d)=>{L();var h=Ot(),y=class extends h{prefixed(x,w){return w==="-moz-"?w+(y.toMozilla[x]||x):super.prefixed(x,w)}normalize(x){return y.toNormal[x]||x}};y.names=["border-radius"],y.toMozilla={},y.toNormal={};for(let x of["top","bottom"])for(let w of["left","right"]){let S=`border-${x}-${w}-radius`,E=`border-radius-${x}${w}`;y.names.push(S),y.names.push(E),y.toMozilla[S]=E,y.toNormal[E]=S}d.exports=y}),Of=p((c,d)=>{L();var h=Ot(),y=class extends h{prefixed(x,w){return x.includes("-start")?w+x.replace("-block-start","-before"):w+x.replace("-block-end","-after")}normalize(x){return x.includes("-before")?x.replace("-before","-block-start"):x.replace("-after","-block-end")}};y.names=["border-block-start","border-block-end","margin-block-start","margin-block-end","padding-block-start","padding-block-end","border-before","border-after","margin-before","margin-after","padding-before","padding-after"],d.exports=y}),n0=p((c,d)=>{L();var h=Ot(),{parseTemplate:y,warnMissedAreas:x,getGridGap:w,warnGridGap:S,inheritGridGap:E}=xn(),_=class extends h{insert(T,I,k,P){if(I!=="-ms-")return super.insert(T,I,k);if(T.parent.some(q=>q.prop==="-ms-grid-rows"))return;let M=w(T),O=E(T,M),{rows:j,columns:B,areas:V}=y({decl:T,gap:O||M}),$=Object.keys(V).length>0,G=!!j,Y=!!B;return S({gap:M,hasColumns:Y,decl:T,result:P}),x(V,T,P),(G&&Y||$)&&T.cloneBefore({prop:"-ms-grid-rows",value:j,raws:{}}),Y&&T.cloneBefore({prop:"-ms-grid-columns",value:B,raws:{}}),T}};_.names=["grid-template"],d.exports=_}),r0=p((c,d)=>{L();var h=Ot(),y=class extends h{prefixed(x,w){return w+x.replace("-inline","")}normalize(x){return x.replace(/(margin|padding|border)-(start|end)/,"$1-inline-$2")}};y.names=["border-inline-start","border-inline-end","margin-inline-start","margin-inline-end","padding-inline-start","padding-inline-end","border-start","border-end","margin-start","margin-end","padding-start","padding-end"],d.exports=y}),s0=p((c,d)=>{L();var h=Ot(),y=class extends h{check(x){return!x.value.includes("flex-")&&x.value!=="baseline"}prefixed(x,w){return w+"grid-row-align"}normalize(){return"align-self"}};y.names=["grid-row-align"],d.exports=y}),vm=p((c,d)=>{L();var h=Ot(),y=class extends h{keyframeParents(x){let{parent:w}=x;for(;w;){if(w.type==="atrule"&&w.name==="keyframes")return!0;({parent:w}=w)}return!1}contain3d(x){if(x.prop==="transform-origin")return!1;for(let w of y.functions3d)if(x.value.includes(`${w}(`))return!0;return!1}set(x,w){return x=super.set(x,w),w==="-ms-"&&(x.value=x.value.replace(/rotatez/gi,"rotate")),x}insert(x,w,S){if(w==="-ms-"){if(!this.contain3d(x)&&!this.keyframeParents(x))return super.insert(x,w,S)}else if(w==="-o-"){if(!this.contain3d(x))return super.insert(x,w,S)}else return super.insert(x,w,S)}};y.names=["transform","transform-origin"],y.functions3d=["matrix3d","translate3d","translateZ","scale3d","scaleZ","rotate3d","rotateX","rotateY","perspective"],d.exports=y}),xm=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{normalize(){return"flex-direction"}insert(w,S,E){let _;if([_,S]=h(S),_!==2009)return super.insert(w,S,E);if(w.parent.some(M=>M.prop===S+"box-orient"||M.prop===S+"box-direction"))return;let T=w.value,I,k;T==="inherit"||T==="initial"||T==="unset"?(I=T,k=T):(I=T.includes("row")?"horizontal":"vertical",k=T.includes("reverse")?"reverse":"normal");let P=this.clone(w);return P.prop=S+"box-orient",P.value=I,this.needCascade(w)&&(P.raws.before=this.calcBefore(E,w,S)),w.parent.insertBefore(w,P),P=this.clone(w),P.prop=S+"box-direction",P.value=k,this.needCascade(w)&&(P.raws.before=this.calcBefore(E,w,S)),w.parent.insertBefore(w,P)}old(w,S){let E;return[E,S]=h(S),E===2009?[S+"box-orient",S+"box-direction"]:super.old(w,S)}};x.names=["flex-direction","box-direction","box-orient"],d.exports=x}),_o=p((c,d)=>{L();var h=Ot(),y=class extends h{check(x){return x.value==="pixelated"}prefixed(x,w){return w==="-ms-"?"-ms-interpolation-mode":super.prefixed(x,w)}set(x,w){return w!=="-ms-"?super.set(x,w):(x.prop="-ms-interpolation-mode",x.value="nearest-neighbor",x)}normalize(){return"image-rendering"}process(x,w){return super.process(x,w)}};y.names=["image-rendering","interpolation-mode"],d.exports=y}),gu=p((c,d)=>{L();var h=Ot(),y=br(),x=class extends h{constructor(w,S,E){super(w,S,E),this.prefixes&&(this.prefixes=y.uniq(this.prefixes.map(_=>_==="-ms-"?"-webkit-":_)))}};x.names=["backdrop-filter"],d.exports=x}),bm=p((c,d)=>{L();var h=Ot(),y=br(),x=class extends h{constructor(w,S,E){super(w,S,E),this.prefixes&&(this.prefixes=y.uniq(this.prefixes.map(_=>_==="-ms-"?"-webkit-":_)))}check(w){return w.value.toLowerCase()==="text"}};x.names=["background-clip"],d.exports=x}),wm=p((c,d)=>{L();var h=Ot(),y=["none","underline","overline","line-through","blink","inherit","initial","unset"],x=class extends h{check(w){return w.value.split(/\s+/).some(S=>!y.includes(S))}};x.names=["text-decoration"],d.exports=x}),_m=p((c,d)=>{L();var h=pr(),y=Ot(),x=class extends y{prefixed(w,S){let E;return[E,S]=h(S),E===2009?S+"box-pack":E===2012?S+"flex-pack":super.prefixed(w,S)}normalize(){return"justify-content"}set(w,S){let E=h(S)[0];if(E===2009||E===2012){let _=x.oldValues[w.value]||w.value;if(w.value=_,E!==2009||_!=="distribute")return super.set(w,S)}else if(E==="final")return super.set(w,S)}};x.names=["justify-content","flex-pack","box-pack"],x.oldValues={"flex-end":"end","flex-start":"start","space-between":"justify","space-around":"distribute"},d.exports=x}),Sm=p((c,d)=>{L();var h=Ot(),y=class extends h{set(x,w){let S=x.value.toLowerCase();return w==="-webkit-"&&!S.includes(" ")&&S!=="contain"&&S!=="cover"&&(x.value=x.value+" "+x.value),super.set(x,w)}};y.names=["background-size"],d.exports=y}),Em=p((c,d)=>{L();var h=Ot(),y=xn(),x=class extends h{insert(w,S,E){if(S!=="-ms-")return super.insert(w,S,E);let _=y.parse(w),[T,I]=y.translate(_,0,1);_[0]&&_[0].includes("span")&&(I=_[0].join("").replace(/\D/g,"")),[[w.prop,T],[`${w.prop}-span`,I]].forEach(([k,P])=>{y.insertDecl(w,k,P)})}};x.names=["grid-row","grid-column"],d.exports=x}),Cm=p((c,d)=>{L();var h=Ot(),{prefixTrackProp:y,prefixTrackValue:x,autoplaceGridItems:w,getGridGap:S,inheritGridGap:E}=xn(),_=gi(),T=class extends h{prefixed(I,k){return k==="-ms-"?y({prop:I,prefix:k}):super.prefixed(I,k)}normalize(I){return I.replace(/^grid-(rows|columns)/,"grid-template-$1")}insert(I,k,P,M){if(k!=="-ms-")return super.insert(I,k,P);let{parent:O,prop:j,value:B}=I,V=j.includes("rows"),$=j.includes("columns"),G=O.some(ne=>ne.prop==="grid-template"||ne.prop==="grid-template-areas");if(G&&V)return!1;let Y=new _({options:{}}),q=Y.gridStatus(O,M),z=S(I);z=E(I,z)||z;let J=V?z.row:z.column;(q==="no-autoplace"||q===!0)&&!G&&(J=null);let W=x({value:B,gap:J});I.cloneBefore({prop:y({prop:j,prefix:k}),value:W});let Z=O.nodes.find(ne=>ne.prop==="grid-auto-flow"),X="row";if(Z&&!Y.disabled(Z,M)&&(X=Z.value.trim()),q==="autoplace"){let ne=O.nodes.find(Ve=>Ve.prop==="grid-template-rows");if(!ne&&G)return;if(!ne&&!G){I.warn(M,"Autoplacement does not work without grid-template-rows property");return}!O.nodes.find(Ve=>Ve.prop==="grid-template-columns")&&!G&&I.warn(M,"Autoplacement does not work without grid-template-columns property"),$&&!G&&w(I,M,z,X)}}};T.names=["grid-template-rows","grid-template-columns","grid-rows","grid-columns"],d.exports=T}),yu=p((c,d)=>{L();var h=Ot(),y=class extends h{check(x){return!x.value.includes("flex-")&&x.value!=="baseline"}prefixed(x,w){return w+"grid-column-align"}normalize(){return"justify-self"}};y.names=["grid-column-align"],d.exports=y}),Tm=p((c,d)=>{L();var h=Ot(),y=class extends h{prefixed(x,w){return w+"scroll-chaining"}normalize(){return"overscroll-behavior"}set(x,w){return x.value==="auto"?x.value="chained":(x.value==="none"||x.value==="contain")&&(x.value="none"),super.set(x,w)}};y.names=["overscroll-behavior","scroll-chaining"],d.exports=y}),Am=p((c,d)=>{L();var h=Ot(),{parseGridAreas:y,warnMissedAreas:x,prefixTrackProp:w,prefixTrackValue:S,getGridGap:E,warnGridGap:_,inheritGridGap:T}=xn();function I(P){return P.trim().slice(1,-1).split(/["']\s*["']?/g)}var k=class extends h{insert(P,M,O,j){if(M!=="-ms-")return super.insert(P,M,O);let B=!1,V=!1,$=P.parent,G=E(P);G=T(P,G)||G,$.walkDecls(/-ms-grid-rows/,z=>z.remove()),$.walkDecls(/grid-template-(rows|columns)/,z=>{if(z.prop==="grid-template-rows"){V=!0;let{prop:J,value:W}=z;z.cloneBefore({prop:w({prop:J,prefix:M}),value:S({value:W,gap:G.row})})}else B=!0});let Y=I(P.value);B&&!V&&G.row&&Y.length>1&&P.cloneBefore({prop:"-ms-grid-rows",value:S({value:`repeat(${Y.length}, auto)`,gap:G.row}),raws:{}}),_({gap:G,hasColumns:B,decl:P,result:j});let q=y({rows:Y,gap:G});return x(q,P,j),P}};k.names=["grid-template-areas"],d.exports=k}),mn=p((c,d)=>{L();var h=Ot(),y=class extends h{set(x,w){return w==="-webkit-"&&(x.value=x.value.replace(/\s*(right|left)\s*/i,"")),super.set(x,w)}};y.names=["text-emphasis-position"],d.exports=y}),Uf=p((c,d)=>{L();var h=Ot(),y=class extends h{set(x,w){return x.prop==="text-decoration-skip-ink"&&x.value==="auto"?(x.prop=w+"text-decoration-skip",x.value="ink",x):super.set(x,w)}};y.names=["text-decoration-skip-ink","text-decoration-skip"],d.exports=y}),i0=p((c,d)=>{L(),d.exports={wrap:h,limit:y,validate:x,test:w,curry:E,name:S};function h(_,T,I){var k=T-_;return((I-_)%k+k)%k+_}function y(_,T,I){return Math.max(_,Math.min(T,I))}function x(_,T,I,k,P){if(!w(_,T,I,k,P))throw new Error(I+" is outside of range ["+_+","+T+")");return I}function w(_,T,I,k,P){return!(I<_||I>T||P&&I===T||k&&I===_)}function S(_,T,I,k){return(I?"(":"[")+_+","+T+(k?")":"]")}function E(_,T,I,k){var P=S.bind(null,_,T,I,k);return{wrap:h.bind(null,_,T),limit:y.bind(null,_,T),validate:function(M){return x(_,T,M,I,k)},test:function(M){return w(_,T,M,I,k)},toString:P,name:P}}}),Nm=p((c,d)=>{L();var h=Hs(),y=i0(),x=Aa(),w=Xn(),S=br(),E=/top|left|right|bottom/gi,_=class extends w{replace(T,I){let k=h(T);for(let P of k.nodes)if(P.type==="function"&&P.value===this.name)if(P.nodes=this.newDirection(P.nodes),P.nodes=this.normalize(P.nodes),I==="-webkit- old"){if(!this.oldWebkit(P))return!1}else P.nodes=this.convertDirection(P.nodes),P.value=I+P.value;return k.toString()}replaceFirst(T,...I){return I.map(k=>k===" "?{type:"space",value:k}:{type:"word",value:k}).concat(T.slice(1))}normalizeUnit(T,I){return`${parseFloat(T)/I*360}deg`}normalize(T){if(!T[0])return T;if(/-?\d+(.\d+)?grad/.test(T[0].value))T[0].value=this.normalizeUnit(T[0].value,400);else if(/-?\d+(.\d+)?rad/.test(T[0].value))T[0].value=this.normalizeUnit(T[0].value,2*Math.PI);else if(/-?\d+(.\d+)?turn/.test(T[0].value))T[0].value=this.normalizeUnit(T[0].value,1);else if(T[0].value.includes("deg")){let I=parseFloat(T[0].value);I=y.wrap(0,360,I),T[0].value=`${I}deg`}return T[0].value==="0deg"?T=this.replaceFirst(T,"to"," ","top"):T[0].value==="90deg"?T=this.replaceFirst(T,"to"," ","right"):T[0].value==="180deg"?T=this.replaceFirst(T,"to"," ","bottom"):T[0].value==="270deg"&&(T=this.replaceFirst(T,"to"," ","left")),T}newDirection(T){if(T[0].value==="to"||(E.lastIndex=0,!E.test(T[0].value)))return T;T.unshift({type:"word",value:"to"},{type:"space",value:" "});for(let I=2;I<T.length&&T[I].type!=="div";I++)T[I].type==="word"&&(T[I].value=this.revertDirection(T[I].value));return T}isRadial(T){let I="before";for(let k of T)if(I==="before"&&k.type==="space")I="at";else if(I==="at"&&k.value==="at")I="after";else{if(I==="after"&&k.type==="space")return!0;if(k.type==="div")break;I="before"}return!1}convertDirection(T){return T.length>0&&(T[0].value==="to"?this.fixDirection(T):T[0].value.includes("deg")?this.fixAngle(T):this.isRadial(T)&&this.fixRadial(T)),T}fixDirection(T){T.splice(0,2);for(let I of T){if(I.type==="div")break;I.type==="word"&&(I.value=this.revertDirection(I.value))}}fixAngle(T){let I=T[0].value;I=parseFloat(I),I=Math.abs(450-I)%360,I=this.roundFloat(I,3),T[0].value=`${I}deg`}fixRadial(T){let I=[],k=[],P,M,O,j,B;for(j=0;j<T.length-2;j++)if(P=T[j],M=T[j+1],O=T[j+2],P.type==="space"&&M.value==="at"&&O.type==="space"){B=j+3;break}else I.push(P);let V;for(j=B;j<T.length;j++)if(T[j].type==="div"){V=T[j];break}else k.push(T[j]);T.splice(0,j,...k,V,...I)}revertDirection(T){return _.directions[T.toLowerCase()]||T}roundFloat(T,I){return parseFloat(T.toFixed(I))}oldWebkit(T){let{nodes:I}=T,k=h.stringify(T.nodes);if(this.name!=="linear-gradient"||I[0]&&I[0].value.includes("deg")||k.includes("px")||k.includes("-corner")||k.includes("-side"))return!1;let P=[[]];for(let M of I)P[P.length-1].push(M),M.type==="div"&&M.value===","&&P.push([]);this.oldDirection(P),this.colorStops(P),T.nodes=[];for(let M of P)T.nodes=T.nodes.concat(M);return T.nodes.unshift({type:"word",value:"linear"},this.cloneDiv(T.nodes)),T.value="-webkit-gradient",!0}oldDirection(T){let I=this.cloneDiv(T[0]);if(T[0][0].value!=="to")return T.unshift([{type:"word",value:_.oldDirections.bottom},I]);{let k=[];for(let M of T[0].slice(2))M.type==="word"&&k.push(M.value.toLowerCase());k=k.join(" ");let P=_.oldDirections[k]||k;return T[0]=[{type:"word",value:P},I],T[0]}}cloneDiv(T){for(let I of T)if(I.type==="div"&&I.value===",")return I;return{type:"div",value:",",after:" "}}colorStops(T){let I=[];for(let k=0;k<T.length;k++){let P,M=T[k],O;if(k===0)continue;let j=h.stringify(M[0]);M[1]&&M[1].type==="word"?P=M[1].value:M[2]&&M[2].type==="word"&&(P=M[2].value);let B;k===1&&(!P||P==="0%")?B=`from(${j})`:k===T.length-1&&(!P||P==="100%")?B=`to(${j})`:P?B=`color-stop(${P}, ${j})`:B=`color-stop(${j})`;let V=M[M.length-1];T[k]=[{type:"word",value:B}],V.type==="div"&&V.value===","&&(O=T[k].push(V)),I.push(O)}return I}old(T){if(T==="-webkit-"){let I=this.name==="linear-gradient"?"linear":"radial",k="-gradient",P=S.regexp(`-webkit-(${I}-gradient|gradient\\(\\s*${I})`,!1);return new x(this.name,T+this.name,k,P)}else return super.old(T)}add(T,I){let k=T.prop;if(k.includes("mask")){if(I==="-webkit-"||I==="-webkit- old")return super.add(T,I)}else if(k==="list-style"||k==="list-style-image"||k==="content"){if(I==="-webkit-"||I==="-webkit- old")return super.add(T,I)}else return super.add(T,I)}};_.names=["linear-gradient","repeating-linear-gradient","radial-gradient","repeating-radial-gradient"],_.directions={top:"bottom",left:"right",bottom:"top",right:"left"},_.oldDirections={top:"left bottom, left top",left:"right top, left top",bottom:"left top, left bottom",right:"left top, right top","top right":"left bottom, right top","top left":"right bottom, left top","right top":"left bottom, right top","right bottom":"left top, right bottom","bottom right":"left top, right bottom","bottom left":"right top, left bottom","left top":"right bottom, left top","left bottom":"right top, left bottom"},d.exports=_}),a0=p((c,d)=>{L();var h=Aa(),y=Xn();function x(S){return new RegExp(`(^|[\\s,(])(${S}($|[\\s),]))`,"gi")}var w=class extends y{regexp(){return this.regexpCache||(this.regexpCache=x(this.name)),this.regexpCache}isStretch(){return this.name==="stretch"||this.name==="fill"||this.name==="fill-available"}replace(S,E){return E==="-moz-"&&this.isStretch()?S.replace(this.regexp(),"$1-moz-available$3"):E==="-webkit-"&&this.isStretch()?S.replace(this.regexp(),"$1-webkit-fill-available$3"):super.replace(S,E)}old(S){let E=S+this.name;return this.isStretch()&&(S==="-moz-"?E="-moz-available":S==="-webkit-"&&(E="-webkit-fill-available")),new h(this.name,E,E,x(E))}add(S,E){if(!(S.prop.includes("grid")&&E!=="-webkit-"))return super.add(S,E)}};w.names=["max-content","min-content","fit-content","fill","fill-available","stretch"],d.exports=w}),o0=p((c,d)=>{L();var h=Aa(),y=Xn(),x=class extends y{replace(w,S){return S==="-webkit-"?w.replace(this.regexp(),"$1-webkit-optimize-contrast"):S==="-moz-"?w.replace(this.regexp(),"$1-moz-crisp-edges"):super.replace(w,S)}old(w){return w==="-webkit-"?new h(this.name,"-webkit-optimize-contrast"):w==="-moz-"?new h(this.name,"-moz-crisp-edges"):super.old(w)}};x.names=["pixelated"],d.exports=x}),l0=p((c,d)=>{L();var h=Xn(),y=class extends h{replace(x,w){let S=super.replace(x,w);return w==="-webkit-"&&(S=S.replace(/("[^"]+"|'[^']+')(\s+\d+\w)/gi,"url($1)$2")),S}};y.names=["image-set"],d.exports=y}),vu=p((c,d)=>{L();var h=ss().list,y=Xn(),x=class extends y{replace(w,S){return h.space(w).map(E=>{if(E.slice(0,+this.name.length+1)!==this.name+"(")return E;let _=E.lastIndexOf(")"),T=E.slice(_+1),I=E.slice(this.name.length+1,_);if(S==="-webkit-"){let k=I.match(/\d*.?\d+%?/);k?(I=I.slice(k[0].length).trim(),I+=`, ${k[0]}`):I+=", 0.5"}return S+this.name+"("+I+")"+T}).join(" ")}};x.names=["cross-fade"],d.exports=x}),So=p((c,d)=>{L();var h=pr(),y=Aa(),x=Xn(),w=class extends x{constructor(S,E){super(S,E),S==="display-flex"&&(this.name="flex")}check(S){return S.prop==="display"&&S.value===this.name}prefixed(S){let E,_;return[E,S]=h(S),E===2009?this.name==="flex"?_="box":_="inline-box":E===2012?this.name==="flex"?_="flexbox":_="inline-flexbox":E==="final"&&(_=this.name),S+_}replace(S,E){return this.prefixed(E)}old(S){let E=this.prefixed(S);if(E)return new y(this.name,E)}};w.names=["display-flex","inline-flex"],d.exports=w}),jf=p((c,d)=>{L();var h=Xn(),y=class extends h{constructor(x,w){super(x,w),x==="display-grid"&&(this.name="grid")}check(x){return x.prop==="display"&&x.value===this.name}};y.names=["display-grid","inline-grid"],d.exports=y}),xu=p((c,d)=>{L();var h=Xn(),y=class extends h{constructor(x,w){super(x,w),x==="filter-function"&&(this.name="filter")}};y.names=["filter","filter-function"],d.exports=y}),Lf=p((c,d)=>{L();var h=Rl(),y=Ot(),x=wn(),w=vo(),S=gi(),E=Wr(),_=Fs(),T=yi(),I=jr(),k=Xn(),P=br(),M=If(),O=fu(),j=cm(),B=hu(),V=Vi(),$=Zn(),G=Fi(),Y=bo(),q=vi(),z=Rf(),J=Df(),W=um(),Z=Pl(),X=Pf(),ne=Qr(),Ve=dm(),Be=Lr(),Le=fm(),_e=hm(),Ee=t0(),Xe=Hi(),Je=pu(),ft=Mf(),St=wo(),Qe=pm(),Ze=mm(),oe=gm(),be=ym(),bt=mu(),Ae=Of(),xe=n0(),Te=r0(),rt=s0(),We=vm(),Ut=xm(),qt=_o(),st=gu(),Ct=bm(),ar=wm(),Mn=_m(),Wt=Sm(),lt=Em(),on=Cm(),Jn=yu(),et=Tm(),$t=Am(),Ke=mn(),Dt=Uf(),In=Nm(),er=a0(),On=o0(),ka=l0(),Js=vu(),Zf=So(),wu=jf(),_u=xu();T.hack(M),T.hack(O),T.hack(j),T.hack(B),y.hack(V),y.hack($),y.hack(G),y.hack(Y),y.hack(q),y.hack(z),y.hack(J),y.hack(W),y.hack(Z),y.hack(X),y.hack(ne),y.hack(Ve),y.hack(Be),y.hack(Le),y.hack(_e),y.hack(Ee),y.hack(Xe),y.hack(Je),y.hack(ft),y.hack(St),y.hack(Qe),y.hack(Ze),y.hack(oe),y.hack(be),y.hack(bt),y.hack(Ae),y.hack(xe),y.hack(Te),y.hack(rt),y.hack(We),y.hack(Ut),y.hack(qt),y.hack(st),y.hack(Ct),y.hack(ar),y.hack(Mn),y.hack(Wt),y.hack(lt),y.hack(on),y.hack(Jn),y.hack(et),y.hack($t),y.hack(Ke),y.hack(Dt),k.hack(In),k.hack(er),k.hack(On),k.hack(ka),k.hack(Js),k.hack(Zf),k.hack(wu),k.hack(_u);var Co=new Map,eh=class{constructor(zt,Qt,tn={}){this.data=zt,this.browsers=Qt,this.options=tn,[this.add,this.remove]=this.preprocess(this.select(this.data)),this.transition=new w(this),this.processor=new S(this)}cleaner(){if(this.cleanerCache)return this.cleanerCache;if(this.browsers.selected.length){let zt=new _(this.browsers.data,[]);this.cleanerCache=new eh(this.data,zt,this.options)}else return this;return this.cleanerCache}select(zt){let Qt={add:{},remove:{}};for(let tn in zt){let Nt=zt[tn],Xt=Nt.browsers.map(yn=>{let Tn=yn.split(" ");return{browser:`${Tn[0]} ${Tn[1]}`,note:Tn[2]}}),cr=Xt.filter(yn=>yn.note).map(yn=>`${this.browsers.prefix(yn.browser)} ${yn.note}`);cr=P.uniq(cr),Xt=Xt.filter(yn=>this.browsers.isSelected(yn.browser)).map(yn=>{let Tn=this.browsers.prefix(yn.browser);return yn.note?`${Tn} ${yn.note}`:Tn}),Xt=this.sort(P.uniq(Xt)),this.options.flexbox==="no-2009"&&(Xt=Xt.filter(yn=>!yn.includes("2009")));let nn=Nt.browsers.map(yn=>this.browsers.prefix(yn));Nt.mistakes&&(nn=nn.concat(Nt.mistakes)),nn=nn.concat(cr),nn=P.uniq(nn),Xt.length?(Qt.add[tn]=Xt,Xt.length<nn.length&&(Qt.remove[tn]=nn.filter(yn=>!Xt.includes(yn)))):Qt.remove[tn]=nn}return Qt}sort(zt){return zt.sort((Qt,tn)=>{let Nt=P.removeNote(Qt).length,Xt=P.removeNote(tn).length;return Nt===Xt?tn.length-Qt.length:Xt-Nt})}preprocess(zt){let Qt={selectors:[],"@supports":new E(eh,this)};for(let Nt in zt.add){let Xt=zt.add[Nt];if(Nt==="@keyframes"||Nt==="@viewport")Qt[Nt]=new I(Nt,Xt,this);else if(Nt==="@resolution")Qt[Nt]=new x(Nt,Xt,this);else if(this.data[Nt].selector)Qt.selectors.push(T.load(Nt,Xt,this));else{let cr=this.data[Nt].props;if(cr){let nn=k.load(Nt,Xt,this);for(let yn of cr)Qt[yn]||(Qt[yn]={values:[]}),Qt[yn].values.push(nn)}else{let nn=Qt[Nt]&&Qt[Nt].values||[];Qt[Nt]=y.load(Nt,Xt,this),Qt[Nt].values=nn}}}let tn={selectors:[]};for(let Nt in zt.remove){let Xt=zt.remove[Nt];if(this.data[Nt].selector){let cr=T.load(Nt,Xt);for(let nn of Xt)tn.selectors.push(cr.old(nn))}else if(Nt==="@keyframes"||Nt==="@viewport")for(let cr of Xt){let nn=`@${cr}${Nt.slice(1)}`;tn[nn]={remove:!0}}else if(Nt==="@resolution")tn[Nt]=new x(Nt,Xt,this);else{let cr=this.data[Nt].props;if(cr){let nn=k.load(Nt,[],this);for(let yn of Xt){let Tn=nn.old(yn);if(Tn)for(let Yi of cr)tn[Yi]||(tn[Yi]={}),tn[Yi].values||(tn[Yi].values=[]),tn[Yi].values.push(Tn)}}else for(let nn of Xt){let yn=this.decl(Nt).old(Nt,nn);if(Nt==="align-self"){let Tn=Qt[Nt]&&Qt[Nt].prefixes;if(Tn&&(nn==="-webkit- 2009"&&Tn.includes("-webkit-")||nn==="-webkit-"&&Tn.includes("-webkit- 2009")))continue}for(let Tn of yn)tn[Tn]||(tn[Tn]={}),tn[Tn].remove=!0}}}return[Qt,tn]}decl(zt){return Co.has(zt)||Co.set(zt,y.load(zt)),Co.get(zt)}unprefixed(zt){let Qt=this.normalize(h.unprefixed(zt));return Qt==="flex-direction"&&(Qt="flex-flow"),Qt}normalize(zt){return this.decl(zt).normalize(zt)}prefixed(zt,Qt){return zt=h.unprefixed(zt),this.decl(zt).prefixed(zt,Qt)}values(zt,Qt){let tn=this[zt],Nt=tn["*"]&&tn["*"].values,Xt=tn[Qt]&&tn[Qt].values;return Nt&&Xt?P.uniq(Nt.concat(Xt)):Nt||Xt||[]}group(zt){let Qt=zt.parent,tn=Qt.index(zt),{length:Nt}=Qt.nodes,Xt=this.unprefixed(zt.prop),cr=(nn,yn)=>{for(tn+=nn;tn>=0&&tn<Nt;){let Tn=Qt.nodes[tn];if(Tn.type==="decl"){if(nn===-1&&Tn.prop===Xt&&!_.withPrefix(Tn.value)||this.unprefixed(Tn.prop)!==Xt)break;if(yn(Tn)===!0)return!0;if(nn===1&&Tn.prop===Xt&&!_.withPrefix(Tn.value))break}tn+=nn}return!1};return{up(nn){return cr(-1,nn)},down(nn){return cr(1,nn)}}}};d.exports=eh}),Gi=p((c,d)=>{L(),d.exports={"backdrop-filter":{feature:"css-backdrop-filter",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5","safari 16.5"]},element:{props:["background","background-image","border-image","mask","list-style","list-style-image","content","mask-image"],feature:"css-element-function",browsers:["firefox 114"]},"user-select":{mistakes:["-khtml-"],feature:"user-select-none",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5","safari 16.5"]},"background-clip":{feature:"background-clip-text",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},hyphens:{feature:"css-hyphens",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5","safari 16.5"]},fill:{props:["width","min-width","max-width","height","min-height","max-height","inline-size","min-inline-size","max-inline-size","block-size","min-block-size","max-block-size","grid","grid-template","grid-template-rows","grid-template-columns","grid-auto-columns","grid-auto-rows"],feature:"intrinsic-width",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"fill-available":{props:["width","min-width","max-width","height","min-height","max-height","inline-size","min-inline-size","max-inline-size","block-size","min-block-size","max-block-size","grid","grid-template","grid-template-rows","grid-template-columns","grid-auto-columns","grid-auto-rows"],feature:"intrinsic-width",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},stretch:{props:["width","min-width","max-width","height","min-height","max-height","inline-size","min-inline-size","max-inline-size","block-size","min-block-size","max-block-size","grid","grid-template","grid-template-rows","grid-template-columns","grid-auto-columns","grid-auto-rows"],feature:"intrinsic-width",browsers:["firefox 114"]},"fit-content":{props:["width","min-width","max-width","height","min-height","max-height","inline-size","min-inline-size","max-inline-size","block-size","min-block-size","max-block-size","grid","grid-template","grid-template-rows","grid-template-columns","grid-auto-columns","grid-auto-rows"],feature:"intrinsic-width",browsers:["firefox 114"]},"text-decoration-style":{feature:"text-decoration",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"text-decoration-color":{feature:"text-decoration",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"text-decoration-line":{feature:"text-decoration",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"text-decoration":{feature:"text-decoration",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"text-decoration-skip":{feature:"text-decoration",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"text-decoration-skip-ink":{feature:"text-decoration",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"text-size-adjust":{feature:"text-size-adjust",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5"]},"mask-clip":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-composite":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-image":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-origin":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-repeat":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-border-repeat":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-border-source":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},mask:{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-position":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-size":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-border":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-border-outset":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-border-width":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"mask-border-slice":{feature:"css-masks",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},"clip-path":{feature:"css-clip-path",browsers:["samsung 21"]},"box-decoration-break":{feature:"css-boxdecorationbreak",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5","opera 99","safari 16.5","samsung 21"]},appearance:{feature:"css-appearance",browsers:["samsung 21"]},"image-set":{props:["background","background-image","border-image","cursor","mask","mask-image","list-style","list-style-image","content"],feature:"css-image-set",browsers:["and_uc 15.5","chrome 109","samsung 21"]},"cross-fade":{props:["background","background-image","border-image","mask","list-style","list-style-image","content","mask-image"],feature:"css-cross-fade",browsers:["and_chr 114","and_uc 15.5","chrome 109","chrome 113","chrome 114","edge 114","opera 99","samsung 21"]},isolate:{props:["unicode-bidi"],feature:"css-unicode-bidi",browsers:["ios_saf 16.1","ios_saf 16.3","ios_saf 16.4","ios_saf 16.5","safari 16.5"]},"color-adjust":{feature:"css-color-adjust",browsers:["chrome 109","chrome 113","chrome 114","edge 114","opera 99"]}}}),Gs=p((c,d)=>{L(),d.exports={}}),Ml=p((c,d)=>{L();var h=go(),{agents:y}=(du(),zi),x=Il(),w=Fs(),S=Lf(),E=Gi(),_=Gs(),T={browsers:y,prefixes:E},I=`
  Replace Autoprefixer \`browsers\` option to Browserslist config.
  Use \`browserslist\` key in \`package.json\` or \`.browserslistrc\` file.

  Using \`browsers\` option can cause errors. Browserslist config can
  be used for Babel, Autoprefixer, postcss-normalize and other tools.

  If you really need to use option, rename it to \`overrideBrowserslist\`.

  Learn more at:
  https://github.com/browserslist/browserslist#readme
  https://twitter.com/browserslist

`;function k(j){return Object.prototype.toString.apply(j)==="[object Object]"}var P=new Map;function M(j,B){B.browsers.selected.length!==0&&(B.add.selectors.length>0||Object.keys(B.add).length>2||j.warn(`Autoprefixer target browsers do not need any prefixes.You do not need Autoprefixer anymore.
Check your Browserslist config to be sure that your targets are set up correctly.

  Learn more at:
  https://github.com/postcss/autoprefixer#readme
  https://github.com/browserslist/browserslist#readme

`))}d.exports=O;function O(...j){let B;if(j.length===1&&k(j[0])?(B=j[0],j=void 0):j.length===0||j.length===1&&!j[0]?j=void 0:j.length<=2&&(Array.isArray(j[0])||!j[0])?(B=j[1],j=j[0]):typeof j[j.length-1]=="object"&&(B=j.pop()),B||(B={}),B.browser)throw new Error("Change `browser` option to `overrideBrowserslist` in Autoprefixer");if(B.browserslist)throw new Error("Change `browserslist` option to `overrideBrowserslist` in Autoprefixer");B.overrideBrowserslist?j=B.overrideBrowserslist:B.browsers&&(typeof console<"u"&&console.warn&&(x.red?console.warn(x.red(I.replace(/`[^`]+`/g,G=>x.yellow(G.slice(1,-1))))):console.warn(I)),j=B.browsers);let V={ignoreUnknownVersions:B.ignoreUnknownVersions,stats:B.stats,env:B.env};function $(G){let Y=T,q=new w(Y.browsers,j,G,V),z=q.selected.join(", ")+JSON.stringify(B);return P.has(z)||P.set(z,new S(Y.prefixes,q,B)),P.get(z)}return{postcssPlugin:"autoprefixer",prepare(G){let Y=$({from:G.opts.from,env:B.env});return{OnceExit(q){M(G,Y),B.remove!==!1&&Y.processor.remove(q,G),B.add!==!1&&Y.processor.add(q,G)}}},info(G){return G=G||{},G.from=G.from||F.cwd(),_($(G))},options:B,browsers:j}}O.postcss=!0,O.data=T,O.defaults=h.defaults,O.info=()=>O().info()}),km={};N(km,{default:()=>Bf});var Bf,Im=v(()=>{L(),Bf=[]}),qf={};N(qf,{default:()=>Rm});var $f,Rm,zf=v(()=>{L(),ts(),$f=U(Vo()),Rm=qn($f.default.theme)}),Vf={};N(Vf,{default:()=>Dm});var Ff,Dm,Hf=v(()=>{L(),ts(),Ff=U(Vo()),Dm=qn(Ff.default)});L();var Gf=Ss(mo()),c0=Ss(ss()),u0=Ss(Ml()),Ol=Ss((Im(),km)),d0=Ss((zf(),qf)),Pm=Ss((Hf(),Vf)),Gt=Ss((Fe(),ae)),Yf=Ss((yl(),gl)),bu=Ss((si(),lc));function Ss(c){return c&&c.__esModule?c:{default:c}}console.warn("cdn.tailwindcss.com should not be used in production. To use Tailwind CSS in production, install it as a PostCSS plugin or use the Tailwind CLI: https://tailwindcss.com/docs/installation");var Ul="tailwind",jl="text/tailwindcss",Eo="/template.html",Ys,Mm=!0,Jf=0,Kf=new Set,Wf,Qf="",Xf=(c=!1)=>({get(d,h){return(!c||h==="config")&&typeof d[h]=="object"&&d[h]!==null?new Proxy(d[h],Xf()):d[h]},set(d,h,y){return d[h]=y,(!c||h==="config")&&Ll(!0),!0}});window[Ul]=new Proxy({config:{},defaultTheme:d0.default,defaultConfig:Pm.default,colors:Gt.default,plugin:Yf.default,resolveConfig:bu.default},Xf(!0));function gn(c){Wf.observe(c,{attributes:!0,attributeFilter:["type"],characterData:!0,subtree:!0,childList:!0})}new MutationObserver(async c=>{let d=!1;if(!Wf){Wf=new MutationObserver(async()=>await Ll(!0));for(let h of document.querySelectorAll(`style[type="${jl}"]`))gn(h)}for(let h of c)for(let y of h.addedNodes)y.nodeType===1&&y.tagName==="STYLE"&&y.getAttribute("type")===jl&&(gn(y),d=!0);await Ll(d)}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"],childList:!0,subtree:!0});async function Ll(c=!1){c&&(Jf++,Kf.clear());let d="";for(let y of document.querySelectorAll(`style[type="${jl}"]`))d+=y.textContent;let h=new Set;for(let y of document.querySelectorAll("[class]"))for(let x of y.classList)Kf.has(x)||h.add(x);if(document.body&&(Mm||h.size>0||d!==Qf||!Ys||!Ys.isConnected)){for(let x of h)Kf.add(x);Mm=!1,Qf=d,self[Eo]=Array.from(h).join(" ");let{css:y}=await(0,c0.default)([(0,Gf.default)({...window[Ul].config,_hash:Jf,content:{files:[Eo],extract:{html:x=>x.split(" ")}},plugins:[...Ol.default,...Array.isArray(window[Ul].config.plugins)?window[Ul].config.plugins:[]]}),(0,u0.default)({remove:!1})]).process(`@tailwind base;@tailwind components;@tailwind utilities;${d}`);(!Ys||!Ys.isConnected)&&(Ys=document.createElement("style"),document.head.append(Ys)),Ys.textContent=y}}})();/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 *//*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 *//*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 *//*! https://mths.be/cssesc v3.0.0 by @mathias */console.log("[index.tsx] Starting app initialization...");const q_=document.getElementById("root");if(!q_)throw console.error("[index.tsx] Root element not found!"),new Error("Could not find root element to mount to");console.log("[index.tsx] Root element found, creating React root...");const z4=aS.createRoot(q_);console.log("[index.tsx] Rendering App component...");z4.render(m.jsx($b.StrictMode,{children:m.jsx($4,{})}));console.log("[index.tsx] App rendered successfully");
