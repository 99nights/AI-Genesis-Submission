Collections

users: every Supabase users.id gets a point (userId, role flags, displayName, contact info). This lets you filter other collections by user relationships.
products: canonical product definitions that can be re-used across shops. Each point holds:
productId (UUID or slug), name, manufacturer, category, description.
defaultSupplierId, globalBuyPrice, globalSellPrice.




images: array of best-found URLs plus OCR snapshots.
embedding: text/image blend so you can do semantic search (“energy drink 250ml”).
audit: JSON array of who created the definition and when.
items (inventory): one point per stock record per shop.
inventoryUuid (UUID generated when you add it), shopId, productId, batchId, supplierId, buyPrice, sellPrice, quantity, expiration, location, status.
images: OCR crops or user-uploaded photos.
scanMetadata: { ocrText, confidence, sourcePhotoId } for audit.
createdByUserId, createdAt, updatedAt.
batches: ties replenishment events to suppliers.
batchId, shopId, supplierId, deliveryDate, invoiceNumber, documents (pdf links/ocr).
lineItems: list of { productId, quantity, cost }.
sales: each sale or POS event.
saleId, shopId, timestamp, items[{inventoryUuid, productId, qty, price}], customerId (optional), paymentMethod.
suppliers: supplier profiles (name, contact, reliability score, usual lead time). Link supplierId back to Supabase users if they register.